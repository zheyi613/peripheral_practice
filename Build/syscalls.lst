ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"syscalls.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.bss.heap_end.0,"aw",%nobits
  18              		.align	2
  21              	heap_end.0:
  22 0000 00000000 		.space	4
  23              		.section	.text._sbrk,"ax",%progbits
  24              		.align	1
  25              		.global	_sbrk
  26              		.syntax unified
  27              		.thumb
  28              		.thumb_func
  30              	_sbrk:
  31              	.LFB25:
  32              		.file 1 "./Src/syscalls.c"
   1:./Src/syscalls.c **** /* Support files for GNU libc.  Files in the system namespace go here.
   2:./Src/syscalls.c ****    Files in the C namespace (ie those that do not start with an
   3:./Src/syscalls.c ****    underscore) go in .c.  */
   4:./Src/syscalls.c **** 
   5:./Src/syscalls.c **** //#include <_ansi.h>
   6:./Src/syscalls.c **** #include <sys/types.h>
   7:./Src/syscalls.c **** #include <sys/stat.h>
   8:./Src/syscalls.c **** #include <sys/fcntl.h>
   9:./Src/syscalls.c **** #include <stdio.h>
  10:./Src/syscalls.c **** #include <string.h>
  11:./Src/syscalls.c **** #include <time.h>
  12:./Src/syscalls.c **** #include <sys/time.h>
  13:./Src/syscalls.c **** #include <sys/times.h>
  14:./Src/syscalls.c **** #include <errno.h>
  15:./Src/syscalls.c **** //#include <reent.h>
  16:./Src/syscalls.c **** #include <unistd.h>
  17:./Src/syscalls.c **** #include <sys/wait.h>
  18:./Src/syscalls.c **** 
  19:./Src/syscalls.c **** #undef errno
  20:./Src/syscalls.c **** extern int errno;
  21:./Src/syscalls.c **** 
  22:./Src/syscalls.c **** #define MAX_STACK_SIZE 0x2000
  23:./Src/syscalls.c **** 
  24:./Src/syscalls.c **** extern int __io_putchar(int ch) __attribute__((weak));
  25:./Src/syscalls.c **** extern int __io_getchar(void) __attribute__((weak));
  26:./Src/syscalls.c **** 
  27:./Src/syscalls.c **** #ifndef FreeRTOS
  28:./Src/syscalls.c **** register char* stack_ptr asm("sp");
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 2


  29:./Src/syscalls.c **** #endif
  30:./Src/syscalls.c **** 
  31:./Src/syscalls.c **** caddr_t _sbrk(int incr) {
  33              		.loc 1 31 25
  34              		.cfi_startproc
  35              		@ args = 0, pretend = 0, frame = 16
  36              		@ frame_needed = 1, uses_anonymous_args = 0
  37              		@ link register save eliminated.
  38 0000 80B4     		push	{r7}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 4
  41              		.cfi_offset 7, -4
  42 0002 85B0     		sub	sp, sp, #20
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 24
  45 0004 00AF     		add	r7, sp, #0
  46              	.LCFI2:
  47              		.cfi_def_cfa_register 7
  48 0006 7860     		str	r0, [r7, #4]
  32:./Src/syscalls.c ****   extern char end asm("end");
  33:./Src/syscalls.c ****   static char* heap_end;
  34:./Src/syscalls.c ****   char* prev_heap_end, *min_stack_ptr;
  35:./Src/syscalls.c **** 
  36:./Src/syscalls.c ****   if (heap_end == 0) {
  49              		.loc 1 36 16
  50 0008 114B     		ldr	r3, .L5
  51 000a 1B68     		ldr	r3, [r3]
  52              		.loc 1 36 6
  53 000c 002B     		cmp	r3, #0
  54 000e 02D1     		bne	.L2
  37:./Src/syscalls.c ****     heap_end = &end;
  55              		.loc 1 37 14
  56 0010 0F4B     		ldr	r3, .L5
  57 0012 104A     		ldr	r2, .L5+4
  58 0014 1A60     		str	r2, [r3]
  59              	.L2:
  38:./Src/syscalls.c ****   }
  39:./Src/syscalls.c **** 
  40:./Src/syscalls.c ****   prev_heap_end = heap_end;
  60              		.loc 1 40 17
  61 0016 0E4B     		ldr	r3, .L5
  62 0018 1B68     		ldr	r3, [r3]
  63 001a FB60     		str	r3, [r7, #12]
  41:./Src/syscalls.c **** 
  42:./Src/syscalls.c **** #ifdef FreeRTOS
  43:./Src/syscalls.c ****   /* Use the NVIC offset register to locate the main stack pointer. */
  44:./Src/syscalls.c ****   min_stack_ptr = (char*)(*(unsigned int*) * (unsigned int*)0xE000ED08);
  45:./Src/syscalls.c ****   /* Locate the STACK bottom address */
  46:./Src/syscalls.c ****   min_stack_ptr -= MAX_STACK_SIZE;
  47:./Src/syscalls.c **** 
  48:./Src/syscalls.c ****   if (heap_end + incr > min_stack_ptr)
  49:./Src/syscalls.c **** #else
  50:./Src/syscalls.c ****   if (heap_end + incr > stack_ptr)
  64              		.loc 1 50 16
  65 001c 0C4B     		ldr	r3, .L5
  66 001e 1A68     		ldr	r2, [r3]
  67 0020 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 3


  68 0022 1344     		add	r3, r3, r2
  69              		.loc 1 50 23
  70 0024 6A46     		mov	r2, sp
  71              		.loc 1 50 6
  72 0026 9342     		cmp	r3, r2
  73 0028 05D9     		bls	.L3
  51:./Src/syscalls.c **** #endif
  52:./Src/syscalls.c ****   {
  53:./Src/syscalls.c **** //		write(1, "Heap and stack collision\n", 25);
  54:./Src/syscalls.c **** //		abort();
  55:./Src/syscalls.c ****     errno = ENOMEM;
  74              		.loc 1 55 11
  75 002a 0B4B     		ldr	r3, .L5+8
  76 002c 0C22     		movs	r2, #12
  77 002e 1A60     		str	r2, [r3]
  56:./Src/syscalls.c ****     return (caddr_t) - 1;
  78              		.loc 1 56 12
  79 0030 4FF0FF33 		mov	r3, #-1
  80 0034 06E0     		b	.L4
  81              	.L3:
  57:./Src/syscalls.c ****   }
  58:./Src/syscalls.c **** 
  59:./Src/syscalls.c ****   heap_end += incr;
  82              		.loc 1 59 12
  83 0036 064B     		ldr	r3, .L5
  84 0038 1A68     		ldr	r2, [r3]
  85 003a 7B68     		ldr	r3, [r7, #4]
  86 003c 1344     		add	r3, r3, r2
  87 003e 044A     		ldr	r2, .L5
  88 0040 1360     		str	r3, [r2]
  60:./Src/syscalls.c **** 
  61:./Src/syscalls.c ****   return (caddr_t) prev_heap_end;
  89              		.loc 1 61 10
  90 0042 FB68     		ldr	r3, [r7, #12]
  91              	.L4:
  62:./Src/syscalls.c **** }
  92              		.loc 1 62 1
  93 0044 1846     		mov	r0, r3
  94 0046 1437     		adds	r7, r7, #20
  95              	.LCFI3:
  96              		.cfi_def_cfa_offset 4
  97 0048 BD46     		mov	sp, r7
  98              	.LCFI4:
  99              		.cfi_def_cfa_register 13
 100              		@ sp needed
 101 004a 80BC     		pop	{r7}
 102              	.LCFI5:
 103              		.cfi_restore 7
 104              		.cfi_def_cfa_offset 0
 105 004c 7047     		bx	lr
 106              	.L6:
 107 004e 00BF     		.align	2
 108              	.L5:
 109 0050 00000000 		.word	heap_end.0
 110 0054 00000000 		.word	end
 111 0058 00000000 		.word	errno
 112              		.cfi_endproc
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 4


 113              	.LFE25:
 115              		.section	.text._gettimeofday,"ax",%progbits
 116              		.align	1
 117              		.global	_gettimeofday
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 122              	_gettimeofday:
 123              	.LFB26:
  63:./Src/syscalls.c **** 
  64:./Src/syscalls.c **** /*
  65:./Src/syscalls.c ****  * _gettimeofday primitive (Stub function)
  66:./Src/syscalls.c ****  * */
  67:./Src/syscalls.c **** int _gettimeofday (struct timeval* tp, struct timezone* tzp) {
 124              		.loc 1 67 62
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 8
 127              		@ frame_needed = 1, uses_anonymous_args = 0
 128              		@ link register save eliminated.
 129 0000 80B4     		push	{r7}
 130              	.LCFI6:
 131              		.cfi_def_cfa_offset 4
 132              		.cfi_offset 7, -4
 133 0002 83B0     		sub	sp, sp, #12
 134              	.LCFI7:
 135              		.cfi_def_cfa_offset 16
 136 0004 00AF     		add	r7, sp, #0
 137              	.LCFI8:
 138              		.cfi_def_cfa_register 7
 139 0006 7860     		str	r0, [r7, #4]
 140 0008 3960     		str	r1, [r7]
  68:./Src/syscalls.c ****   /* Return fixed data for the timezone.  */
  69:./Src/syscalls.c ****   if (tzp) {
 141              		.loc 1 69 6
 142 000a 3B68     		ldr	r3, [r7]
 143 000c 002B     		cmp	r3, #0
 144 000e 05D0     		beq	.L8
  70:./Src/syscalls.c ****     tzp->tz_minuteswest = 0;
 145              		.loc 1 70 25
 146 0010 3B68     		ldr	r3, [r7]
 147 0012 0022     		movs	r2, #0
 148 0014 1A60     		str	r2, [r3]
  71:./Src/syscalls.c ****     tzp->tz_dsttime = 0;
 149              		.loc 1 71 21
 150 0016 3B68     		ldr	r3, [r7]
 151 0018 0022     		movs	r2, #0
 152 001a 5A60     		str	r2, [r3, #4]
 153              	.L8:
  72:./Src/syscalls.c ****   }
  73:./Src/syscalls.c **** 
  74:./Src/syscalls.c ****   return 0;
 154              		.loc 1 74 10
 155 001c 0023     		movs	r3, #0
  75:./Src/syscalls.c **** }
 156              		.loc 1 75 1
 157 001e 1846     		mov	r0, r3
 158 0020 0C37     		adds	r7, r7, #12
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 5


 159              	.LCFI9:
 160              		.cfi_def_cfa_offset 4
 161 0022 BD46     		mov	sp, r7
 162              	.LCFI10:
 163              		.cfi_def_cfa_register 13
 164              		@ sp needed
 165 0024 80BC     		pop	{r7}
 166              	.LCFI11:
 167              		.cfi_restore 7
 168              		.cfi_def_cfa_offset 0
 169 0026 7047     		bx	lr
 170              		.cfi_endproc
 171              	.LFE26:
 173              		.section	.text.initialise_monitor_handles,"ax",%progbits
 174              		.align	1
 175              		.global	initialise_monitor_handles
 176              		.syntax unified
 177              		.thumb
 178              		.thumb_func
 180              	initialise_monitor_handles:
 181              	.LFB27:
  76:./Src/syscalls.c **** void initialise_monitor_handles() {
 182              		.loc 1 76 35
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 1, uses_anonymous_args = 0
 186              		@ link register save eliminated.
 187 0000 80B4     		push	{r7}
 188              	.LCFI12:
 189              		.cfi_def_cfa_offset 4
 190              		.cfi_offset 7, -4
 191 0002 00AF     		add	r7, sp, #0
 192              	.LCFI13:
 193              		.cfi_def_cfa_register 7
  77:./Src/syscalls.c **** }
 194              		.loc 1 77 1
 195 0004 00BF     		nop
 196 0006 BD46     		mov	sp, r7
 197              	.LCFI14:
 198              		.cfi_def_cfa_register 13
 199              		@ sp needed
 200 0008 80BC     		pop	{r7}
 201              	.LCFI15:
 202              		.cfi_restore 7
 203              		.cfi_def_cfa_offset 0
 204 000a 7047     		bx	lr
 205              		.cfi_endproc
 206              	.LFE27:
 208              		.section	.text._getpid,"ax",%progbits
 209              		.align	1
 210              		.global	_getpid
 211              		.syntax unified
 212              		.thumb
 213              		.thumb_func
 215              	_getpid:
 216              	.LFB28:
  78:./Src/syscalls.c **** 
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 6


  79:./Src/syscalls.c **** int _getpid(void) {
 217              		.loc 1 79 19
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 0
 220              		@ frame_needed = 1, uses_anonymous_args = 0
 221              		@ link register save eliminated.
 222 0000 80B4     		push	{r7}
 223              	.LCFI16:
 224              		.cfi_def_cfa_offset 4
 225              		.cfi_offset 7, -4
 226 0002 00AF     		add	r7, sp, #0
 227              	.LCFI17:
 228              		.cfi_def_cfa_register 7
  80:./Src/syscalls.c ****   return 1;
 229              		.loc 1 80 10
 230 0004 0123     		movs	r3, #1
  81:./Src/syscalls.c **** }
 231              		.loc 1 81 1
 232 0006 1846     		mov	r0, r3
 233 0008 BD46     		mov	sp, r7
 234              	.LCFI18:
 235              		.cfi_def_cfa_register 13
 236              		@ sp needed
 237 000a 80BC     		pop	{r7}
 238              	.LCFI19:
 239              		.cfi_restore 7
 240              		.cfi_def_cfa_offset 0
 241 000c 7047     		bx	lr
 242              		.cfi_endproc
 243              	.LFE28:
 245              		.section	.text._kill,"ax",%progbits
 246              		.align	1
 247              		.global	_kill
 248              		.syntax unified
 249              		.thumb
 250              		.thumb_func
 252              	_kill:
 253              	.LFB29:
  82:./Src/syscalls.c **** 
  83:./Src/syscalls.c **** int _kill(int pid, int sig) {
 254              		.loc 1 83 29
 255              		.cfi_startproc
 256              		@ args = 0, pretend = 0, frame = 8
 257              		@ frame_needed = 1, uses_anonymous_args = 0
 258              		@ link register save eliminated.
 259 0000 80B4     		push	{r7}
 260              	.LCFI20:
 261              		.cfi_def_cfa_offset 4
 262              		.cfi_offset 7, -4
 263 0002 83B0     		sub	sp, sp, #12
 264              	.LCFI21:
 265              		.cfi_def_cfa_offset 16
 266 0004 00AF     		add	r7, sp, #0
 267              	.LCFI22:
 268              		.cfi_def_cfa_register 7
 269 0006 7860     		str	r0, [r7, #4]
 270 0008 3960     		str	r1, [r7]
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 7


  84:./Src/syscalls.c ****   errno = EINVAL;
 271              		.loc 1 84 9
 272 000a 054B     		ldr	r3, .L15
 273 000c 1622     		movs	r2, #22
 274 000e 1A60     		str	r2, [r3]
  85:./Src/syscalls.c ****   return -1;
 275              		.loc 1 85 10
 276 0010 4FF0FF33 		mov	r3, #-1
  86:./Src/syscalls.c **** }
 277              		.loc 1 86 1
 278 0014 1846     		mov	r0, r3
 279 0016 0C37     		adds	r7, r7, #12
 280              	.LCFI23:
 281              		.cfi_def_cfa_offset 4
 282 0018 BD46     		mov	sp, r7
 283              	.LCFI24:
 284              		.cfi_def_cfa_register 13
 285              		@ sp needed
 286 001a 80BC     		pop	{r7}
 287              	.LCFI25:
 288              		.cfi_restore 7
 289              		.cfi_def_cfa_offset 0
 290 001c 7047     		bx	lr
 291              	.L16:
 292 001e 00BF     		.align	2
 293              	.L15:
 294 0020 00000000 		.word	errno
 295              		.cfi_endproc
 296              	.LFE29:
 298              		.section	.text._exit,"ax",%progbits
 299              		.align	1
 300              		.global	_exit
 301              		.syntax unified
 302              		.thumb
 303              		.thumb_func
 305              	_exit:
 306              	.LFB30:
  87:./Src/syscalls.c **** 
  88:./Src/syscalls.c **** void _exit (int status) {
 307              		.loc 1 88 25
 308              		.cfi_startproc
 309              		@ args = 0, pretend = 0, frame = 8
 310              		@ frame_needed = 1, uses_anonymous_args = 0
 311 0000 80B5     		push	{r7, lr}
 312              	.LCFI26:
 313              		.cfi_def_cfa_offset 8
 314              		.cfi_offset 7, -8
 315              		.cfi_offset 14, -4
 316 0002 82B0     		sub	sp, sp, #8
 317              	.LCFI27:
 318              		.cfi_def_cfa_offset 16
 319 0004 00AF     		add	r7, sp, #0
 320              	.LCFI28:
 321              		.cfi_def_cfa_register 7
 322 0006 7860     		str	r0, [r7, #4]
  89:./Src/syscalls.c ****   _kill(status, -1);
 323              		.loc 1 89 3
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 8


 324 0008 4FF0FF31 		mov	r1, #-1
 325 000c 7868     		ldr	r0, [r7, #4]
 326 000e FFF7FEFF 		bl	_kill
 327              	.L18:
  90:./Src/syscalls.c ****   while (1) {}
 328              		.loc 1 90 9 discriminator 1
 329 0012 FEE7     		b	.L18
 330              		.cfi_endproc
 331              	.LFE30:
 333              		.section	.text._write,"ax",%progbits
 334              		.align	1
 335              		.global	_write
 336              		.syntax unified
 337              		.thumb
 338              		.thumb_func
 340              	_write:
 341              	.LFB31:
  91:./Src/syscalls.c **** }
  92:./Src/syscalls.c **** 
  93:./Src/syscalls.c **** int _write(int file, char* ptr, int len) {
 342              		.loc 1 93 42
 343              		.cfi_startproc
 344              		@ args = 0, pretend = 0, frame = 24
 345              		@ frame_needed = 1, uses_anonymous_args = 0
 346 0000 80B5     		push	{r7, lr}
 347              	.LCFI29:
 348              		.cfi_def_cfa_offset 8
 349              		.cfi_offset 7, -8
 350              		.cfi_offset 14, -4
 351 0002 86B0     		sub	sp, sp, #24
 352              	.LCFI30:
 353              		.cfi_def_cfa_offset 32
 354 0004 00AF     		add	r7, sp, #0
 355              	.LCFI31:
 356              		.cfi_def_cfa_register 7
 357 0006 F860     		str	r0, [r7, #12]
 358 0008 B960     		str	r1, [r7, #8]
 359 000a 7A60     		str	r2, [r7, #4]
  94:./Src/syscalls.c ****   int DataIdx;
  95:./Src/syscalls.c **** 
  96:./Src/syscalls.c ****   for (DataIdx = 0; DataIdx < len; DataIdx++) {
 360              		.loc 1 96 16
 361 000c 0023     		movs	r3, #0
 362 000e 7B61     		str	r3, [r7, #20]
 363              		.loc 1 96 3
 364 0010 09E0     		b	.L20
 365              	.L21:
  97:./Src/syscalls.c ****     __io_putchar( *ptr++ );
 366              		.loc 1 97 23 discriminator 3
 367 0012 BB68     		ldr	r3, [r7, #8]
 368 0014 5A1C     		adds	r2, r3, #1
 369 0016 BA60     		str	r2, [r7, #8]
 370              		.loc 1 97 19 discriminator 3
 371 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 372              		.loc 1 97 5 discriminator 3
 373 001a 1846     		mov	r0, r3
 374 001c FFF7FEFF 		bl	__io_putchar
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 9


  96:./Src/syscalls.c ****     __io_putchar( *ptr++ );
 375              		.loc 1 96 43 discriminator 3
 376 0020 7B69     		ldr	r3, [r7, #20]
 377 0022 0133     		adds	r3, r3, #1
 378 0024 7B61     		str	r3, [r7, #20]
 379              	.L20:
  96:./Src/syscalls.c ****     __io_putchar( *ptr++ );
 380              		.loc 1 96 3 discriminator 1
 381 0026 7A69     		ldr	r2, [r7, #20]
 382 0028 7B68     		ldr	r3, [r7, #4]
 383 002a 9A42     		cmp	r2, r3
 384 002c F1DB     		blt	.L21
  98:./Src/syscalls.c ****   }
  99:./Src/syscalls.c ****   return len;
 385              		.loc 1 99 10
 386 002e 7B68     		ldr	r3, [r7, #4]
 100:./Src/syscalls.c **** }
 387              		.loc 1 100 1
 388 0030 1846     		mov	r0, r3
 389 0032 1837     		adds	r7, r7, #24
 390              	.LCFI32:
 391              		.cfi_def_cfa_offset 8
 392 0034 BD46     		mov	sp, r7
 393              	.LCFI33:
 394              		.cfi_def_cfa_register 13
 395              		@ sp needed
 396 0036 80BD     		pop	{r7, pc}
 397              		.cfi_endproc
 398              	.LFE31:
 400              		.section	.text._close,"ax",%progbits
 401              		.align	1
 402              		.global	_close
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 407              	_close:
 408              	.LFB32:
 101:./Src/syscalls.c **** 
 102:./Src/syscalls.c **** int _close(int file) {
 409              		.loc 1 102 22
 410              		.cfi_startproc
 411              		@ args = 0, pretend = 0, frame = 8
 412              		@ frame_needed = 1, uses_anonymous_args = 0
 413              		@ link register save eliminated.
 414 0000 80B4     		push	{r7}
 415              	.LCFI34:
 416              		.cfi_def_cfa_offset 4
 417              		.cfi_offset 7, -4
 418 0002 83B0     		sub	sp, sp, #12
 419              	.LCFI35:
 420              		.cfi_def_cfa_offset 16
 421 0004 00AF     		add	r7, sp, #0
 422              	.LCFI36:
 423              		.cfi_def_cfa_register 7
 424 0006 7860     		str	r0, [r7, #4]
 103:./Src/syscalls.c ****   return -1;
 425              		.loc 1 103 10
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 10


 426 0008 4FF0FF33 		mov	r3, #-1
 104:./Src/syscalls.c **** }
 427              		.loc 1 104 1
 428 000c 1846     		mov	r0, r3
 429 000e 0C37     		adds	r7, r7, #12
 430              	.LCFI37:
 431              		.cfi_def_cfa_offset 4
 432 0010 BD46     		mov	sp, r7
 433              	.LCFI38:
 434              		.cfi_def_cfa_register 13
 435              		@ sp needed
 436 0012 80BC     		pop	{r7}
 437              	.LCFI39:
 438              		.cfi_restore 7
 439              		.cfi_def_cfa_offset 0
 440 0014 7047     		bx	lr
 441              		.cfi_endproc
 442              	.LFE32:
 444              		.section	.text._fstat,"ax",%progbits
 445              		.align	1
 446              		.global	_fstat
 447              		.syntax unified
 448              		.thumb
 449              		.thumb_func
 451              	_fstat:
 452              	.LFB33:
 105:./Src/syscalls.c **** 
 106:./Src/syscalls.c **** int _fstat(int file, struct stat* st) {
 453              		.loc 1 106 39
 454              		.cfi_startproc
 455              		@ args = 0, pretend = 0, frame = 8
 456              		@ frame_needed = 1, uses_anonymous_args = 0
 457              		@ link register save eliminated.
 458 0000 80B4     		push	{r7}
 459              	.LCFI40:
 460              		.cfi_def_cfa_offset 4
 461              		.cfi_offset 7, -4
 462 0002 83B0     		sub	sp, sp, #12
 463              	.LCFI41:
 464              		.cfi_def_cfa_offset 16
 465 0004 00AF     		add	r7, sp, #0
 466              	.LCFI42:
 467              		.cfi_def_cfa_register 7
 468 0006 7860     		str	r0, [r7, #4]
 469 0008 3960     		str	r1, [r7]
 107:./Src/syscalls.c ****   st->st_mode = S_IFCHR;
 470              		.loc 1 107 15
 471 000a 3B68     		ldr	r3, [r7]
 472 000c 4FF40052 		mov	r2, #8192
 473 0010 5A60     		str	r2, [r3, #4]
 108:./Src/syscalls.c ****   return 0;
 474              		.loc 1 108 10
 475 0012 0023     		movs	r3, #0
 109:./Src/syscalls.c **** }
 476              		.loc 1 109 1
 477 0014 1846     		mov	r0, r3
 478 0016 0C37     		adds	r7, r7, #12
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 11


 479              	.LCFI43:
 480              		.cfi_def_cfa_offset 4
 481 0018 BD46     		mov	sp, r7
 482              	.LCFI44:
 483              		.cfi_def_cfa_register 13
 484              		@ sp needed
 485 001a 80BC     		pop	{r7}
 486              	.LCFI45:
 487              		.cfi_restore 7
 488              		.cfi_def_cfa_offset 0
 489 001c 7047     		bx	lr
 490              		.cfi_endproc
 491              	.LFE33:
 493              		.section	.text._isatty,"ax",%progbits
 494              		.align	1
 495              		.global	_isatty
 496              		.syntax unified
 497              		.thumb
 498              		.thumb_func
 500              	_isatty:
 501              	.LFB34:
 110:./Src/syscalls.c **** 
 111:./Src/syscalls.c **** int _isatty(int file) {
 502              		.loc 1 111 23
 503              		.cfi_startproc
 504              		@ args = 0, pretend = 0, frame = 8
 505              		@ frame_needed = 1, uses_anonymous_args = 0
 506              		@ link register save eliminated.
 507 0000 80B4     		push	{r7}
 508              	.LCFI46:
 509              		.cfi_def_cfa_offset 4
 510              		.cfi_offset 7, -4
 511 0002 83B0     		sub	sp, sp, #12
 512              	.LCFI47:
 513              		.cfi_def_cfa_offset 16
 514 0004 00AF     		add	r7, sp, #0
 515              	.LCFI48:
 516              		.cfi_def_cfa_register 7
 517 0006 7860     		str	r0, [r7, #4]
 112:./Src/syscalls.c ****   return 1;
 518              		.loc 1 112 10
 519 0008 0123     		movs	r3, #1
 113:./Src/syscalls.c **** }
 520              		.loc 1 113 1
 521 000a 1846     		mov	r0, r3
 522 000c 0C37     		adds	r7, r7, #12
 523              	.LCFI49:
 524              		.cfi_def_cfa_offset 4
 525 000e BD46     		mov	sp, r7
 526              	.LCFI50:
 527              		.cfi_def_cfa_register 13
 528              		@ sp needed
 529 0010 80BC     		pop	{r7}
 530              	.LCFI51:
 531              		.cfi_restore 7
 532              		.cfi_def_cfa_offset 0
 533 0012 7047     		bx	lr
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 12


 534              		.cfi_endproc
 535              	.LFE34:
 537              		.section	.text._lseek,"ax",%progbits
 538              		.align	1
 539              		.global	_lseek
 540              		.syntax unified
 541              		.thumb
 542              		.thumb_func
 544              	_lseek:
 545              	.LFB35:
 114:./Src/syscalls.c **** 
 115:./Src/syscalls.c **** int _lseek(int file, int ptr, int dir) {
 546              		.loc 1 115 40
 547              		.cfi_startproc
 548              		@ args = 0, pretend = 0, frame = 16
 549              		@ frame_needed = 1, uses_anonymous_args = 0
 550              		@ link register save eliminated.
 551 0000 80B4     		push	{r7}
 552              	.LCFI52:
 553              		.cfi_def_cfa_offset 4
 554              		.cfi_offset 7, -4
 555 0002 85B0     		sub	sp, sp, #20
 556              	.LCFI53:
 557              		.cfi_def_cfa_offset 24
 558 0004 00AF     		add	r7, sp, #0
 559              	.LCFI54:
 560              		.cfi_def_cfa_register 7
 561 0006 F860     		str	r0, [r7, #12]
 562 0008 B960     		str	r1, [r7, #8]
 563 000a 7A60     		str	r2, [r7, #4]
 116:./Src/syscalls.c ****   return 0;
 564              		.loc 1 116 10
 565 000c 0023     		movs	r3, #0
 117:./Src/syscalls.c **** }
 566              		.loc 1 117 1
 567 000e 1846     		mov	r0, r3
 568 0010 1437     		adds	r7, r7, #20
 569              	.LCFI55:
 570              		.cfi_def_cfa_offset 4
 571 0012 BD46     		mov	sp, r7
 572              	.LCFI56:
 573              		.cfi_def_cfa_register 13
 574              		@ sp needed
 575 0014 80BC     		pop	{r7}
 576              	.LCFI57:
 577              		.cfi_restore 7
 578              		.cfi_def_cfa_offset 0
 579 0016 7047     		bx	lr
 580              		.cfi_endproc
 581              	.LFE35:
 583              		.section	.text._read,"ax",%progbits
 584              		.align	1
 585              		.global	_read
 586              		.syntax unified
 587              		.thumb
 588              		.thumb_func
 590              	_read:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 13


 591              	.LFB36:
 118:./Src/syscalls.c **** 
 119:./Src/syscalls.c **** int _read(int file, char* ptr, int len) {
 592              		.loc 1 119 41
 593              		.cfi_startproc
 594              		@ args = 0, pretend = 0, frame = 24
 595              		@ frame_needed = 1, uses_anonymous_args = 0
 596 0000 80B5     		push	{r7, lr}
 597              	.LCFI58:
 598              		.cfi_def_cfa_offset 8
 599              		.cfi_offset 7, -8
 600              		.cfi_offset 14, -4
 601 0002 86B0     		sub	sp, sp, #24
 602              	.LCFI59:
 603              		.cfi_def_cfa_offset 32
 604 0004 00AF     		add	r7, sp, #0
 605              	.LCFI60:
 606              		.cfi_def_cfa_register 7
 607 0006 F860     		str	r0, [r7, #12]
 608 0008 B960     		str	r1, [r7, #8]
 609 000a 7A60     		str	r2, [r7, #4]
 120:./Src/syscalls.c ****   int DataIdx;
 121:./Src/syscalls.c **** 
 122:./Src/syscalls.c ****   for (DataIdx = 0; DataIdx < len; DataIdx++) {
 610              		.loc 1 122 16
 611 000c 0023     		movs	r3, #0
 612 000e 7B61     		str	r3, [r7, #20]
 613              		.loc 1 122 3
 614 0010 13E0     		b	.L32
 615              	.L35:
 123:./Src/syscalls.c ****     *ptr = __io_getchar();
 616              		.loc 1 123 12
 617 0012 FFF7FEFF 		bl	__io_getchar
 618 0016 0346     		mov	r3, r0
 619              		.loc 1 123 10
 620 0018 DAB2     		uxtb	r2, r3
 621 001a BB68     		ldr	r3, [r7, #8]
 622 001c 1A70     		strb	r2, [r3]
 124:./Src/syscalls.c ****     if(*ptr == '\r') break;
 623              		.loc 1 124 8
 624 001e BB68     		ldr	r3, [r7, #8]
 625 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 626              		.loc 1 124 7
 627 0022 0D2B     		cmp	r3, #13
 628 0024 0ED0     		beq	.L37
 125:./Src/syscalls.c ****     __io_putchar( *ptr++ );
 629              		.loc 1 125 23 discriminator 2
 630 0026 BB68     		ldr	r3, [r7, #8]
 631 0028 5A1C     		adds	r2, r3, #1
 632 002a BA60     		str	r2, [r7, #8]
 633              		.loc 1 125 19 discriminator 2
 634 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 635              		.loc 1 125 5 discriminator 2
 636 002e 1846     		mov	r0, r3
 637 0030 FFF7FEFF 		bl	__io_putchar
 122:./Src/syscalls.c ****     *ptr = __io_getchar();
 638              		.loc 1 122 43 discriminator 2
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 14


 639 0034 7B69     		ldr	r3, [r7, #20]
 640 0036 0133     		adds	r3, r3, #1
 641 0038 7B61     		str	r3, [r7, #20]
 642              	.L32:
 122:./Src/syscalls.c ****     *ptr = __io_getchar();
 643              		.loc 1 122 3 discriminator 1
 644 003a 7A69     		ldr	r2, [r7, #20]
 645 003c 7B68     		ldr	r3, [r7, #4]
 646 003e 9A42     		cmp	r2, r3
 647 0040 E7DB     		blt	.L35
 648 0042 00E0     		b	.L34
 649              	.L37:
 124:./Src/syscalls.c ****     if(*ptr == '\r') break;
 650              		.loc 1 124 5
 651 0044 00BF     		nop
 652              	.L34:
 126:./Src/syscalls.c ****   }
 127:./Src/syscalls.c ****   __io_putchar('\n');
 653              		.loc 1 127 3
 654 0046 0A20     		movs	r0, #10
 655 0048 FFF7FEFF 		bl	__io_putchar
 128:./Src/syscalls.c ****   __io_putchar('\r');
 656              		.loc 1 128 3
 657 004c 0D20     		movs	r0, #13
 658 004e FFF7FEFF 		bl	__io_putchar
 129:./Src/syscalls.c ****   return len;
 659              		.loc 1 129 10
 660 0052 7B68     		ldr	r3, [r7, #4]
 130:./Src/syscalls.c **** }
 661              		.loc 1 130 1
 662 0054 1846     		mov	r0, r3
 663 0056 1837     		adds	r7, r7, #24
 664              	.LCFI61:
 665              		.cfi_def_cfa_offset 8
 666 0058 BD46     		mov	sp, r7
 667              	.LCFI62:
 668              		.cfi_def_cfa_register 13
 669              		@ sp needed
 670 005a 80BD     		pop	{r7, pc}
 671              		.cfi_endproc
 672              	.LFE36:
 674              		.section	.text._open,"ax",%progbits
 675              		.align	1
 676              		.global	_open
 677              		.syntax unified
 678              		.thumb
 679              		.thumb_func
 681              	_open:
 682              	.LFB37:
 131:./Src/syscalls.c **** 
 132:./Src/syscalls.c **** int _open(char* path, int flags, ...) {
 683              		.loc 1 132 39
 684              		.cfi_startproc
 685              		@ args = 4, pretend = 12, frame = 8
 686              		@ frame_needed = 1, uses_anonymous_args = 1
 687              		@ link register save eliminated.
 688 0000 0EB4     		push	{r1, r2, r3}
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 15


 689              	.LCFI63:
 690              		.cfi_def_cfa_offset 12
 691              		.cfi_offset 1, -12
 692              		.cfi_offset 2, -8
 693              		.cfi_offset 3, -4
 694 0002 80B4     		push	{r7}
 695              	.LCFI64:
 696              		.cfi_def_cfa_offset 16
 697              		.cfi_offset 7, -16
 698 0004 82B0     		sub	sp, sp, #8
 699              	.LCFI65:
 700              		.cfi_def_cfa_offset 24
 701 0006 00AF     		add	r7, sp, #0
 702              	.LCFI66:
 703              		.cfi_def_cfa_register 7
 704 0008 7860     		str	r0, [r7, #4]
 133:./Src/syscalls.c ****   /* Pretend like we always fail */
 134:./Src/syscalls.c ****   return -1;
 705              		.loc 1 134 10
 706 000a 4FF0FF33 		mov	r3, #-1
 135:./Src/syscalls.c **** }
 707              		.loc 1 135 1
 708 000e 1846     		mov	r0, r3
 709 0010 0837     		adds	r7, r7, #8
 710              	.LCFI67:
 711              		.cfi_def_cfa_offset 16
 712 0012 BD46     		mov	sp, r7
 713              	.LCFI68:
 714              		.cfi_def_cfa_register 13
 715              		@ sp needed
 716 0014 80BC     		pop	{r7}
 717              	.LCFI69:
 718              		.cfi_restore 7
 719              		.cfi_def_cfa_offset 12
 720 0016 03B0     		add	sp, sp, #12
 721              	.LCFI70:
 722              		.cfi_restore 3
 723              		.cfi_restore 2
 724              		.cfi_restore 1
 725              		.cfi_def_cfa_offset 0
 726 0018 7047     		bx	lr
 727              		.cfi_endproc
 728              	.LFE37:
 730              		.section	.text._wait,"ax",%progbits
 731              		.align	1
 732              		.global	_wait
 733              		.syntax unified
 734              		.thumb
 735              		.thumb_func
 737              	_wait:
 738              	.LFB38:
 136:./Src/syscalls.c **** 
 137:./Src/syscalls.c **** int _wait(int* status) {
 739              		.loc 1 137 24
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 8
 742              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 16


 743              		@ link register save eliminated.
 744 0000 80B4     		push	{r7}
 745              	.LCFI71:
 746              		.cfi_def_cfa_offset 4
 747              		.cfi_offset 7, -4
 748 0002 83B0     		sub	sp, sp, #12
 749              	.LCFI72:
 750              		.cfi_def_cfa_offset 16
 751 0004 00AF     		add	r7, sp, #0
 752              	.LCFI73:
 753              		.cfi_def_cfa_register 7
 754 0006 7860     		str	r0, [r7, #4]
 138:./Src/syscalls.c ****   errno = ECHILD;
 755              		.loc 1 138 9
 756 0008 044B     		ldr	r3, .L42
 757 000a 0A22     		movs	r2, #10
 758 000c 1A60     		str	r2, [r3]
 139:./Src/syscalls.c ****   return -1;
 759              		.loc 1 139 10
 760 000e 4FF0FF33 		mov	r3, #-1
 140:./Src/syscalls.c **** }
 761              		.loc 1 140 1
 762 0012 1846     		mov	r0, r3
 763 0014 0C37     		adds	r7, r7, #12
 764              	.LCFI74:
 765              		.cfi_def_cfa_offset 4
 766 0016 BD46     		mov	sp, r7
 767              	.LCFI75:
 768              		.cfi_def_cfa_register 13
 769              		@ sp needed
 770 0018 80BC     		pop	{r7}
 771              	.LCFI76:
 772              		.cfi_restore 7
 773              		.cfi_def_cfa_offset 0
 774 001a 7047     		bx	lr
 775              	.L43:
 776              		.align	2
 777              	.L42:
 778 001c 00000000 		.word	errno
 779              		.cfi_endproc
 780              	.LFE38:
 782              		.section	.text._unlink,"ax",%progbits
 783              		.align	1
 784              		.global	_unlink
 785              		.syntax unified
 786              		.thumb
 787              		.thumb_func
 789              	_unlink:
 790              	.LFB39:
 141:./Src/syscalls.c **** 
 142:./Src/syscalls.c **** int _unlink(char* name) {
 791              		.loc 1 142 25
 792              		.cfi_startproc
 793              		@ args = 0, pretend = 0, frame = 8
 794              		@ frame_needed = 1, uses_anonymous_args = 0
 795              		@ link register save eliminated.
 796 0000 80B4     		push	{r7}
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 17


 797              	.LCFI77:
 798              		.cfi_def_cfa_offset 4
 799              		.cfi_offset 7, -4
 800 0002 83B0     		sub	sp, sp, #12
 801              	.LCFI78:
 802              		.cfi_def_cfa_offset 16
 803 0004 00AF     		add	r7, sp, #0
 804              	.LCFI79:
 805              		.cfi_def_cfa_register 7
 806 0006 7860     		str	r0, [r7, #4]
 143:./Src/syscalls.c ****   errno = ENOENT;
 807              		.loc 1 143 9
 808 0008 044B     		ldr	r3, .L46
 809 000a 0222     		movs	r2, #2
 810 000c 1A60     		str	r2, [r3]
 144:./Src/syscalls.c ****   return -1;
 811              		.loc 1 144 10
 812 000e 4FF0FF33 		mov	r3, #-1
 145:./Src/syscalls.c **** }
 813              		.loc 1 145 1
 814 0012 1846     		mov	r0, r3
 815 0014 0C37     		adds	r7, r7, #12
 816              	.LCFI80:
 817              		.cfi_def_cfa_offset 4
 818 0016 BD46     		mov	sp, r7
 819              	.LCFI81:
 820              		.cfi_def_cfa_register 13
 821              		@ sp needed
 822 0018 80BC     		pop	{r7}
 823              	.LCFI82:
 824              		.cfi_restore 7
 825              		.cfi_def_cfa_offset 0
 826 001a 7047     		bx	lr
 827              	.L47:
 828              		.align	2
 829              	.L46:
 830 001c 00000000 		.word	errno
 831              		.cfi_endproc
 832              	.LFE39:
 834              		.section	.text._times,"ax",%progbits
 835              		.align	1
 836              		.global	_times
 837              		.syntax unified
 838              		.thumb
 839              		.thumb_func
 841              	_times:
 842              	.LFB40:
 146:./Src/syscalls.c **** 
 147:./Src/syscalls.c **** int _times(struct tms* buf) {
 843              		.loc 1 147 29
 844              		.cfi_startproc
 845              		@ args = 0, pretend = 0, frame = 8
 846              		@ frame_needed = 1, uses_anonymous_args = 0
 847              		@ link register save eliminated.
 848 0000 80B4     		push	{r7}
 849              	.LCFI83:
 850              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 18


 851              		.cfi_offset 7, -4
 852 0002 83B0     		sub	sp, sp, #12
 853              	.LCFI84:
 854              		.cfi_def_cfa_offset 16
 855 0004 00AF     		add	r7, sp, #0
 856              	.LCFI85:
 857              		.cfi_def_cfa_register 7
 858 0006 7860     		str	r0, [r7, #4]
 148:./Src/syscalls.c ****   return -1;
 859              		.loc 1 148 10
 860 0008 4FF0FF33 		mov	r3, #-1
 149:./Src/syscalls.c **** }
 861              		.loc 1 149 1
 862 000c 1846     		mov	r0, r3
 863 000e 0C37     		adds	r7, r7, #12
 864              	.LCFI86:
 865              		.cfi_def_cfa_offset 4
 866 0010 BD46     		mov	sp, r7
 867              	.LCFI87:
 868              		.cfi_def_cfa_register 13
 869              		@ sp needed
 870 0012 80BC     		pop	{r7}
 871              	.LCFI88:
 872              		.cfi_restore 7
 873              		.cfi_def_cfa_offset 0
 874 0014 7047     		bx	lr
 875              		.cfi_endproc
 876              	.LFE40:
 878              		.section	.text._stat,"ax",%progbits
 879              		.align	1
 880              		.global	_stat
 881              		.syntax unified
 882              		.thumb
 883              		.thumb_func
 885              	_stat:
 886              	.LFB41:
 150:./Src/syscalls.c **** 
 151:./Src/syscalls.c **** int _stat(char* file, struct stat* st) {
 887              		.loc 1 151 40
 888              		.cfi_startproc
 889              		@ args = 0, pretend = 0, frame = 8
 890              		@ frame_needed = 1, uses_anonymous_args = 0
 891              		@ link register save eliminated.
 892 0000 80B4     		push	{r7}
 893              	.LCFI89:
 894              		.cfi_def_cfa_offset 4
 895              		.cfi_offset 7, -4
 896 0002 83B0     		sub	sp, sp, #12
 897              	.LCFI90:
 898              		.cfi_def_cfa_offset 16
 899 0004 00AF     		add	r7, sp, #0
 900              	.LCFI91:
 901              		.cfi_def_cfa_register 7
 902 0006 7860     		str	r0, [r7, #4]
 903 0008 3960     		str	r1, [r7]
 152:./Src/syscalls.c ****   st->st_mode = S_IFCHR;
 904              		.loc 1 152 15
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 19


 905 000a 3B68     		ldr	r3, [r7]
 906 000c 4FF40052 		mov	r2, #8192
 907 0010 5A60     		str	r2, [r3, #4]
 153:./Src/syscalls.c ****   return 0;
 908              		.loc 1 153 10
 909 0012 0023     		movs	r3, #0
 154:./Src/syscalls.c **** }
 910              		.loc 1 154 1
 911 0014 1846     		mov	r0, r3
 912 0016 0C37     		adds	r7, r7, #12
 913              	.LCFI92:
 914              		.cfi_def_cfa_offset 4
 915 0018 BD46     		mov	sp, r7
 916              	.LCFI93:
 917              		.cfi_def_cfa_register 13
 918              		@ sp needed
 919 001a 80BC     		pop	{r7}
 920              	.LCFI94:
 921              		.cfi_restore 7
 922              		.cfi_def_cfa_offset 0
 923 001c 7047     		bx	lr
 924              		.cfi_endproc
 925              	.LFE41:
 927              		.section	.text._link,"ax",%progbits
 928              		.align	1
 929              		.global	_link
 930              		.syntax unified
 931              		.thumb
 932              		.thumb_func
 934              	_link:
 935              	.LFB42:
 155:./Src/syscalls.c **** 
 156:./Src/syscalls.c **** int _link(char* old, char* new) {
 936              		.loc 1 156 33
 937              		.cfi_startproc
 938              		@ args = 0, pretend = 0, frame = 8
 939              		@ frame_needed = 1, uses_anonymous_args = 0
 940              		@ link register save eliminated.
 941 0000 80B4     		push	{r7}
 942              	.LCFI95:
 943              		.cfi_def_cfa_offset 4
 944              		.cfi_offset 7, -4
 945 0002 83B0     		sub	sp, sp, #12
 946              	.LCFI96:
 947              		.cfi_def_cfa_offset 16
 948 0004 00AF     		add	r7, sp, #0
 949              	.LCFI97:
 950              		.cfi_def_cfa_register 7
 951 0006 7860     		str	r0, [r7, #4]
 952 0008 3960     		str	r1, [r7]
 157:./Src/syscalls.c ****   errno = EMLINK;
 953              		.loc 1 157 9
 954 000a 054B     		ldr	r3, .L54
 955 000c 1F22     		movs	r2, #31
 956 000e 1A60     		str	r2, [r3]
 158:./Src/syscalls.c ****   return -1;
 957              		.loc 1 158 10
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 20


 958 0010 4FF0FF33 		mov	r3, #-1
 159:./Src/syscalls.c **** }
 959              		.loc 1 159 1
 960 0014 1846     		mov	r0, r3
 961 0016 0C37     		adds	r7, r7, #12
 962              	.LCFI98:
 963              		.cfi_def_cfa_offset 4
 964 0018 BD46     		mov	sp, r7
 965              	.LCFI99:
 966              		.cfi_def_cfa_register 13
 967              		@ sp needed
 968 001a 80BC     		pop	{r7}
 969              	.LCFI100:
 970              		.cfi_restore 7
 971              		.cfi_def_cfa_offset 0
 972 001c 7047     		bx	lr
 973              	.L55:
 974 001e 00BF     		.align	2
 975              	.L54:
 976 0020 00000000 		.word	errno
 977              		.cfi_endproc
 978              	.LFE42:
 980              		.section	.text._fork,"ax",%progbits
 981              		.align	1
 982              		.global	_fork
 983              		.syntax unified
 984              		.thumb
 985              		.thumb_func
 987              	_fork:
 988              	.LFB43:
 160:./Src/syscalls.c **** 
 161:./Src/syscalls.c **** int _fork(void) {
 989              		.loc 1 161 17
 990              		.cfi_startproc
 991              		@ args = 0, pretend = 0, frame = 0
 992              		@ frame_needed = 1, uses_anonymous_args = 0
 993              		@ link register save eliminated.
 994 0000 80B4     		push	{r7}
 995              	.LCFI101:
 996              		.cfi_def_cfa_offset 4
 997              		.cfi_offset 7, -4
 998 0002 00AF     		add	r7, sp, #0
 999              	.LCFI102:
 1000              		.cfi_def_cfa_register 7
 162:./Src/syscalls.c ****   errno = EAGAIN;
 1001              		.loc 1 162 9
 1002 0004 044B     		ldr	r3, .L58
 1003 0006 0B22     		movs	r2, #11
 1004 0008 1A60     		str	r2, [r3]
 163:./Src/syscalls.c ****   return -1;
 1005              		.loc 1 163 10
 1006 000a 4FF0FF33 		mov	r3, #-1
 164:./Src/syscalls.c **** }
 1007              		.loc 1 164 1
 1008 000e 1846     		mov	r0, r3
 1009 0010 BD46     		mov	sp, r7
 1010              	.LCFI103:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 21


 1011              		.cfi_def_cfa_register 13
 1012              		@ sp needed
 1013 0012 80BC     		pop	{r7}
 1014              	.LCFI104:
 1015              		.cfi_restore 7
 1016              		.cfi_def_cfa_offset 0
 1017 0014 7047     		bx	lr
 1018              	.L59:
 1019 0016 00BF     		.align	2
 1020              	.L58:
 1021 0018 00000000 		.word	errno
 1022              		.cfi_endproc
 1023              	.LFE43:
 1025              		.section	.text._execve,"ax",%progbits
 1026              		.align	1
 1027              		.global	_execve
 1028              		.syntax unified
 1029              		.thumb
 1030              		.thumb_func
 1032              	_execve:
 1033              	.LFB44:
 165:./Src/syscalls.c **** 
 166:./Src/syscalls.c **** int _execve(char* name, char** argv, char** env) {
 1034              		.loc 1 166 50
 1035              		.cfi_startproc
 1036              		@ args = 0, pretend = 0, frame = 16
 1037              		@ frame_needed = 1, uses_anonymous_args = 0
 1038              		@ link register save eliminated.
 1039 0000 80B4     		push	{r7}
 1040              	.LCFI105:
 1041              		.cfi_def_cfa_offset 4
 1042              		.cfi_offset 7, -4
 1043 0002 85B0     		sub	sp, sp, #20
 1044              	.LCFI106:
 1045              		.cfi_def_cfa_offset 24
 1046 0004 00AF     		add	r7, sp, #0
 1047              	.LCFI107:
 1048              		.cfi_def_cfa_register 7
 1049 0006 F860     		str	r0, [r7, #12]
 1050 0008 B960     		str	r1, [r7, #8]
 1051 000a 7A60     		str	r2, [r7, #4]
 167:./Src/syscalls.c ****   errno = ENOMEM;
 1052              		.loc 1 167 9
 1053 000c 044B     		ldr	r3, .L62
 1054 000e 0C22     		movs	r2, #12
 1055 0010 1A60     		str	r2, [r3]
 168:./Src/syscalls.c ****   return -1;
 1056              		.loc 1 168 10
 1057 0012 4FF0FF33 		mov	r3, #-1
 169:./Src/syscalls.c **** }...
 1058              		.loc 1 169 1
 1059 0016 1846     		mov	r0, r3
 1060 0018 1437     		adds	r7, r7, #20
 1061              	.LCFI108:
 1062              		.cfi_def_cfa_offset 4
 1063 001a BD46     		mov	sp, r7
 1064              	.LCFI109:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 22


 1065              		.cfi_def_cfa_register 13
 1066              		@ sp needed
 1067 001c 80BC     		pop	{r7}
 1068              	.LCFI110:
 1069              		.cfi_restore 7
 1070              		.cfi_def_cfa_offset 0
 1071 001e 7047     		bx	lr
 1072              	.L63:
 1073              		.align	2
 1074              	.L62:
 1075 0020 00000000 		.word	errno
 1076              		.cfi_endproc
 1077              	.LFE44:
 1079              		.weak	__io_getchar
 1080              		.weak	__io_putchar
 1081              		.text
 1082              	.Letext0:
 1083              		.file 2 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_types.h"
 1084              		.file 3 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_types.h"
 1085              		.file 4 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_timeval.h"
 1086              		.file 5 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_timespec.h"
 1087              		.file 6 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\types.h"
 1088              		.file 7 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\stat.h"
 1089              		.file 8 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\time.h"
 1090              		.file 9 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\times.h"
 1091              		.file 10 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\wait.h"
 1092              		.file 11 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\unistd.h"
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 syscalls.c
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:18     .bss.heap_end.0:00000000 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:21     .bss.heap_end.0:00000000 heap_end.0
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:24     .text._sbrk:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:30     .text._sbrk:00000000 _sbrk
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:109    .text._sbrk:00000050 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:116    .text._gettimeofday:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:122    .text._gettimeofday:00000000 _gettimeofday
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:174    .text.initialise_monitor_handles:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:180    .text.initialise_monitor_handles:00000000 initialise_monitor_handles
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:209    .text._getpid:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:215    .text._getpid:00000000 _getpid
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:246    .text._kill:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:252    .text._kill:00000000 _kill
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:294    .text._kill:00000020 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:299    .text._exit:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:305    .text._exit:00000000 _exit
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:334    .text._write:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:340    .text._write:00000000 _write
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:401    .text._close:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:407    .text._close:00000000 _close
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:445    .text._fstat:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:451    .text._fstat:00000000 _fstat
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:494    .text._isatty:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:500    .text._isatty:00000000 _isatty
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:538    .text._lseek:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:544    .text._lseek:00000000 _lseek
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:584    .text._read:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:590    .text._read:00000000 _read
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:675    .text._open:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:681    .text._open:00000000 _open
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:731    .text._wait:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:737    .text._wait:00000000 _wait
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:778    .text._wait:0000001c $d
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:783    .text._unlink:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:789    .text._unlink:00000000 _unlink
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:830    .text._unlink:0000001c $d
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:835    .text._times:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:841    .text._times:00000000 _times
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:879    .text._stat:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:885    .text._stat:00000000 _stat
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:928    .text._link:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:934    .text._link:00000000 _link
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:976    .text._link:00000020 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:981    .text._fork:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:987    .text._fork:00000000 _fork
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:1021   .text._fork:00000018 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:1026   .text._execve:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:1032   .text._execve:00000000 _execve
C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s:1075   .text._execve:00000020 $d

UNDEFINED SYMBOLS
end
errno
__io_putchar
__io_getchar
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cck3tpHk.s 			page 24


