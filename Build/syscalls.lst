ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"syscalls.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.bss.heap_end.0,"aw",%nobits
  19              		.align	2
  22              	heap_end.0:
  23 0000 00000000 		.space	4
  24              		.section	.text._sbrk,"ax",%progbits
  25              		.align	1
  26              		.global	_sbrk
  27              		.syntax unified
  28              		.thumb
  29              		.thumb_func
  31              	_sbrk:
  32              	.LFB25:
  33              		.file 1 "./Src/syscalls.c"
   1:./Src/syscalls.c **** /* Support files for GNU libc.  Files in the system namespace go here.
   2:./Src/syscalls.c ****    Files in the C namespace (ie those that do not start with an
   3:./Src/syscalls.c ****    underscore) go in .c.  */
   4:./Src/syscalls.c **** 
   5:./Src/syscalls.c **** //#include <_ansi.h>
   6:./Src/syscalls.c **** #include <sys/types.h>
   7:./Src/syscalls.c **** #include <sys/stat.h>
   8:./Src/syscalls.c **** #include <sys/fcntl.h>
   9:./Src/syscalls.c **** #include <stdio.h>
  10:./Src/syscalls.c **** #include <string.h>
  11:./Src/syscalls.c **** #include <time.h>
  12:./Src/syscalls.c **** #include <sys/time.h>
  13:./Src/syscalls.c **** #include <sys/times.h>
  14:./Src/syscalls.c **** #include <errno.h>
  15:./Src/syscalls.c **** //#include <reent.h>
  16:./Src/syscalls.c **** #include <unistd.h>
  17:./Src/syscalls.c **** #include <sys/wait.h>
  18:./Src/syscalls.c **** 
  19:./Src/syscalls.c **** #undef errno
  20:./Src/syscalls.c **** extern int errno;
  21:./Src/syscalls.c **** 
  22:./Src/syscalls.c **** #define MAX_STACK_SIZE 0x2000
  23:./Src/syscalls.c **** 
  24:./Src/syscalls.c **** extern int __io_putchar(int ch) __attribute__((weak));
  25:./Src/syscalls.c **** extern int __io_getchar(void) __attribute__((weak));
  26:./Src/syscalls.c **** 
  27:./Src/syscalls.c **** #ifndef FreeRTOS
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 2


  28:./Src/syscalls.c **** register char* stack_ptr asm("sp");
  29:./Src/syscalls.c **** #endif
  30:./Src/syscalls.c **** 
  31:./Src/syscalls.c **** caddr_t _sbrk(int incr) {
  34              		.loc 1 31 25
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 16
  37              		@ frame_needed = 1, uses_anonymous_args = 0
  38              		@ link register save eliminated.
  39 0000 80B4     		push	{r7}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 4
  42              		.cfi_offset 7, -4
  43 0002 85B0     		sub	sp, sp, #20
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 24
  46 0004 00AF     		add	r7, sp, #0
  47              	.LCFI2:
  48              		.cfi_def_cfa_register 7
  49 0006 7860     		str	r0, [r7, #4]
  32:./Src/syscalls.c ****   extern char end asm("end");
  33:./Src/syscalls.c ****   static char* heap_end;
  34:./Src/syscalls.c ****   char* prev_heap_end, *min_stack_ptr;
  35:./Src/syscalls.c **** 
  36:./Src/syscalls.c ****   if (heap_end == 0) {
  50              		.loc 1 36 16
  51 0008 114B     		ldr	r3, .L5
  52 000a 1B68     		ldr	r3, [r3]
  53              		.loc 1 36 6
  54 000c 002B     		cmp	r3, #0
  55 000e 02D1     		bne	.L2
  37:./Src/syscalls.c ****     heap_end = &end;
  56              		.loc 1 37 14
  57 0010 0F4B     		ldr	r3, .L5
  58 0012 104A     		ldr	r2, .L5+4
  59 0014 1A60     		str	r2, [r3]
  60              	.L2:
  38:./Src/syscalls.c ****   }
  39:./Src/syscalls.c **** 
  40:./Src/syscalls.c ****   prev_heap_end = heap_end;
  61              		.loc 1 40 17
  62 0016 0E4B     		ldr	r3, .L5
  63 0018 1B68     		ldr	r3, [r3]
  64 001a FB60     		str	r3, [r7, #12]
  41:./Src/syscalls.c **** 
  42:./Src/syscalls.c **** #ifdef FreeRTOS
  43:./Src/syscalls.c ****   /* Use the NVIC offset register to locate the main stack pointer. */
  44:./Src/syscalls.c ****   min_stack_ptr = (char*)(*(unsigned int*) * (unsigned int*)0xE000ED08);
  45:./Src/syscalls.c ****   /* Locate the STACK bottom address */
  46:./Src/syscalls.c ****   min_stack_ptr -= MAX_STACK_SIZE;
  47:./Src/syscalls.c **** 
  48:./Src/syscalls.c ****   if (heap_end + incr > min_stack_ptr)
  49:./Src/syscalls.c **** #else
  50:./Src/syscalls.c ****   if (heap_end + incr > stack_ptr)
  65              		.loc 1 50 16
  66 001c 0C4B     		ldr	r3, .L5
  67 001e 1A68     		ldr	r2, [r3]
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 3


  68 0020 7B68     		ldr	r3, [r7, #4]
  69 0022 1344     		add	r3, r3, r2
  70              		.loc 1 50 23
  71 0024 6A46     		mov	r2, sp
  72              		.loc 1 50 6
  73 0026 9342     		cmp	r3, r2
  74 0028 05D9     		bls	.L3
  51:./Src/syscalls.c **** #endif
  52:./Src/syscalls.c ****   {
  53:./Src/syscalls.c **** //		write(1, "Heap and stack collision\n", 25);
  54:./Src/syscalls.c **** //		abort();
  55:./Src/syscalls.c ****     errno = ENOMEM;
  75              		.loc 1 55 11
  76 002a 0B4B     		ldr	r3, .L5+8
  77 002c 0C22     		movs	r2, #12
  78 002e 1A60     		str	r2, [r3]
  56:./Src/syscalls.c ****     return (caddr_t) - 1;
  79              		.loc 1 56 12
  80 0030 4FF0FF33 		mov	r3, #-1
  81 0034 06E0     		b	.L4
  82              	.L3:
  57:./Src/syscalls.c ****   }
  58:./Src/syscalls.c **** 
  59:./Src/syscalls.c ****   heap_end += incr;
  83              		.loc 1 59 12
  84 0036 064B     		ldr	r3, .L5
  85 0038 1A68     		ldr	r2, [r3]
  86 003a 7B68     		ldr	r3, [r7, #4]
  87 003c 1344     		add	r3, r3, r2
  88 003e 044A     		ldr	r2, .L5
  89 0040 1360     		str	r3, [r2]
  60:./Src/syscalls.c **** 
  61:./Src/syscalls.c ****   return (caddr_t) prev_heap_end;
  90              		.loc 1 61 10
  91 0042 FB68     		ldr	r3, [r7, #12]
  92              	.L4:
  62:./Src/syscalls.c **** }
  93              		.loc 1 62 1
  94 0044 1846     		mov	r0, r3
  95 0046 1437     		adds	r7, r7, #20
  96              	.LCFI3:
  97              		.cfi_def_cfa_offset 4
  98 0048 BD46     		mov	sp, r7
  99              	.LCFI4:
 100              		.cfi_def_cfa_register 13
 101              		@ sp needed
 102 004a 5DF8047B 		ldr	r7, [sp], #4
 103              	.LCFI5:
 104              		.cfi_restore 7
 105              		.cfi_def_cfa_offset 0
 106 004e 7047     		bx	lr
 107              	.L6:
 108              		.align	2
 109              	.L5:
 110 0050 00000000 		.word	heap_end.0
 111 0054 00000000 		.word	end
 112 0058 00000000 		.word	errno
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 4


 113              		.cfi_endproc
 114              	.LFE25:
 116              		.section	.text._gettimeofday,"ax",%progbits
 117              		.align	1
 118              		.global	_gettimeofday
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 123              	_gettimeofday:
 124              	.LFB26:
  63:./Src/syscalls.c **** 
  64:./Src/syscalls.c **** /*
  65:./Src/syscalls.c ****  * _gettimeofday primitive (Stub function)
  66:./Src/syscalls.c ****  * */
  67:./Src/syscalls.c **** int _gettimeofday (struct timeval* tp, struct timezone* tzp) {
 125              		.loc 1 67 62
 126              		.cfi_startproc
 127              		@ args = 0, pretend = 0, frame = 8
 128              		@ frame_needed = 1, uses_anonymous_args = 0
 129              		@ link register save eliminated.
 130 0000 80B4     		push	{r7}
 131              	.LCFI6:
 132              		.cfi_def_cfa_offset 4
 133              		.cfi_offset 7, -4
 134 0002 83B0     		sub	sp, sp, #12
 135              	.LCFI7:
 136              		.cfi_def_cfa_offset 16
 137 0004 00AF     		add	r7, sp, #0
 138              	.LCFI8:
 139              		.cfi_def_cfa_register 7
 140 0006 7860     		str	r0, [r7, #4]
 141 0008 3960     		str	r1, [r7]
  68:./Src/syscalls.c ****   /* Return fixed data for the timezone.  */
  69:./Src/syscalls.c ****   if (tzp) {
 142              		.loc 1 69 6
 143 000a 3B68     		ldr	r3, [r7]
 144 000c 002B     		cmp	r3, #0
 145 000e 05D0     		beq	.L8
  70:./Src/syscalls.c ****     tzp->tz_minuteswest = 0;
 146              		.loc 1 70 25
 147 0010 3B68     		ldr	r3, [r7]
 148 0012 0022     		movs	r2, #0
 149 0014 1A60     		str	r2, [r3]
  71:./Src/syscalls.c ****     tzp->tz_dsttime = 0;
 150              		.loc 1 71 21
 151 0016 3B68     		ldr	r3, [r7]
 152 0018 0022     		movs	r2, #0
 153 001a 5A60     		str	r2, [r3, #4]
 154              	.L8:
  72:./Src/syscalls.c ****   }
  73:./Src/syscalls.c **** 
  74:./Src/syscalls.c ****   return 0;
 155              		.loc 1 74 10
 156 001c 0023     		movs	r3, #0
  75:./Src/syscalls.c **** }
 157              		.loc 1 75 1
 158 001e 1846     		mov	r0, r3
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 5


 159 0020 0C37     		adds	r7, r7, #12
 160              	.LCFI9:
 161              		.cfi_def_cfa_offset 4
 162 0022 BD46     		mov	sp, r7
 163              	.LCFI10:
 164              		.cfi_def_cfa_register 13
 165              		@ sp needed
 166 0024 5DF8047B 		ldr	r7, [sp], #4
 167              	.LCFI11:
 168              		.cfi_restore 7
 169              		.cfi_def_cfa_offset 0
 170 0028 7047     		bx	lr
 171              		.cfi_endproc
 172              	.LFE26:
 174              		.section	.text.initialise_monitor_handles,"ax",%progbits
 175              		.align	1
 176              		.global	initialise_monitor_handles
 177              		.syntax unified
 178              		.thumb
 179              		.thumb_func
 181              	initialise_monitor_handles:
 182              	.LFB27:
  76:./Src/syscalls.c **** void initialise_monitor_handles() {
 183              		.loc 1 76 35
 184              		.cfi_startproc
 185              		@ args = 0, pretend = 0, frame = 0
 186              		@ frame_needed = 1, uses_anonymous_args = 0
 187              		@ link register save eliminated.
 188 0000 80B4     		push	{r7}
 189              	.LCFI12:
 190              		.cfi_def_cfa_offset 4
 191              		.cfi_offset 7, -4
 192 0002 00AF     		add	r7, sp, #0
 193              	.LCFI13:
 194              		.cfi_def_cfa_register 7
  77:./Src/syscalls.c **** }
 195              		.loc 1 77 1
 196 0004 00BF     		nop
 197 0006 BD46     		mov	sp, r7
 198              	.LCFI14:
 199              		.cfi_def_cfa_register 13
 200              		@ sp needed
 201 0008 5DF8047B 		ldr	r7, [sp], #4
 202              	.LCFI15:
 203              		.cfi_restore 7
 204              		.cfi_def_cfa_offset 0
 205 000c 7047     		bx	lr
 206              		.cfi_endproc
 207              	.LFE27:
 209              		.section	.text._getpid,"ax",%progbits
 210              		.align	1
 211              		.global	_getpid
 212              		.syntax unified
 213              		.thumb
 214              		.thumb_func
 216              	_getpid:
 217              	.LFB28:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 6


  78:./Src/syscalls.c **** 
  79:./Src/syscalls.c **** int _getpid(void) {
 218              		.loc 1 79 19
 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 1, uses_anonymous_args = 0
 222              		@ link register save eliminated.
 223 0000 80B4     		push	{r7}
 224              	.LCFI16:
 225              		.cfi_def_cfa_offset 4
 226              		.cfi_offset 7, -4
 227 0002 00AF     		add	r7, sp, #0
 228              	.LCFI17:
 229              		.cfi_def_cfa_register 7
  80:./Src/syscalls.c ****   return 1;
 230              		.loc 1 80 10
 231 0004 0123     		movs	r3, #1
  81:./Src/syscalls.c **** }
 232              		.loc 1 81 1
 233 0006 1846     		mov	r0, r3
 234 0008 BD46     		mov	sp, r7
 235              	.LCFI18:
 236              		.cfi_def_cfa_register 13
 237              		@ sp needed
 238 000a 5DF8047B 		ldr	r7, [sp], #4
 239              	.LCFI19:
 240              		.cfi_restore 7
 241              		.cfi_def_cfa_offset 0
 242 000e 7047     		bx	lr
 243              		.cfi_endproc
 244              	.LFE28:
 246              		.section	.text._kill,"ax",%progbits
 247              		.align	1
 248              		.global	_kill
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 253              	_kill:
 254              	.LFB29:
  82:./Src/syscalls.c **** 
  83:./Src/syscalls.c **** int _kill(int pid, int sig) {
 255              		.loc 1 83 29
 256              		.cfi_startproc
 257              		@ args = 0, pretend = 0, frame = 8
 258              		@ frame_needed = 1, uses_anonymous_args = 0
 259              		@ link register save eliminated.
 260 0000 80B4     		push	{r7}
 261              	.LCFI20:
 262              		.cfi_def_cfa_offset 4
 263              		.cfi_offset 7, -4
 264 0002 83B0     		sub	sp, sp, #12
 265              	.LCFI21:
 266              		.cfi_def_cfa_offset 16
 267 0004 00AF     		add	r7, sp, #0
 268              	.LCFI22:
 269              		.cfi_def_cfa_register 7
 270 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 7


 271 0008 3960     		str	r1, [r7]
  84:./Src/syscalls.c ****   errno = EINVAL;
 272              		.loc 1 84 9
 273 000a 054B     		ldr	r3, .L15
 274 000c 1622     		movs	r2, #22
 275 000e 1A60     		str	r2, [r3]
  85:./Src/syscalls.c ****   return -1;
 276              		.loc 1 85 10
 277 0010 4FF0FF33 		mov	r3, #-1
  86:./Src/syscalls.c **** }
 278              		.loc 1 86 1
 279 0014 1846     		mov	r0, r3
 280 0016 0C37     		adds	r7, r7, #12
 281              	.LCFI23:
 282              		.cfi_def_cfa_offset 4
 283 0018 BD46     		mov	sp, r7
 284              	.LCFI24:
 285              		.cfi_def_cfa_register 13
 286              		@ sp needed
 287 001a 5DF8047B 		ldr	r7, [sp], #4
 288              	.LCFI25:
 289              		.cfi_restore 7
 290              		.cfi_def_cfa_offset 0
 291 001e 7047     		bx	lr
 292              	.L16:
 293              		.align	2
 294              	.L15:
 295 0020 00000000 		.word	errno
 296              		.cfi_endproc
 297              	.LFE29:
 299              		.section	.text._exit,"ax",%progbits
 300              		.align	1
 301              		.global	_exit
 302              		.syntax unified
 303              		.thumb
 304              		.thumb_func
 306              	_exit:
 307              	.LFB30:
  87:./Src/syscalls.c **** 
  88:./Src/syscalls.c **** void _exit (int status) {
 308              		.loc 1 88 25
 309              		.cfi_startproc
 310              		@ args = 0, pretend = 0, frame = 8
 311              		@ frame_needed = 1, uses_anonymous_args = 0
 312 0000 80B5     		push	{r7, lr}
 313              	.LCFI26:
 314              		.cfi_def_cfa_offset 8
 315              		.cfi_offset 7, -8
 316              		.cfi_offset 14, -4
 317 0002 82B0     		sub	sp, sp, #8
 318              	.LCFI27:
 319              		.cfi_def_cfa_offset 16
 320 0004 00AF     		add	r7, sp, #0
 321              	.LCFI28:
 322              		.cfi_def_cfa_register 7
 323 0006 7860     		str	r0, [r7, #4]
  89:./Src/syscalls.c ****   _kill(status, -1);
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 8


 324              		.loc 1 89 3
 325 0008 4FF0FF31 		mov	r1, #-1
 326 000c 7868     		ldr	r0, [r7, #4]
 327 000e FFF7FEFF 		bl	_kill
 328              	.L18:
  90:./Src/syscalls.c ****   while (1) {}
 329              		.loc 1 90 9 discriminator 1
 330 0012 FEE7     		b	.L18
 331              		.cfi_endproc
 332              	.LFE30:
 334              		.section	.text._write,"ax",%progbits
 335              		.align	1
 336              		.global	_write
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 341              	_write:
 342              	.LFB31:
  91:./Src/syscalls.c **** }
  92:./Src/syscalls.c **** 
  93:./Src/syscalls.c **** int _write(int file, char* ptr, int len) {
 343              		.loc 1 93 42
 344              		.cfi_startproc
 345              		@ args = 0, pretend = 0, frame = 24
 346              		@ frame_needed = 1, uses_anonymous_args = 0
 347 0000 80B5     		push	{r7, lr}
 348              	.LCFI29:
 349              		.cfi_def_cfa_offset 8
 350              		.cfi_offset 7, -8
 351              		.cfi_offset 14, -4
 352 0002 86B0     		sub	sp, sp, #24
 353              	.LCFI30:
 354              		.cfi_def_cfa_offset 32
 355 0004 00AF     		add	r7, sp, #0
 356              	.LCFI31:
 357              		.cfi_def_cfa_register 7
 358 0006 F860     		str	r0, [r7, #12]
 359 0008 B960     		str	r1, [r7, #8]
 360 000a 7A60     		str	r2, [r7, #4]
  94:./Src/syscalls.c ****   int DataIdx;
  95:./Src/syscalls.c **** 
  96:./Src/syscalls.c ****   for (DataIdx = 0; DataIdx < len; DataIdx++) {
 361              		.loc 1 96 16
 362 000c 0023     		movs	r3, #0
 363 000e 7B61     		str	r3, [r7, #20]
 364              		.loc 1 96 3
 365 0010 09E0     		b	.L20
 366              	.L21:
  97:./Src/syscalls.c ****     __io_putchar( *ptr++ );
 367              		.loc 1 97 23 discriminator 3
 368 0012 BB68     		ldr	r3, [r7, #8]
 369 0014 5A1C     		adds	r2, r3, #1
 370 0016 BA60     		str	r2, [r7, #8]
 371              		.loc 1 97 19 discriminator 3
 372 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 373              		.loc 1 97 5 discriminator 3
 374 001a 1846     		mov	r0, r3
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 9


 375 001c FFF7FEFF 		bl	__io_putchar
  96:./Src/syscalls.c ****     __io_putchar( *ptr++ );
 376              		.loc 1 96 43 discriminator 3
 377 0020 7B69     		ldr	r3, [r7, #20]
 378 0022 0133     		adds	r3, r3, #1
 379 0024 7B61     		str	r3, [r7, #20]
 380              	.L20:
  96:./Src/syscalls.c ****     __io_putchar( *ptr++ );
 381              		.loc 1 96 3 discriminator 1
 382 0026 7A69     		ldr	r2, [r7, #20]
 383 0028 7B68     		ldr	r3, [r7, #4]
 384 002a 9A42     		cmp	r2, r3
 385 002c F1DB     		blt	.L21
  98:./Src/syscalls.c ****   }
  99:./Src/syscalls.c ****   return len;
 386              		.loc 1 99 10
 387 002e 7B68     		ldr	r3, [r7, #4]
 100:./Src/syscalls.c **** }
 388              		.loc 1 100 1
 389 0030 1846     		mov	r0, r3
 390 0032 1837     		adds	r7, r7, #24
 391              	.LCFI32:
 392              		.cfi_def_cfa_offset 8
 393 0034 BD46     		mov	sp, r7
 394              	.LCFI33:
 395              		.cfi_def_cfa_register 13
 396              		@ sp needed
 397 0036 80BD     		pop	{r7, pc}
 398              		.cfi_endproc
 399              	.LFE31:
 401              		.section	.text._close,"ax",%progbits
 402              		.align	1
 403              		.global	_close
 404              		.syntax unified
 405              		.thumb
 406              		.thumb_func
 408              	_close:
 409              	.LFB32:
 101:./Src/syscalls.c **** 
 102:./Src/syscalls.c **** int _close(int file) {
 410              		.loc 1 102 22
 411              		.cfi_startproc
 412              		@ args = 0, pretend = 0, frame = 8
 413              		@ frame_needed = 1, uses_anonymous_args = 0
 414              		@ link register save eliminated.
 415 0000 80B4     		push	{r7}
 416              	.LCFI34:
 417              		.cfi_def_cfa_offset 4
 418              		.cfi_offset 7, -4
 419 0002 83B0     		sub	sp, sp, #12
 420              	.LCFI35:
 421              		.cfi_def_cfa_offset 16
 422 0004 00AF     		add	r7, sp, #0
 423              	.LCFI36:
 424              		.cfi_def_cfa_register 7
 425 0006 7860     		str	r0, [r7, #4]
 103:./Src/syscalls.c ****   return -1;
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 10


 426              		.loc 1 103 10
 427 0008 4FF0FF33 		mov	r3, #-1
 104:./Src/syscalls.c **** }
 428              		.loc 1 104 1
 429 000c 1846     		mov	r0, r3
 430 000e 0C37     		adds	r7, r7, #12
 431              	.LCFI37:
 432              		.cfi_def_cfa_offset 4
 433 0010 BD46     		mov	sp, r7
 434              	.LCFI38:
 435              		.cfi_def_cfa_register 13
 436              		@ sp needed
 437 0012 5DF8047B 		ldr	r7, [sp], #4
 438              	.LCFI39:
 439              		.cfi_restore 7
 440              		.cfi_def_cfa_offset 0
 441 0016 7047     		bx	lr
 442              		.cfi_endproc
 443              	.LFE32:
 445              		.section	.text._fstat,"ax",%progbits
 446              		.align	1
 447              		.global	_fstat
 448              		.syntax unified
 449              		.thumb
 450              		.thumb_func
 452              	_fstat:
 453              	.LFB33:
 105:./Src/syscalls.c **** 
 106:./Src/syscalls.c **** int _fstat(int file, struct stat* st) {
 454              		.loc 1 106 39
 455              		.cfi_startproc
 456              		@ args = 0, pretend = 0, frame = 8
 457              		@ frame_needed = 1, uses_anonymous_args = 0
 458              		@ link register save eliminated.
 459 0000 80B4     		push	{r7}
 460              	.LCFI40:
 461              		.cfi_def_cfa_offset 4
 462              		.cfi_offset 7, -4
 463 0002 83B0     		sub	sp, sp, #12
 464              	.LCFI41:
 465              		.cfi_def_cfa_offset 16
 466 0004 00AF     		add	r7, sp, #0
 467              	.LCFI42:
 468              		.cfi_def_cfa_register 7
 469 0006 7860     		str	r0, [r7, #4]
 470 0008 3960     		str	r1, [r7]
 107:./Src/syscalls.c ****   st->st_mode = S_IFCHR;
 471              		.loc 1 107 15
 472 000a 3B68     		ldr	r3, [r7]
 473 000c 4FF40052 		mov	r2, #8192
 474 0010 5A60     		str	r2, [r3, #4]
 108:./Src/syscalls.c ****   return 0;
 475              		.loc 1 108 10
 476 0012 0023     		movs	r3, #0
 109:./Src/syscalls.c **** }
 477              		.loc 1 109 1
 478 0014 1846     		mov	r0, r3
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 11


 479 0016 0C37     		adds	r7, r7, #12
 480              	.LCFI43:
 481              		.cfi_def_cfa_offset 4
 482 0018 BD46     		mov	sp, r7
 483              	.LCFI44:
 484              		.cfi_def_cfa_register 13
 485              		@ sp needed
 486 001a 5DF8047B 		ldr	r7, [sp], #4
 487              	.LCFI45:
 488              		.cfi_restore 7
 489              		.cfi_def_cfa_offset 0
 490 001e 7047     		bx	lr
 491              		.cfi_endproc
 492              	.LFE33:
 494              		.section	.text._isatty,"ax",%progbits
 495              		.align	1
 496              		.global	_isatty
 497              		.syntax unified
 498              		.thumb
 499              		.thumb_func
 501              	_isatty:
 502              	.LFB34:
 110:./Src/syscalls.c **** 
 111:./Src/syscalls.c **** int _isatty(int file) {
 503              		.loc 1 111 23
 504              		.cfi_startproc
 505              		@ args = 0, pretend = 0, frame = 8
 506              		@ frame_needed = 1, uses_anonymous_args = 0
 507              		@ link register save eliminated.
 508 0000 80B4     		push	{r7}
 509              	.LCFI46:
 510              		.cfi_def_cfa_offset 4
 511              		.cfi_offset 7, -4
 512 0002 83B0     		sub	sp, sp, #12
 513              	.LCFI47:
 514              		.cfi_def_cfa_offset 16
 515 0004 00AF     		add	r7, sp, #0
 516              	.LCFI48:
 517              		.cfi_def_cfa_register 7
 518 0006 7860     		str	r0, [r7, #4]
 112:./Src/syscalls.c ****   return 1;
 519              		.loc 1 112 10
 520 0008 0123     		movs	r3, #1
 113:./Src/syscalls.c **** }
 521              		.loc 1 113 1
 522 000a 1846     		mov	r0, r3
 523 000c 0C37     		adds	r7, r7, #12
 524              	.LCFI49:
 525              		.cfi_def_cfa_offset 4
 526 000e BD46     		mov	sp, r7
 527              	.LCFI50:
 528              		.cfi_def_cfa_register 13
 529              		@ sp needed
 530 0010 5DF8047B 		ldr	r7, [sp], #4
 531              	.LCFI51:
 532              		.cfi_restore 7
 533              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 12


 534 0014 7047     		bx	lr
 535              		.cfi_endproc
 536              	.LFE34:
 538              		.section	.text._lseek,"ax",%progbits
 539              		.align	1
 540              		.global	_lseek
 541              		.syntax unified
 542              		.thumb
 543              		.thumb_func
 545              	_lseek:
 546              	.LFB35:
 114:./Src/syscalls.c **** 
 115:./Src/syscalls.c **** int _lseek(int file, int ptr, int dir) {
 547              		.loc 1 115 40
 548              		.cfi_startproc
 549              		@ args = 0, pretend = 0, frame = 16
 550              		@ frame_needed = 1, uses_anonymous_args = 0
 551              		@ link register save eliminated.
 552 0000 80B4     		push	{r7}
 553              	.LCFI52:
 554              		.cfi_def_cfa_offset 4
 555              		.cfi_offset 7, -4
 556 0002 85B0     		sub	sp, sp, #20
 557              	.LCFI53:
 558              		.cfi_def_cfa_offset 24
 559 0004 00AF     		add	r7, sp, #0
 560              	.LCFI54:
 561              		.cfi_def_cfa_register 7
 562 0006 F860     		str	r0, [r7, #12]
 563 0008 B960     		str	r1, [r7, #8]
 564 000a 7A60     		str	r2, [r7, #4]
 116:./Src/syscalls.c ****   return 0;
 565              		.loc 1 116 10
 566 000c 0023     		movs	r3, #0
 117:./Src/syscalls.c **** }
 567              		.loc 1 117 1
 568 000e 1846     		mov	r0, r3
 569 0010 1437     		adds	r7, r7, #20
 570              	.LCFI55:
 571              		.cfi_def_cfa_offset 4
 572 0012 BD46     		mov	sp, r7
 573              	.LCFI56:
 574              		.cfi_def_cfa_register 13
 575              		@ sp needed
 576 0014 5DF8047B 		ldr	r7, [sp], #4
 577              	.LCFI57:
 578              		.cfi_restore 7
 579              		.cfi_def_cfa_offset 0
 580 0018 7047     		bx	lr
 581              		.cfi_endproc
 582              	.LFE35:
 584              		.section	.text._read,"ax",%progbits
 585              		.align	1
 586              		.global	_read
 587              		.syntax unified
 588              		.thumb
 589              		.thumb_func
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 13


 591              	_read:
 592              	.LFB36:
 118:./Src/syscalls.c **** 
 119:./Src/syscalls.c **** int _read(int file, char* ptr, int len) {
 593              		.loc 1 119 41
 594              		.cfi_startproc
 595              		@ args = 0, pretend = 0, frame = 24
 596              		@ frame_needed = 1, uses_anonymous_args = 0
 597 0000 80B5     		push	{r7, lr}
 598              	.LCFI58:
 599              		.cfi_def_cfa_offset 8
 600              		.cfi_offset 7, -8
 601              		.cfi_offset 14, -4
 602 0002 86B0     		sub	sp, sp, #24
 603              	.LCFI59:
 604              		.cfi_def_cfa_offset 32
 605 0004 00AF     		add	r7, sp, #0
 606              	.LCFI60:
 607              		.cfi_def_cfa_register 7
 608 0006 F860     		str	r0, [r7, #12]
 609 0008 B960     		str	r1, [r7, #8]
 610 000a 7A60     		str	r2, [r7, #4]
 120:./Src/syscalls.c ****   int DataIdx;
 121:./Src/syscalls.c **** 
 122:./Src/syscalls.c ****   for (DataIdx = 0; DataIdx < len; DataIdx++) {
 611              		.loc 1 122 16
 612 000c 0023     		movs	r3, #0
 613 000e 7B61     		str	r3, [r7, #20]
 614              		.loc 1 122 3
 615 0010 13E0     		b	.L32
 616              	.L35:
 123:./Src/syscalls.c ****     *ptr = __io_getchar();
 617              		.loc 1 123 12
 618 0012 FFF7FEFF 		bl	__io_getchar
 619 0016 0346     		mov	r3, r0
 620              		.loc 1 123 10
 621 0018 DAB2     		uxtb	r2, r3
 622 001a BB68     		ldr	r3, [r7, #8]
 623 001c 1A70     		strb	r2, [r3]
 124:./Src/syscalls.c ****     if(*ptr == '\r') break;
 624              		.loc 1 124 8
 625 001e BB68     		ldr	r3, [r7, #8]
 626 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 627              		.loc 1 124 7
 628 0022 0D2B     		cmp	r3, #13
 629 0024 0ED0     		beq	.L37
 125:./Src/syscalls.c ****     __io_putchar( *ptr++ );
 630              		.loc 1 125 23 discriminator 2
 631 0026 BB68     		ldr	r3, [r7, #8]
 632 0028 5A1C     		adds	r2, r3, #1
 633 002a BA60     		str	r2, [r7, #8]
 634              		.loc 1 125 19 discriminator 2
 635 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 636              		.loc 1 125 5 discriminator 2
 637 002e 1846     		mov	r0, r3
 638 0030 FFF7FEFF 		bl	__io_putchar
 122:./Src/syscalls.c ****     *ptr = __io_getchar();
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 14


 639              		.loc 1 122 43 discriminator 2
 640 0034 7B69     		ldr	r3, [r7, #20]
 641 0036 0133     		adds	r3, r3, #1
 642 0038 7B61     		str	r3, [r7, #20]
 643              	.L32:
 122:./Src/syscalls.c ****     *ptr = __io_getchar();
 644              		.loc 1 122 3 discriminator 1
 645 003a 7A69     		ldr	r2, [r7, #20]
 646 003c 7B68     		ldr	r3, [r7, #4]
 647 003e 9A42     		cmp	r2, r3
 648 0040 E7DB     		blt	.L35
 649 0042 00E0     		b	.L34
 650              	.L37:
 124:./Src/syscalls.c ****     if(*ptr == '\r') break;
 651              		.loc 1 124 5
 652 0044 00BF     		nop
 653              	.L34:
 126:./Src/syscalls.c ****   }
 127:./Src/syscalls.c ****   __io_putchar('\n');
 654              		.loc 1 127 3
 655 0046 0A20     		movs	r0, #10
 656 0048 FFF7FEFF 		bl	__io_putchar
 128:./Src/syscalls.c ****   __io_putchar('\r');
 657              		.loc 1 128 3
 658 004c 0D20     		movs	r0, #13
 659 004e FFF7FEFF 		bl	__io_putchar
 129:./Src/syscalls.c ****   return len;
 660              		.loc 1 129 10
 661 0052 7B68     		ldr	r3, [r7, #4]
 130:./Src/syscalls.c **** }
 662              		.loc 1 130 1
 663 0054 1846     		mov	r0, r3
 664 0056 1837     		adds	r7, r7, #24
 665              	.LCFI61:
 666              		.cfi_def_cfa_offset 8
 667 0058 BD46     		mov	sp, r7
 668              	.LCFI62:
 669              		.cfi_def_cfa_register 13
 670              		@ sp needed
 671 005a 80BD     		pop	{r7, pc}
 672              		.cfi_endproc
 673              	.LFE36:
 675              		.section	.text._open,"ax",%progbits
 676              		.align	1
 677              		.global	_open
 678              		.syntax unified
 679              		.thumb
 680              		.thumb_func
 682              	_open:
 683              	.LFB37:
 131:./Src/syscalls.c **** 
 132:./Src/syscalls.c **** int _open(char* path, int flags, ...) {
 684              		.loc 1 132 39
 685              		.cfi_startproc
 686              		@ args = 4, pretend = 12, frame = 8
 687              		@ frame_needed = 1, uses_anonymous_args = 1
 688              		@ link register save eliminated.
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 15


 689 0000 0EB4     		push	{r1, r2, r3}
 690              	.LCFI63:
 691              		.cfi_def_cfa_offset 12
 692              		.cfi_offset 1, -12
 693              		.cfi_offset 2, -8
 694              		.cfi_offset 3, -4
 695 0002 80B4     		push	{r7}
 696              	.LCFI64:
 697              		.cfi_def_cfa_offset 16
 698              		.cfi_offset 7, -16
 699 0004 82B0     		sub	sp, sp, #8
 700              	.LCFI65:
 701              		.cfi_def_cfa_offset 24
 702 0006 00AF     		add	r7, sp, #0
 703              	.LCFI66:
 704              		.cfi_def_cfa_register 7
 705 0008 7860     		str	r0, [r7, #4]
 133:./Src/syscalls.c ****   /* Pretend like we always fail */
 134:./Src/syscalls.c ****   return -1;
 706              		.loc 1 134 10
 707 000a 4FF0FF33 		mov	r3, #-1
 135:./Src/syscalls.c **** }
 708              		.loc 1 135 1
 709 000e 1846     		mov	r0, r3
 710 0010 0837     		adds	r7, r7, #8
 711              	.LCFI67:
 712              		.cfi_def_cfa_offset 16
 713 0012 BD46     		mov	sp, r7
 714              	.LCFI68:
 715              		.cfi_def_cfa_register 13
 716              		@ sp needed
 717 0014 5DF8047B 		ldr	r7, [sp], #4
 718              	.LCFI69:
 719              		.cfi_restore 7
 720              		.cfi_def_cfa_offset 12
 721 0018 03B0     		add	sp, sp, #12
 722              	.LCFI70:
 723              		.cfi_restore 3
 724              		.cfi_restore 2
 725              		.cfi_restore 1
 726              		.cfi_def_cfa_offset 0
 727 001a 7047     		bx	lr
 728              		.cfi_endproc
 729              	.LFE37:
 731              		.section	.text._wait,"ax",%progbits
 732              		.align	1
 733              		.global	_wait
 734              		.syntax unified
 735              		.thumb
 736              		.thumb_func
 738              	_wait:
 739              	.LFB38:
 136:./Src/syscalls.c **** 
 137:./Src/syscalls.c **** int _wait(int* status) {
 740              		.loc 1 137 24
 741              		.cfi_startproc
 742              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 16


 743              		@ frame_needed = 1, uses_anonymous_args = 0
 744              		@ link register save eliminated.
 745 0000 80B4     		push	{r7}
 746              	.LCFI71:
 747              		.cfi_def_cfa_offset 4
 748              		.cfi_offset 7, -4
 749 0002 83B0     		sub	sp, sp, #12
 750              	.LCFI72:
 751              		.cfi_def_cfa_offset 16
 752 0004 00AF     		add	r7, sp, #0
 753              	.LCFI73:
 754              		.cfi_def_cfa_register 7
 755 0006 7860     		str	r0, [r7, #4]
 138:./Src/syscalls.c ****   errno = ECHILD;
 756              		.loc 1 138 9
 757 0008 054B     		ldr	r3, .L42
 758 000a 0A22     		movs	r2, #10
 759 000c 1A60     		str	r2, [r3]
 139:./Src/syscalls.c ****   return -1;
 760              		.loc 1 139 10
 761 000e 4FF0FF33 		mov	r3, #-1
 140:./Src/syscalls.c **** }
 762              		.loc 1 140 1
 763 0012 1846     		mov	r0, r3
 764 0014 0C37     		adds	r7, r7, #12
 765              	.LCFI74:
 766              		.cfi_def_cfa_offset 4
 767 0016 BD46     		mov	sp, r7
 768              	.LCFI75:
 769              		.cfi_def_cfa_register 13
 770              		@ sp needed
 771 0018 5DF8047B 		ldr	r7, [sp], #4
 772              	.LCFI76:
 773              		.cfi_restore 7
 774              		.cfi_def_cfa_offset 0
 775 001c 7047     		bx	lr
 776              	.L43:
 777 001e 00BF     		.align	2
 778              	.L42:
 779 0020 00000000 		.word	errno
 780              		.cfi_endproc
 781              	.LFE38:
 783              		.section	.text._unlink,"ax",%progbits
 784              		.align	1
 785              		.global	_unlink
 786              		.syntax unified
 787              		.thumb
 788              		.thumb_func
 790              	_unlink:
 791              	.LFB39:
 141:./Src/syscalls.c **** 
 142:./Src/syscalls.c **** int _unlink(char* name) {
 792              		.loc 1 142 25
 793              		.cfi_startproc
 794              		@ args = 0, pretend = 0, frame = 8
 795              		@ frame_needed = 1, uses_anonymous_args = 0
 796              		@ link register save eliminated.
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 17


 797 0000 80B4     		push	{r7}
 798              	.LCFI77:
 799              		.cfi_def_cfa_offset 4
 800              		.cfi_offset 7, -4
 801 0002 83B0     		sub	sp, sp, #12
 802              	.LCFI78:
 803              		.cfi_def_cfa_offset 16
 804 0004 00AF     		add	r7, sp, #0
 805              	.LCFI79:
 806              		.cfi_def_cfa_register 7
 807 0006 7860     		str	r0, [r7, #4]
 143:./Src/syscalls.c ****   errno = ENOENT;
 808              		.loc 1 143 9
 809 0008 054B     		ldr	r3, .L46
 810 000a 0222     		movs	r2, #2
 811 000c 1A60     		str	r2, [r3]
 144:./Src/syscalls.c ****   return -1;
 812              		.loc 1 144 10
 813 000e 4FF0FF33 		mov	r3, #-1
 145:./Src/syscalls.c **** }
 814              		.loc 1 145 1
 815 0012 1846     		mov	r0, r3
 816 0014 0C37     		adds	r7, r7, #12
 817              	.LCFI80:
 818              		.cfi_def_cfa_offset 4
 819 0016 BD46     		mov	sp, r7
 820              	.LCFI81:
 821              		.cfi_def_cfa_register 13
 822              		@ sp needed
 823 0018 5DF8047B 		ldr	r7, [sp], #4
 824              	.LCFI82:
 825              		.cfi_restore 7
 826              		.cfi_def_cfa_offset 0
 827 001c 7047     		bx	lr
 828              	.L47:
 829 001e 00BF     		.align	2
 830              	.L46:
 831 0020 00000000 		.word	errno
 832              		.cfi_endproc
 833              	.LFE39:
 835              		.section	.text._times,"ax",%progbits
 836              		.align	1
 837              		.global	_times
 838              		.syntax unified
 839              		.thumb
 840              		.thumb_func
 842              	_times:
 843              	.LFB40:
 146:./Src/syscalls.c **** 
 147:./Src/syscalls.c **** int _times(struct tms* buf) {
 844              		.loc 1 147 29
 845              		.cfi_startproc
 846              		@ args = 0, pretend = 0, frame = 8
 847              		@ frame_needed = 1, uses_anonymous_args = 0
 848              		@ link register save eliminated.
 849 0000 80B4     		push	{r7}
 850              	.LCFI83:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 18


 851              		.cfi_def_cfa_offset 4
 852              		.cfi_offset 7, -4
 853 0002 83B0     		sub	sp, sp, #12
 854              	.LCFI84:
 855              		.cfi_def_cfa_offset 16
 856 0004 00AF     		add	r7, sp, #0
 857              	.LCFI85:
 858              		.cfi_def_cfa_register 7
 859 0006 7860     		str	r0, [r7, #4]
 148:./Src/syscalls.c ****   return -1;
 860              		.loc 1 148 10
 861 0008 4FF0FF33 		mov	r3, #-1
 149:./Src/syscalls.c **** }
 862              		.loc 1 149 1
 863 000c 1846     		mov	r0, r3
 864 000e 0C37     		adds	r7, r7, #12
 865              	.LCFI86:
 866              		.cfi_def_cfa_offset 4
 867 0010 BD46     		mov	sp, r7
 868              	.LCFI87:
 869              		.cfi_def_cfa_register 13
 870              		@ sp needed
 871 0012 5DF8047B 		ldr	r7, [sp], #4
 872              	.LCFI88:
 873              		.cfi_restore 7
 874              		.cfi_def_cfa_offset 0
 875 0016 7047     		bx	lr
 876              		.cfi_endproc
 877              	.LFE40:
 879              		.section	.text._stat,"ax",%progbits
 880              		.align	1
 881              		.global	_stat
 882              		.syntax unified
 883              		.thumb
 884              		.thumb_func
 886              	_stat:
 887              	.LFB41:
 150:./Src/syscalls.c **** 
 151:./Src/syscalls.c **** int _stat(char* file, struct stat* st) {
 888              		.loc 1 151 40
 889              		.cfi_startproc
 890              		@ args = 0, pretend = 0, frame = 8
 891              		@ frame_needed = 1, uses_anonymous_args = 0
 892              		@ link register save eliminated.
 893 0000 80B4     		push	{r7}
 894              	.LCFI89:
 895              		.cfi_def_cfa_offset 4
 896              		.cfi_offset 7, -4
 897 0002 83B0     		sub	sp, sp, #12
 898              	.LCFI90:
 899              		.cfi_def_cfa_offset 16
 900 0004 00AF     		add	r7, sp, #0
 901              	.LCFI91:
 902              		.cfi_def_cfa_register 7
 903 0006 7860     		str	r0, [r7, #4]
 904 0008 3960     		str	r1, [r7]
 152:./Src/syscalls.c ****   st->st_mode = S_IFCHR;
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 19


 905              		.loc 1 152 15
 906 000a 3B68     		ldr	r3, [r7]
 907 000c 4FF40052 		mov	r2, #8192
 908 0010 5A60     		str	r2, [r3, #4]
 153:./Src/syscalls.c ****   return 0;
 909              		.loc 1 153 10
 910 0012 0023     		movs	r3, #0
 154:./Src/syscalls.c **** }
 911              		.loc 1 154 1
 912 0014 1846     		mov	r0, r3
 913 0016 0C37     		adds	r7, r7, #12
 914              	.LCFI92:
 915              		.cfi_def_cfa_offset 4
 916 0018 BD46     		mov	sp, r7
 917              	.LCFI93:
 918              		.cfi_def_cfa_register 13
 919              		@ sp needed
 920 001a 5DF8047B 		ldr	r7, [sp], #4
 921              	.LCFI94:
 922              		.cfi_restore 7
 923              		.cfi_def_cfa_offset 0
 924 001e 7047     		bx	lr
 925              		.cfi_endproc
 926              	.LFE41:
 928              		.section	.text._link,"ax",%progbits
 929              		.align	1
 930              		.global	_link
 931              		.syntax unified
 932              		.thumb
 933              		.thumb_func
 935              	_link:
 936              	.LFB42:
 155:./Src/syscalls.c **** 
 156:./Src/syscalls.c **** int _link(char* old, char* new) {
 937              		.loc 1 156 33
 938              		.cfi_startproc
 939              		@ args = 0, pretend = 0, frame = 8
 940              		@ frame_needed = 1, uses_anonymous_args = 0
 941              		@ link register save eliminated.
 942 0000 80B4     		push	{r7}
 943              	.LCFI95:
 944              		.cfi_def_cfa_offset 4
 945              		.cfi_offset 7, -4
 946 0002 83B0     		sub	sp, sp, #12
 947              	.LCFI96:
 948              		.cfi_def_cfa_offset 16
 949 0004 00AF     		add	r7, sp, #0
 950              	.LCFI97:
 951              		.cfi_def_cfa_register 7
 952 0006 7860     		str	r0, [r7, #4]
 953 0008 3960     		str	r1, [r7]
 157:./Src/syscalls.c ****   errno = EMLINK;
 954              		.loc 1 157 9
 955 000a 054B     		ldr	r3, .L54
 956 000c 1F22     		movs	r2, #31
 957 000e 1A60     		str	r2, [r3]
 158:./Src/syscalls.c ****   return -1;
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 20


 958              		.loc 1 158 10
 959 0010 4FF0FF33 		mov	r3, #-1
 159:./Src/syscalls.c **** }
 960              		.loc 1 159 1
 961 0014 1846     		mov	r0, r3
 962 0016 0C37     		adds	r7, r7, #12
 963              	.LCFI98:
 964              		.cfi_def_cfa_offset 4
 965 0018 BD46     		mov	sp, r7
 966              	.LCFI99:
 967              		.cfi_def_cfa_register 13
 968              		@ sp needed
 969 001a 5DF8047B 		ldr	r7, [sp], #4
 970              	.LCFI100:
 971              		.cfi_restore 7
 972              		.cfi_def_cfa_offset 0
 973 001e 7047     		bx	lr
 974              	.L55:
 975              		.align	2
 976              	.L54:
 977 0020 00000000 		.word	errno
 978              		.cfi_endproc
 979              	.LFE42:
 981              		.section	.text._fork,"ax",%progbits
 982              		.align	1
 983              		.global	_fork
 984              		.syntax unified
 985              		.thumb
 986              		.thumb_func
 988              	_fork:
 989              	.LFB43:
 160:./Src/syscalls.c **** 
 161:./Src/syscalls.c **** int _fork(void) {
 990              		.loc 1 161 17
 991              		.cfi_startproc
 992              		@ args = 0, pretend = 0, frame = 0
 993              		@ frame_needed = 1, uses_anonymous_args = 0
 994              		@ link register save eliminated.
 995 0000 80B4     		push	{r7}
 996              	.LCFI101:
 997              		.cfi_def_cfa_offset 4
 998              		.cfi_offset 7, -4
 999 0002 00AF     		add	r7, sp, #0
 1000              	.LCFI102:
 1001              		.cfi_def_cfa_register 7
 162:./Src/syscalls.c ****   errno = EAGAIN;
 1002              		.loc 1 162 9
 1003 0004 044B     		ldr	r3, .L58
 1004 0006 0B22     		movs	r2, #11
 1005 0008 1A60     		str	r2, [r3]
 163:./Src/syscalls.c ****   return -1;
 1006              		.loc 1 163 10
 1007 000a 4FF0FF33 		mov	r3, #-1
 164:./Src/syscalls.c **** }
 1008              		.loc 1 164 1
 1009 000e 1846     		mov	r0, r3
 1010 0010 BD46     		mov	sp, r7
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 21


 1011              	.LCFI103:
 1012              		.cfi_def_cfa_register 13
 1013              		@ sp needed
 1014 0012 5DF8047B 		ldr	r7, [sp], #4
 1015              	.LCFI104:
 1016              		.cfi_restore 7
 1017              		.cfi_def_cfa_offset 0
 1018 0016 7047     		bx	lr
 1019              	.L59:
 1020              		.align	2
 1021              	.L58:
 1022 0018 00000000 		.word	errno
 1023              		.cfi_endproc
 1024              	.LFE43:
 1026              		.section	.text._execve,"ax",%progbits
 1027              		.align	1
 1028              		.global	_execve
 1029              		.syntax unified
 1030              		.thumb
 1031              		.thumb_func
 1033              	_execve:
 1034              	.LFB44:
 165:./Src/syscalls.c **** 
 166:./Src/syscalls.c **** int _execve(char* name, char** argv, char** env) {
 1035              		.loc 1 166 50
 1036              		.cfi_startproc
 1037              		@ args = 0, pretend = 0, frame = 16
 1038              		@ frame_needed = 1, uses_anonymous_args = 0
 1039              		@ link register save eliminated.
 1040 0000 80B4     		push	{r7}
 1041              	.LCFI105:
 1042              		.cfi_def_cfa_offset 4
 1043              		.cfi_offset 7, -4
 1044 0002 85B0     		sub	sp, sp, #20
 1045              	.LCFI106:
 1046              		.cfi_def_cfa_offset 24
 1047 0004 00AF     		add	r7, sp, #0
 1048              	.LCFI107:
 1049              		.cfi_def_cfa_register 7
 1050 0006 F860     		str	r0, [r7, #12]
 1051 0008 B960     		str	r1, [r7, #8]
 1052 000a 7A60     		str	r2, [r7, #4]
 167:./Src/syscalls.c ****   errno = ENOMEM;
 1053              		.loc 1 167 9
 1054 000c 054B     		ldr	r3, .L62
 1055 000e 0C22     		movs	r2, #12
 1056 0010 1A60     		str	r2, [r3]
 168:./Src/syscalls.c ****   return -1;
 1057              		.loc 1 168 10
 1058 0012 4FF0FF33 		mov	r3, #-1
 169:./Src/syscalls.c **** }...
 1059              		.loc 1 169 1
 1060 0016 1846     		mov	r0, r3
 1061 0018 1437     		adds	r7, r7, #20
 1062              	.LCFI108:
 1063              		.cfi_def_cfa_offset 4
 1064 001a BD46     		mov	sp, r7
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 22


 1065              	.LCFI109:
 1066              		.cfi_def_cfa_register 13
 1067              		@ sp needed
 1068 001c 5DF8047B 		ldr	r7, [sp], #4
 1069              	.LCFI110:
 1070              		.cfi_restore 7
 1071              		.cfi_def_cfa_offset 0
 1072 0020 7047     		bx	lr
 1073              	.L63:
 1074 0022 00BF     		.align	2
 1075              	.L62:
 1076 0024 00000000 		.word	errno
 1077              		.cfi_endproc
 1078              	.LFE44:
 1080              		.weak	__io_getchar
 1081              		.weak	__io_putchar
 1082              		.text
 1083              	.Letext0:
 1084              		.file 2 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_types.h"
 1085              		.file 3 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_types.h"
 1086              		.file 4 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_timeval.h"
 1087              		.file 5 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_timespec.h"
 1088              		.file 6 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\types.h"
 1089              		.file 7 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\stat.h"
 1090              		.file 8 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\time.h"
 1091              		.file 9 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\times.h"
 1092              		.file 10 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\wait.h"
 1093              		.file 11 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\unistd.h"
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 syscalls.c
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:19     .bss.heap_end.0:00000000 $d
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:22     .bss.heap_end.0:00000000 heap_end.0
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:25     .text._sbrk:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:31     .text._sbrk:00000000 _sbrk
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:110    .text._sbrk:00000050 $d
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:117    .text._gettimeofday:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:123    .text._gettimeofday:00000000 _gettimeofday
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:175    .text.initialise_monitor_handles:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:181    .text.initialise_monitor_handles:00000000 initialise_monitor_handles
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:210    .text._getpid:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:216    .text._getpid:00000000 _getpid
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:247    .text._kill:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:253    .text._kill:00000000 _kill
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:295    .text._kill:00000020 $d
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:300    .text._exit:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:306    .text._exit:00000000 _exit
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:335    .text._write:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:341    .text._write:00000000 _write
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:402    .text._close:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:408    .text._close:00000000 _close
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:446    .text._fstat:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:452    .text._fstat:00000000 _fstat
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:495    .text._isatty:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:501    .text._isatty:00000000 _isatty
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:539    .text._lseek:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:545    .text._lseek:00000000 _lseek
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:585    .text._read:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:591    .text._read:00000000 _read
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:676    .text._open:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:682    .text._open:00000000 _open
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:732    .text._wait:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:738    .text._wait:00000000 _wait
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:779    .text._wait:00000020 $d
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:784    .text._unlink:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:790    .text._unlink:00000000 _unlink
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:831    .text._unlink:00000020 $d
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:836    .text._times:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:842    .text._times:00000000 _times
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:880    .text._stat:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:886    .text._stat:00000000 _stat
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:929    .text._link:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:935    .text._link:00000000 _link
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:977    .text._link:00000020 $d
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:982    .text._fork:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:988    .text._fork:00000000 _fork
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:1022   .text._fork:00000018 $d
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:1027   .text._execve:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:1033   .text._execve:00000000 _execve
C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s:1076   .text._execve:00000024 $d

UNDEFINED SYMBOLS
end
errno
__io_putchar
__io_getchar
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccyWlnZy.s 			page 24


