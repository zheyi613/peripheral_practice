ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccgyyl3Z.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_f2d
  18              		.section	.rodata
  19              		.align	2
  20              	.LC0:
  21 0000 74203D20 		.ascii	"t = %f\015\012\000"
  21      25660D0A 
  21      00
  22              		.section	.text.main,"ax",%progbits
  23              		.align	1
  24              		.global	main
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  29              	main:
  30              	.LFB3:
  31              		.file 1 "./Src/main.c"
   1:./Src/main.c  **** /**
   2:./Src/main.c  ****  * @file test_mpu6050.c
   3:./Src/main.c  ****  * @author zheyi613 (zheyi880613@gmail.com)
   4:./Src/main.c  ****  * @brief test i2c for mpu6050
   5:./Src/main.c  ****  * @date 2022-08-26
   6:./Src/main.c  ****  */
   7:./Src/main.c  **** 
   8:./Src/main.c  **** #include "mpu6050.h"
   9:./Src/main.c  **** #include "stm32f767zi_gpio.h"
  10:./Src/main.c  **** #include "stm32f767zi_hal.h"
  11:./Src/main.c  **** #include "stm32f767zi_i2c.h"
  12:./Src/main.c  **** #include "stm32f767zi_systick.h"
  13:./Src/main.c  **** #include "stm32f767zi_usart.h"
  14:./Src/main.c  **** #include <stdio.h>
  15:./Src/main.c  **** 
  16:./Src/main.c  **** int main(void)
  17:./Src/main.c  **** {
  32              		.loc 1 17 1
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 8
  35              		@ frame_needed = 1, uses_anonymous_args = 0
  36 0000 80B5     		push	{r7, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 7, -8
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccgyyl3Z.s 			page 2


  40              		.cfi_offset 14, -4
  41 0002 82B0     		sub	sp, sp, #8
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 16
  44 0004 00AF     		add	r7, sp, #0
  45              	.LCFI2:
  46              		.cfi_def_cfa_register 7
  18:./Src/main.c  **** 	int16_t get = 0;
  47              		.loc 1 18 10
  48 0006 0023     		movs	r3, #0
  49 0008 FB80     		strh	r3, [r7, #6]	@ movhi
  19:./Src/main.c  **** 	float tmp = 0;
  50              		.loc 1 19 8
  51 000a 4FF00003 		mov	r3, #0
  52 000e 3B60     		str	r3, [r7]	@ float
  20:./Src/main.c  **** 	usart3_default_init();
  53              		.loc 1 20 2
  54 0010 FFF7FEFF 		bl	usart3_default_init
  21:./Src/main.c  **** 	i2c1_master_default_init();
  55              		.loc 1 21 2
  56 0014 FFF7FEFF 		bl	i2c1_master_default_init
  22:./Src/main.c  **** 	mpu6050_init();
  57              		.loc 1 22 2
  58 0018 FFF7FEFF 		bl	mpu6050_init
  59              	.L2:
  23:./Src/main.c  **** 	// i2c_transmit(I2C1, 0b1101010, 0x0F, 0b10100001, 1, &div);
  24:./Src/main.c  **** 
  25:./Src/main.c  **** 	while (1) {
  26:./Src/main.c  **** 		// i2c_receive(I2C1, MPU6050_ADDRESS, MPU6050_TEMP_OUT, 2, &div_get);
  27:./Src/main.c  **** 		printf("t = %f\r\n", mpu6050_get_temperature());
  60              		.loc 1 27 24 discriminator 1
  61 001c FFF7FEFF 		bl	mpu6050_get_temperature
  62 0020 0346     		mov	r3, r0
  63              		.loc 1 27 3 discriminator 1
  64 0022 1846     		mov	r0, r3
  65 0024 FFF7FEFF 		bl	__aeabi_f2d
  66 0028 0246     		mov	r2, r0
  67 002a 0B46     		mov	r3, r1
  68 002c 0348     		ldr	r0, .L3
  69 002e FFF7FEFF 		bl	printf
  28:./Src/main.c  **** 		systick_delay_ms(500);
  70              		.loc 1 28 3 discriminator 1
  71 0032 4FF4FA70 		mov	r0, #500
  72 0036 FFF7FEFF 		bl	systick_delay_ms
  27:./Src/main.c  **** 		systick_delay_ms(500);
  73              		.loc 1 27 3 discriminator 1
  74 003a EFE7     		b	.L2
  75              	.L4:
  76              		.align	2
  77              	.L3:
  78 003c 00000000 		.word	.LC0
  79              		.cfi_endproc
  80              	.LFE3:
  82              		.text
  83              	.Letext0:
  84              		.file 2 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_types.h"
  85              		.file 3 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccgyyl3Z.s 			page 3


ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\ccgyyl3Z.s 			page 4


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\DCS_LAB\AppData\Local\Temp\ccgyyl3Z.s:19     .rodata:00000000 $d
C:\Users\DCS_LAB\AppData\Local\Temp\ccgyyl3Z.s:23     .text.main:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\ccgyyl3Z.s:29     .text.main:00000000 main
C:\Users\DCS_LAB\AppData\Local\Temp\ccgyyl3Z.s:78     .text.main:0000003c $d

UNDEFINED SYMBOLS
__aeabi_f2d
usart3_default_init
i2c1_master_default_init
mpu6050_init
mpu6050_get_temperature
printf
systick_delay_ms
