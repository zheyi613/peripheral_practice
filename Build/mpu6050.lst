ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"mpu6050.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.data.dt,"aw"
  19              		.align	2
  22              	dt:
  23 0000 6F12833A 		.word	981668463
  24              		.section	.bss.gyro_unit,"aw",%nobits
  25              		.align	2
  28              	gyro_unit:
  29 0000 00000000 		.space	4
  30              		.section	.bss.accel_unit,"aw",%nobits
  31              		.align	2
  34              	accel_unit:
  35 0000 00000000 		.space	4
  36              		.section	.bss.bias,"aw",%nobits
  37              		.align	2
  40              	bias:
  41 0000 00000000 		.space	12
  41      00000000 
  41      00000000 
  42              		.section	.text.mpu6050_power_on,"ax",%progbits
  43              		.align	1
  44              		.global	mpu6050_power_on
  45              		.syntax unified
  46              		.thumb
  47              		.thumb_func
  49              	mpu6050_power_on:
  50              	.LFB0:
  51              		.file 1 "./Src/mpu6050.c"
   1:./Src/mpu6050.c **** /**
   2:./Src/mpu6050.c ****  * @file mpu6050.c
   3:./Src/mpu6050.c ****  * @author zheyi613 (zheyi880613@gmail.com)
   4:./Src/mpu6050.c ****  * @brief MPU6050 library for stm32f767zi
   5:./Src/mpu6050.c ****  * @date 2022-08-24
   6:./Src/mpu6050.c ****  */
   7:./Src/mpu6050.c **** 
   8:./Src/mpu6050.c **** #include "mpu6050.h"
   9:./Src/mpu6050.c **** 
  10:./Src/mpu6050.c **** static void calibration(void);
  11:./Src/mpu6050.c **** 
  12:./Src/mpu6050.c **** static float dt = 0.001;
  13:./Src/mpu6050.c **** static float gyro_unit = 0;
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 2


  14:./Src/mpu6050.c **** static float accel_unit = 0;
  15:./Src/mpu6050.c **** static int16_t bias[6] = {0};
  16:./Src/mpu6050.c **** 
  17:./Src/mpu6050.c **** /* Use PG2 as Vdd of MPU6050 */
  18:./Src/mpu6050.c **** void mpu6050_power_on(void)
  19:./Src/mpu6050.c **** {
  52              		.loc 1 19 1
  53              		.cfi_startproc
  54              		@ args = 0, pretend = 0, frame = 0
  55              		@ frame_needed = 1, uses_anonymous_args = 0
  56 0000 80B5     		push	{r7, lr}
  57              	.LCFI0:
  58              		.cfi_def_cfa_offset 8
  59              		.cfi_offset 7, -8
  60              		.cfi_offset 14, -4
  61 0002 00AF     		add	r7, sp, #0
  62              	.LCFI1:
  63              		.cfi_def_cfa_register 7
  20:./Src/mpu6050.c **** 	RCC->AHB1ENR |= GPIOG_CLK_EN;
  64              		.loc 1 20 15
  65 0004 0B4B     		ldr	r3, .L2
  66 0006 1B6B     		ldr	r3, [r3, #48]
  67 0008 0A4A     		ldr	r2, .L2
  68 000a 43F04003 		orr	r3, r3, #64
  69 000e 1363     		str	r3, [r2, #48]
  21:./Src/mpu6050.c **** 	GPIOG->MODER |= GPIO_MODE_OUTPUT << 4;
  70              		.loc 1 21 15
  71 0010 094B     		ldr	r3, .L2+4
  72 0012 1B68     		ldr	r3, [r3]
  73 0014 084A     		ldr	r2, .L2+4
  74 0016 43F01003 		orr	r3, r3, #16
  75 001a 1360     		str	r3, [r2]
  22:./Src/mpu6050.c **** 	GPIOG->BSRR |= (1U << 2);
  76              		.loc 1 22 14
  77 001c 064B     		ldr	r3, .L2+4
  78 001e 9B69     		ldr	r3, [r3, #24]
  79 0020 054A     		ldr	r2, .L2+4
  80 0022 43F00403 		orr	r3, r3, #4
  81 0026 9361     		str	r3, [r2, #24]
  23:./Src/mpu6050.c **** 
  24:./Src/mpu6050.c **** 	systick_delay_ms(100);
  82              		.loc 1 24 2
  83 0028 6420     		movs	r0, #100
  84 002a FFF7FEFF 		bl	systick_delay_ms
  25:./Src/mpu6050.c **** }
  85              		.loc 1 25 1
  86 002e 00BF     		nop
  87 0030 80BD     		pop	{r7, pc}
  88              	.L3:
  89 0032 00BF     		.align	2
  90              	.L2:
  91 0034 00380240 		.word	1073887232
  92 0038 00180240 		.word	1073879040
  93              		.cfi_endproc
  94              	.LFE0:
  96              		.section	.text.mpu6050_selftest,"ax",%progbits
  97              		.align	1
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 3


  98              		.global	mpu6050_selftest
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	mpu6050_selftest:
 104              	.LFB1:
  26:./Src/mpu6050.c **** 
  27:./Src/mpu6050.c **** /**
  28:./Src/mpu6050.c ****  * @brief Self-Test to get change from foctory trim of the self-test response.
  29:./Src/mpu6050.c ****  * 	  if |value| < 14, the MPU6050 keep its accuracy, else failed.
  30:./Src/mpu6050.c ****  *
  31:./Src/mpu6050.c ****  * @param err error array of gyro and accel change
  32:./Src/mpu6050.c ****  */
  33:./Src/mpu6050.c **** void mpu6050_selftest(float *err)
  34:./Src/mpu6050.c **** {
 105              		.loc 1 34 1
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 32
 108              		@ frame_needed = 1, uses_anonymous_args = 0
 109 0000 80B5     		push	{r7, lr}
 110              	.LCFI2:
 111              		.cfi_def_cfa_offset 8
 112              		.cfi_offset 7, -8
 113              		.cfi_offset 14, -4
 114 0002 8AB0     		sub	sp, sp, #40
 115              	.LCFI3:
 116              		.cfi_def_cfa_offset 48
 117 0004 02AF     		add	r7, sp, #8
 118              	.LCFI4:
 119              		.cfi_def_cfa 7, 40
 120 0006 7860     		str	r0, [r7, #4]
  35:./Src/mpu6050.c **** 	uint8_t tmp = 0xE0;
 121              		.loc 1 35 10
 122 0008 E023     		movs	r3, #224
 123 000a FB75     		strb	r3, [r7, #23]
  36:./Src/mpu6050.c **** 	uint8_t raw_data[4] = {0};
 124              		.loc 1 36 10
 125 000c 0023     		movs	r3, #0
 126 000e 3B61     		str	r3, [r7, #16]
  37:./Src/mpu6050.c **** 	int i;
  38:./Src/mpu6050.c **** 	uint8_t selftest_data[6] = {0};
 127              		.loc 1 38 10
 128 0010 0023     		movs	r3, #0
 129 0012 BB60     		str	r3, [r7, #8]
 130 0014 0023     		movs	r3, #0
 131 0016 BB81     		strh	r3, [r7, #12]	@ movhi
  39:./Src/mpu6050.c **** 	float factory_trim = 0;
 132              		.loc 1 39 8
 133 0018 4FF00003 		mov	r3, #0
 134 001c BB61     		str	r3, [r7, #24]	@ float
  40:./Src/mpu6050.c **** 
  41:./Src/mpu6050.c **** 	// Configure the accelorometer and gyroscope self test
  42:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_ACCEL_CONFIG, 1, &tmp);
 135              		.loc 1 42 2
 136 001e 07F11703 		add	r3, r7, #23
 137 0022 0093     		str	r3, [sp]
 138 0024 0123     		movs	r3, #1
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 4


 139 0026 1C22     		movs	r2, #28
 140 0028 6821     		movs	r1, #104
 141 002a 8F48     		ldr	r0, .L10+24
 142 002c FFF7FEFF 		bl	i2c_write_reg
  43:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_GYRO_CONFIG, 1, &tmp);
 143              		.loc 1 43 2
 144 0030 07F11703 		add	r3, r7, #23
 145 0034 0093     		str	r3, [sp]
 146 0036 0123     		movs	r3, #1
 147 0038 1B22     		movs	r2, #27
 148 003a 6821     		movs	r1, #104
 149 003c 8A48     		ldr	r0, .L10+24
 150 003e FFF7FEFF 		bl	i2c_write_reg
  44:./Src/mpu6050.c **** 
  45:./Src/mpu6050.c **** 	systick_delay_ms(250);
 151              		.loc 1 45 2
 152 0042 FA20     		movs	r0, #250
 153 0044 FFF7FEFF 		bl	systick_delay_ms
  46:./Src/mpu6050.c **** 	// Get raw data from self test register
  47:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_SELF_TEST_X, 4, raw_data);
 154              		.loc 1 47 2
 155 0048 07F11003 		add	r3, r7, #16
 156 004c 0093     		str	r3, [sp]
 157 004e 0423     		movs	r3, #4
 158 0050 0D22     		movs	r2, #13
 159 0052 6821     		movs	r1, #104
 160 0054 8448     		ldr	r0, .L10+24
 161 0056 FFF7FEFF 		bl	i2c_read_reg
  48:./Src/mpu6050.c **** 	// Calculate self test data
  49:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 162              		.loc 1 49 9
 163 005a 0023     		movs	r3, #0
 164 005c FB61     		str	r3, [r7, #28]
 165              		.loc 1 49 2
 166 005e 3BE0     		b	.L5
 167              	.L6:
  50:./Src/mpu6050.c **** 		selftest_data[i] = (raw_data[3] >> (2 * (2 - i))) & 0x3;
 168              		.loc 1 50 31 discriminator 3
 169 0060 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 170 0062 1A46     		mov	r2, r3
 171              		.loc 1 50 46 discriminator 3
 172 0064 FB69     		ldr	r3, [r7, #28]
 173 0066 C3F10203 		rsb	r3, r3, #2
 174              		.loc 1 50 41 discriminator 3
 175 006a 5B00     		lsls	r3, r3, #1
 176              		.loc 1 50 35 discriminator 3
 177 006c 42FA03F3 		asr	r3, r2, r3
 178              		.loc 1 50 53 discriminator 3
 179 0070 DBB2     		uxtb	r3, r3
 180 0072 03F00303 		and	r3, r3, #3
 181 0076 D9B2     		uxtb	r1, r3
 182              		.loc 1 50 20 discriminator 3
 183 0078 07F10802 		add	r2, r7, #8
 184 007c FB69     		ldr	r3, [r7, #28]
 185 007e 1344     		add	r3, r3, r2
 186 0080 0A46     		mov	r2, r1
 187 0082 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 5


  51:./Src/mpu6050.c **** 		selftest_data[i] |= (raw_data[i] & 0xE0) >> 3;
 188              		.loc 1 51 20 discriminator 3
 189 0084 07F10802 		add	r2, r7, #8
 190 0088 FB69     		ldr	r3, [r7, #28]
 191 008a 1344     		add	r3, r3, r2
 192 008c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 193 008e 5AB2     		sxtb	r2, r3
 194              		.loc 1 51 32 discriminator 3
 195 0090 07F11001 		add	r1, r7, #16
 196 0094 FB69     		ldr	r3, [r7, #28]
 197 0096 0B44     		add	r3, r3, r1
 198 0098 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 199              		.loc 1 51 44 discriminator 3
 200 009a DB10     		asrs	r3, r3, #3
 201 009c 5BB2     		sxtb	r3, r3
 202 009e 03F01C03 		and	r3, r3, #28
 203 00a2 5BB2     		sxtb	r3, r3
 204              		.loc 1 51 20 discriminator 3
 205 00a4 1343     		orrs	r3, r3, r2
 206 00a6 5BB2     		sxtb	r3, r3
 207 00a8 D9B2     		uxtb	r1, r3
 208 00aa 07F10802 		add	r2, r7, #8
 209 00ae FB69     		ldr	r3, [r7, #28]
 210 00b0 1344     		add	r3, r3, r2
 211 00b2 0A46     		mov	r2, r1
 212 00b4 1A70     		strb	r2, [r3]
  52:./Src/mpu6050.c **** 		selftest_data[3 + i] = raw_data[i] & 0x1F;
 213              		.loc 1 52 34 discriminator 3
 214 00b6 07F11002 		add	r2, r7, #16
 215 00ba FB69     		ldr	r3, [r7, #28]
 216 00bc 1344     		add	r3, r3, r2
 217 00be 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 218              		.loc 1 52 19 discriminator 3
 219 00c0 FB69     		ldr	r3, [r7, #28]
 220 00c2 0333     		adds	r3, r3, #3
 221              		.loc 1 52 38 discriminator 3
 222 00c4 02F01F02 		and	r2, r2, #31
 223 00c8 D2B2     		uxtb	r2, r2
 224              		.loc 1 52 24 discriminator 3
 225 00ca 2033     		adds	r3, r3, #32
 226 00cc 3B44     		add	r3, r3, r7
 227 00ce 03F8182C 		strb	r2, [r3, #-24]
  49:./Src/mpu6050.c **** 		selftest_data[i] = (raw_data[3] >> (2 * (2 - i))) & 0x3;
 228              		.loc 1 49 22 discriminator 3
 229 00d2 FB69     		ldr	r3, [r7, #28]
 230 00d4 0133     		adds	r3, r3, #1
 231 00d6 FB61     		str	r3, [r7, #28]
 232              	.L5:
  49:./Src/mpu6050.c **** 		selftest_data[i] = (raw_data[3] >> (2 * (2 - i))) & 0x3;
 233              		.loc 1 49 2 discriminator 1
 234 00d8 FB69     		ldr	r3, [r7, #28]
 235 00da 022B     		cmp	r3, #2
 236 00dc C0DD     		ble	.L6
  53:./Src/mpu6050.c **** 	}
  54:./Src/mpu6050.c **** 	// Calculate change from factory trim of the Self-Test response
  55:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 237              		.loc 1 55 9
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 6


 238 00de 0023     		movs	r3, #0
 239 00e0 FB61     		str	r3, [r7, #28]
 240              		.loc 1 55 2
 241 00e2 97E0     		b	.L7
 242              	.L9:
  56:./Src/mpu6050.c **** 		// accelerometer
  57:./Src/mpu6050.c **** 		factory_trim =
  58:./Src/mpu6050.c **** 			4096.0 * 0.34 *
  59:./Src/mpu6050.c **** 			powf(0.92 / 0.34, ((float)selftest_data[i] - 1) / 30.0);
 243              		.loc 1 59 43
 244 00e4 07F10802 		add	r2, r7, #8
 245 00e8 FB69     		ldr	r3, [r7, #28]
 246 00ea 1344     		add	r3, r3, r2
 247 00ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 248              		.loc 1 59 23
 249 00ee 07EE903A 		vmov	s15, r3	@ int
 250 00f2 F8EE677A 		vcvt.f32.u32	s15, s15
 251              		.loc 1 59 47
 252 00f6 B7EE007A 		vmov.f32	s14, #1.0e+0
 253 00fa 77EEC77A 		vsub.f32	s15, s15, s14
 254              		.loc 1 59 4
 255 00fe F3EE0E6A 		vmov.f32	s13, #3.0e+1
 256 0102 87EEA67A 		vdiv.f32	s14, s15, s13
 257 0106 F0EE470A 		vmov.f32	s1, s14
 258 010a 9FED580A 		vldr.32	s0, .L10+28
 259 010e FFF7FEFF 		bl	powf
 260 0112 F0EE407A 		vmov.f32	s15, s0
 261 0116 B7EEE77A 		vcvt.f64.f32	d7, s15
  58:./Src/mpu6050.c **** 			powf(0.92 / 0.34, ((float)selftest_data[i] - 1) / 30.0);
 262              		.loc 1 58 18
 263 011a 9FED4D6B 		vldr.64	d6, .L10
 264 011e 27EE067B 		vmul.f64	d7, d7, d6
  57:./Src/mpu6050.c **** 			4096.0 * 0.34 *
 265              		.loc 1 57 16
 266 0122 F7EEC77B 		vcvt.f32.f64	s15, d7
 267 0126 C7ED067A 		vstr.32	s15, [r7, #24]
  60:./Src/mpu6050.c **** 		err[i] = 100.0 +
  61:./Src/mpu6050.c **** 			 100.0 * ((float)selftest_data[i] - factory_trim) /
 268              		.loc 1 61 34
 269 012a 07F10802 		add	r2, r7, #8
 270 012e FB69     		ldr	r3, [r7, #28]
 271 0130 1344     		add	r3, r3, r2
 272 0132 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 273              		.loc 1 61 14
 274 0134 07EE903A 		vmov	s15, r3	@ int
 275 0138 B8EE677A 		vcvt.f32.u32	s14, s15
 276              		.loc 1 61 38
 277 013c D7ED067A 		vldr.32	s15, [r7, #24]
 278 0140 77EE677A 		vsub.f32	s15, s14, s15
 279 0144 B7EEE77A 		vcvt.f64.f32	d7, s15
 280              		.loc 1 61 11
 281 0148 9FED436B 		vldr.64	d6, .L10+8
 282 014c 27EE065B 		vmul.f64	d5, d7, d6
 283              		.loc 1 61 54
 284 0150 D7ED067A 		vldr.32	s15, [r7, #24]
 285 0154 B7EEE76A 		vcvt.f64.f32	d6, s15
 286 0158 85EE067B 		vdiv.f64	d7, d5, d6
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 7


  60:./Src/mpu6050.c **** 		err[i] = 100.0 +
 287              		.loc 1 60 18
 288 015c 9FED3E6B 		vldr.64	d6, .L10+8
 289 0160 37EE067B 		vadd.f64	d7, d7, d6
  60:./Src/mpu6050.c **** 		err[i] = 100.0 +
 290              		.loc 1 60 6
 291 0164 FB69     		ldr	r3, [r7, #28]
 292 0166 9B00     		lsls	r3, r3, #2
 293 0168 7A68     		ldr	r2, [r7, #4]
 294 016a 1344     		add	r3, r3, r2
  60:./Src/mpu6050.c **** 		err[i] = 100.0 +
 295              		.loc 1 60 18
 296 016c F7EEC77B 		vcvt.f32.f64	s15, d7
  60:./Src/mpu6050.c **** 		err[i] = 100.0 +
 297              		.loc 1 60 10
 298 0170 C3ED007A 		vstr.32	s15, [r3]
  62:./Src/mpu6050.c **** 				 factory_trim;
  63:./Src/mpu6050.c **** 		// gyro factory trim
  64:./Src/mpu6050.c **** 		factory_trim =
  65:./Src/mpu6050.c **** 			25.0 * 131.0 * powf(1.046, selftest_data[3 + i] - 1);
 299              		.loc 1 65 47
 300 0174 FB69     		ldr	r3, [r7, #28]
 301 0176 0333     		adds	r3, r3, #3
 302              		.loc 1 65 44
 303 0178 2033     		adds	r3, r3, #32
 304 017a 3B44     		add	r3, r3, r7
 305 017c 13F8183C 		ldrb	r3, [r3, #-24]	@ zero_extendqisi2
 306              		.loc 1 65 52
 307 0180 013B     		subs	r3, r3, #1
 308              		.loc 1 65 19
 309 0182 07EE903A 		vmov	s15, r3	@ int
 310 0186 F8EEE77A 		vcvt.f32.s32	s15, s15
 311 018a F0EE670A 		vmov.f32	s1, s15
 312 018e 9FED380A 		vldr.32	s0, .L10+32
 313 0192 FFF7FEFF 		bl	powf
 314 0196 F0EE407A 		vmov.f32	s15, s0
 315 019a B7EEE77A 		vcvt.f64.f32	d7, s15
 316              		.loc 1 65 17
 317 019e 9FED306B 		vldr.64	d6, .L10+16
 318 01a2 27EE067B 		vmul.f64	d7, d7, d6
  64:./Src/mpu6050.c **** 			25.0 * 131.0 * powf(1.046, selftest_data[3 + i] - 1);
 319              		.loc 1 64 16
 320 01a6 F7EEC77B 		vcvt.f32.f64	s15, d7
 321 01aa C7ED067A 		vstr.32	s15, [r7, #24]
  66:./Src/mpu6050.c **** 
  67:./Src/mpu6050.c **** 		if (i == 1)
 322              		.loc 1 67 6
 323 01ae FB69     		ldr	r3, [r7, #28]
 324 01b0 012B     		cmp	r3, #1
 325 01b2 05D1     		bne	.L8
  68:./Src/mpu6050.c **** 			factory_trim *= -1;
 326              		.loc 1 68 17
 327 01b4 D7ED067A 		vldr.32	s15, [r7, #24]
 328 01b8 F1EE677A 		vneg.f32	s15, s15
 329 01bc C7ED067A 		vstr.32	s15, [r7, #24]
 330              	.L8:
  69:./Src/mpu6050.c **** 
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 8


  70:./Src/mpu6050.c **** 		err[3 + i] =
  71:./Src/mpu6050.c **** 			100 +
  72:./Src/mpu6050.c **** 			100.0 * ((float)selftest_data[3 + i] - factory_trim) /
 331              		.loc 1 72 36 discriminator 2
 332 01c0 FB69     		ldr	r3, [r7, #28]
 333 01c2 0333     		adds	r3, r3, #3
 334              		.loc 1 72 33 discriminator 2
 335 01c4 2033     		adds	r3, r3, #32
 336 01c6 3B44     		add	r3, r3, r7
 337 01c8 13F8183C 		ldrb	r3, [r3, #-24]	@ zero_extendqisi2
 338              		.loc 1 72 13 discriminator 2
 339 01cc 07EE903A 		vmov	s15, r3	@ int
 340 01d0 B8EE677A 		vcvt.f32.u32	s14, s15
 341              		.loc 1 72 41 discriminator 2
 342 01d4 D7ED067A 		vldr.32	s15, [r7, #24]
 343 01d8 77EE677A 		vsub.f32	s15, s14, s15
 344 01dc B7EEE77A 		vcvt.f64.f32	d7, s15
 345              		.loc 1 72 10 discriminator 2
 346 01e0 9FED1D6B 		vldr.64	d6, .L10+8
 347 01e4 27EE065B 		vmul.f64	d5, d7, d6
 348              		.loc 1 72 57 discriminator 2
 349 01e8 D7ED067A 		vldr.32	s15, [r7, #24]
 350 01ec B7EEE76A 		vcvt.f64.f32	d6, s15
 351 01f0 85EE067B 		vdiv.f64	d7, d5, d6
  71:./Src/mpu6050.c **** 			100.0 * ((float)selftest_data[3 + i] - factory_trim) /
 352              		.loc 1 71 8 discriminator 2
 353 01f4 9FED186B 		vldr.64	d6, .L10+8
 354 01f8 37EE067B 		vadd.f64	d7, d7, d6
  70:./Src/mpu6050.c **** 			100 +
 355              		.loc 1 70 9 discriminator 2
 356 01fc FB69     		ldr	r3, [r7, #28]
 357 01fe 0333     		adds	r3, r3, #3
  70:./Src/mpu6050.c **** 			100 +
 358              		.loc 1 70 6 discriminator 2
 359 0200 9B00     		lsls	r3, r3, #2
 360 0202 7A68     		ldr	r2, [r7, #4]
 361 0204 1344     		add	r3, r3, r2
  71:./Src/mpu6050.c **** 			100.0 * ((float)selftest_data[3 + i] - factory_trim) /
 362              		.loc 1 71 8 discriminator 2
 363 0206 F7EEC77B 		vcvt.f32.f64	s15, d7
  70:./Src/mpu6050.c **** 			100 +
 364              		.loc 1 70 14 discriminator 2
 365 020a C3ED007A 		vstr.32	s15, [r3]
  55:./Src/mpu6050.c **** 		// accelerometer
 366              		.loc 1 55 22 discriminator 2
 367 020e FB69     		ldr	r3, [r7, #28]
 368 0210 0133     		adds	r3, r3, #1
 369 0212 FB61     		str	r3, [r7, #28]
 370              	.L7:
  55:./Src/mpu6050.c **** 		// accelerometer
 371              		.loc 1 55 2 discriminator 1
 372 0214 FB69     		ldr	r3, [r7, #28]
 373 0216 022B     		cmp	r3, #2
 374 0218 7FF764AF 		ble	.L9
  73:./Src/mpu6050.c **** 				factory_trim;
  74:./Src/mpu6050.c **** 	}
  75:./Src/mpu6050.c **** 
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 9


  76:./Src/mpu6050.c **** 	// Clear configuration of the accelorometer and gyroscope self test
  77:./Src/mpu6050.c **** 	tmp = 0;
 375              		.loc 1 77 6
 376 021c 0023     		movs	r3, #0
 377 021e FB75     		strb	r3, [r7, #23]
  78:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_ACCEL_CONFIG, 1, &tmp);
 378              		.loc 1 78 2
 379 0220 07F11703 		add	r3, r7, #23
 380 0224 0093     		str	r3, [sp]
 381 0226 0123     		movs	r3, #1
 382 0228 1C22     		movs	r2, #28
 383 022a 6821     		movs	r1, #104
 384 022c 0E48     		ldr	r0, .L10+24
 385 022e FFF7FEFF 		bl	i2c_write_reg
  79:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_GYRO_CONFIG, 1, &tmp);
 386              		.loc 1 79 2
 387 0232 07F11703 		add	r3, r7, #23
 388 0236 0093     		str	r3, [sp]
 389 0238 0123     		movs	r3, #1
 390 023a 1B22     		movs	r2, #27
 391 023c 6821     		movs	r1, #104
 392 023e 0A48     		ldr	r0, .L10+24
 393 0240 FFF7FEFF 		bl	i2c_write_reg
  80:./Src/mpu6050.c **** }
 394              		.loc 1 80 1
 395 0244 00BF     		nop
 396 0246 2037     		adds	r7, r7, #32
 397              	.LCFI5:
 398              		.cfi_def_cfa_offset 8
 399 0248 BD46     		mov	sp, r7
 400              	.LCFI6:
 401              		.cfi_def_cfa_register 13
 402              		@ sp needed
 403 024a 80BD     		pop	{r7, pc}
 404              	.L11:
 405 024c AFF30080 		.align	3
 406              	.L10:
 407 0250 C3F5285C 		.word	1546188227
 408 0254 8FC29540 		.word	1083556495
 409 0258 00000000 		.word	0
 410 025c 00005940 		.word	1079574528
 411 0260 00000000 		.word	0
 412 0264 0096A940 		.word	1084855808
 413 0268 00540040 		.word	1073763328
 414 026c 2D2D2D40 		.word	1076702509
 415 0270 54E3853F 		.word	1065739092
 416              		.cfi_endproc
 417              	.LFE1:
 419              		.section	.text.mpu6050_default_init,"ax",%progbits
 420              		.align	1
 421              		.global	mpu6050_default_init
 422              		.syntax unified
 423              		.thumb
 424              		.thumb_func
 426              	mpu6050_default_init:
 427              	.LFB2:
  81:./Src/mpu6050.c **** 
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 10


  82:./Src/mpu6050.c **** /*
  83:./Src/mpu6050.c ****  * Default setting:
  84:./Src/mpu6050.c ****  * Clock source: PLL with X axis gyroscope reference
  85:./Src/mpu6050.c ****  * Sampling rate: 1000
  86:./Src/mpu6050.c ****  * Gyroscope full scale range: 250dps
  87:./Src/mpu6050.c ****  * Accelerometer full scale range: 2g
  88:./Src/mpu6050.c ****  *
  89:./Src/mpu6050.c ****  * note: no calibration
  90:./Src/mpu6050.c ****  */
  91:./Src/mpu6050.c **** void mpu6050_default_init(void)
  92:./Src/mpu6050.c **** {
 428              		.loc 1 92 1
 429              		.cfi_startproc
 430              		@ args = 0, pretend = 0, frame = 8
 431              		@ frame_needed = 1, uses_anonymous_args = 0
 432 0000 80B5     		push	{r7, lr}
 433              	.LCFI7:
 434              		.cfi_def_cfa_offset 8
 435              		.cfi_offset 7, -8
 436              		.cfi_offset 14, -4
 437 0002 84B0     		sub	sp, sp, #16
 438              	.LCFI8:
 439              		.cfi_def_cfa_offset 24
 440 0004 02AF     		add	r7, sp, #8
 441              	.LCFI9:
 442              		.cfi_def_cfa 7, 16
  93:./Src/mpu6050.c **** 	uint8_t tmp = MPU6050_DEVICE_RESET;
 443              		.loc 1 93 10
 444 0006 8023     		movs	r3, #128
 445 0008 FB71     		strb	r3, [r7, #7]
  94:./Src/mpu6050.c **** 	// Reset MPU6050
  95:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_PWR_MGMT_1, 1, &tmp);
 446              		.loc 1 95 2
 447 000a FB1D     		adds	r3, r7, #7
 448 000c 0093     		str	r3, [sp]
 449 000e 0123     		movs	r3, #1
 450 0010 6B22     		movs	r2, #107
 451 0012 6821     		movs	r1, #104
 452 0014 1348     		ldr	r0, .L13
 453 0016 FFF7FEFF 		bl	i2c_write_reg
  96:./Src/mpu6050.c **** 	systick_delay_ms(100);
 454              		.loc 1 96 2
 455 001a 6420     		movs	r0, #100
 456 001c FFF7FEFF 		bl	systick_delay_ms
  97:./Src/mpu6050.c **** 	// Wake up and use PLL with X axis gyroscope reference as clock source
  98:./Src/mpu6050.c **** 	tmp = MPU6050_CLK_X_GYRO;
 457              		.loc 1 98 6
 458 0020 0123     		movs	r3, #1
 459 0022 FB71     		strb	r3, [r7, #7]
  99:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_PWR_MGMT_1, 1, &tmp);
 460              		.loc 1 99 2
 461 0024 FB1D     		adds	r3, r7, #7
 462 0026 0093     		str	r3, [sp]
 463 0028 0123     		movs	r3, #1
 464 002a 6B22     		movs	r2, #107
 465 002c 6821     		movs	r1, #104
 466 002e 0D48     		ldr	r0, .L13
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 11


 467 0030 FFF7FEFF 		bl	i2c_write_reg
 100:./Src/mpu6050.c **** 	systick_delay_ms(100);
 468              		.loc 1 100 2
 469 0034 6420     		movs	r0, #100
 470 0036 FFF7FEFF 		bl	systick_delay_ms
 101:./Src/mpu6050.c **** 	// Set sample rate to 1kHz
 102:./Src/mpu6050.c **** 	tmp = 1;
 471              		.loc 1 102 6
 472 003a 0123     		movs	r3, #1
 473 003c FB71     		strb	r3, [r7, #7]
 103:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_CONFIG, 1, &tmp);
 474              		.loc 1 103 2
 475 003e FB1D     		adds	r3, r7, #7
 476 0040 0093     		str	r3, [sp]
 477 0042 0123     		movs	r3, #1
 478 0044 1A22     		movs	r2, #26
 479 0046 6821     		movs	r1, #104
 480 0048 0648     		ldr	r0, .L13
 481 004a FFF7FEFF 		bl	i2c_write_reg
 104:./Src/mpu6050.c **** 	// initial gyroscope and accelorometer unit
 105:./Src/mpu6050.c **** 	gyro_unit = MPU6050_GYRO_UNIT;
 482              		.loc 1 105 12
 483 004e 064B     		ldr	r3, .L13+4
 484 0050 064A     		ldr	r2, .L13+8
 485 0052 1A60     		str	r2, [r3]	@ float
 106:./Src/mpu6050.c **** 	accel_unit = MPU6050_ACCEL_UNIT;
 486              		.loc 1 106 13
 487 0054 064B     		ldr	r3, .L13+12
 488 0056 074A     		ldr	r2, .L13+16
 489 0058 1A60     		str	r2, [r3]	@ float
 107:./Src/mpu6050.c **** }
 490              		.loc 1 107 1
 491 005a 00BF     		nop
 492 005c 0837     		adds	r7, r7, #8
 493              	.LCFI10:
 494              		.cfi_def_cfa_offset 8
 495 005e BD46     		mov	sp, r7
 496              	.LCFI11:
 497              		.cfi_def_cfa_register 13
 498              		@ sp needed
 499 0060 80BD     		pop	{r7, pc}
 500              	.L14:
 501 0062 00BF     		.align	2
 502              	.L13:
 503 0064 00540040 		.word	1073763328
 504 0068 00000000 		.word	gyro_unit
 505 006c FA00FA3B 		.word	1006239994
 506 0070 00000000 		.word	accel_unit
 507 0074 80008038 		.word	947912832
 508              		.cfi_endproc
 509              	.LFE2:
 511              		.section	.text.mpu6050_init,"ax",%progbits
 512              		.align	1
 513              		.global	mpu6050_init
 514              		.syntax unified
 515              		.thumb
 516              		.thumb_func
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 12


 518              	mpu6050_init:
 519              	.LFB3:
 108:./Src/mpu6050.c **** 
 109:./Src/mpu6050.c **** /**
 110:./Src/mpu6050.c ****  * @brief Initial mpu6050 with user selecting sample rate,
 111:./Src/mpu6050.c ****  *        gyro full scale range, accel full scale range.
 112:./Src/mpu6050.c ****  *        Set proper low pass filter and calibrate mpu6050.
 113:./Src/mpu6050.c ****  *
 114:./Src/mpu6050.c ****  * @param sample_rate (Hz)
 115:./Src/mpu6050.c ****  * @param gyro_range  (dps)
 116:./Src/mpu6050.c ****  * @param accel_range (g)
 117:./Src/mpu6050.c ****  */
 118:./Src/mpu6050.c **** void mpu6050_init(uint16_t sample_rate, uint8_t accel_range,
 119:./Src/mpu6050.c **** 		  uint16_t gyro_range)
 120:./Src/mpu6050.c **** {
 520              		.loc 1 120 1
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 16
 523              		@ frame_needed = 1, uses_anonymous_args = 0
 524 0000 80B5     		push	{r7, lr}
 525              	.LCFI12:
 526              		.cfi_def_cfa_offset 8
 527              		.cfi_offset 7, -8
 528              		.cfi_offset 14, -4
 529 0002 86B0     		sub	sp, sp, #24
 530              	.LCFI13:
 531              		.cfi_def_cfa_offset 32
 532 0004 02AF     		add	r7, sp, #8
 533              	.LCFI14:
 534              		.cfi_def_cfa 7, 24
 535 0006 0346     		mov	r3, r0
 536 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 537 000a 0B46     		mov	r3, r1
 538 000c 7B71     		strb	r3, [r7, #5]
 539 000e 1346     		mov	r3, r2	@ movhi
 540 0010 7B80     		strh	r3, [r7, #2]	@ movhi
 121:./Src/mpu6050.c **** 	uint8_t div = (uint8_t)(1000 / sample_rate - 1);
 541              		.loc 1 121 31
 542 0012 FB88     		ldrh	r3, [r7, #6]
 543 0014 4FF47A72 		mov	r2, #1000
 544 0018 92FBF3F3 		sdiv	r3, r2, r3
 545              		.loc 1 121 16
 546 001c DBB2     		uxtb	r3, r3
 547 001e 013B     		subs	r3, r3, #1
 548 0020 DBB2     		uxtb	r3, r3
 549              		.loc 1 121 10
 550 0022 FB73     		strb	r3, [r7, #15]
 122:./Src/mpu6050.c **** 	uint8_t low_pass_cfg = 0;
 551              		.loc 1 122 10
 552 0024 0023     		movs	r3, #0
 553 0026 BB73     		strb	r3, [r7, #14]
 123:./Src/mpu6050.c **** 	uint16_t tmp = sample_rate;
 554              		.loc 1 123 11
 555 0028 FB88     		ldrh	r3, [r7, #6]	@ movhi
 556 002a BB81     		strh	r3, [r7, #12]	@ movhi
 124:./Src/mpu6050.c **** 
 125:./Src/mpu6050.c **** 	mpu6050_default_init();
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 13


 557              		.loc 1 125 2
 558 002c FFF7FEFF 		bl	mpu6050_default_init
 126:./Src/mpu6050.c **** 
 127:./Src/mpu6050.c **** 	dt = 1.0 / (float)sample_rate;
 559              		.loc 1 127 13
 560 0030 FB88     		ldrh	r3, [r7, #6]
 561 0032 07EE903A 		vmov	s15, r3	@ int
 562 0036 B8EE677A 		vcvt.f32.u32	s14, s15
 563              		.loc 1 127 11
 564 003a F7EE006A 		vmov.f32	s13, #1.0e+0
 565 003e C6EE877A 		vdiv.f32	s15, s13, s14
 566              		.loc 1 127 5
 567 0042 354B     		ldr	r3, .L22
 568 0044 C3ED007A 		vstr.32	s15, [r3]
 128:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_SMPLRT_DIV, 1, &div);
 569              		.loc 1 128 2
 570 0048 07F10F03 		add	r3, r7, #15
 571 004c 0093     		str	r3, [sp]
 572 004e 0123     		movs	r3, #1
 573 0050 1922     		movs	r2, #25
 574 0052 6821     		movs	r1, #104
 575 0054 3148     		ldr	r0, .L22+4
 576 0056 FFF7FEFF 		bl	i2c_write_reg
 129:./Src/mpu6050.c **** 	// Set low pass filter
 130:./Src/mpu6050.c **** 	while (1000 > tmp) {
 577              		.loc 1 130 8
 578 005a 07E0     		b	.L16
 579              	.L17:
 131:./Src/mpu6050.c **** 		tmp <<= 1;
 580              		.loc 1 131 7
 581 005c BB89     		ldrh	r3, [r7, #12]
 582 005e 5B00     		lsls	r3, r3, #1
 583 0060 9BB2     		uxth	r3, r3
 584 0062 BB81     		strh	r3, [r7, #12]	@ movhi
 132:./Src/mpu6050.c **** 		low_pass_cfg++;
 585              		.loc 1 132 15
 586 0064 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 587 0066 0133     		adds	r3, r3, #1
 588 0068 DBB2     		uxtb	r3, r3
 589 006a BB73     		strb	r3, [r7, #14]
 590              	.L16:
 130:./Src/mpu6050.c **** 		tmp <<= 1;
 591              		.loc 1 130 14
 592 006c BB89     		ldrh	r3, [r7, #12]
 130:./Src/mpu6050.c **** 		tmp <<= 1;
 593              		.loc 1 130 8
 594 006e B3F57A7F 		cmp	r3, #1000
 595 0072 F3D3     		bcc	.L17
 133:./Src/mpu6050.c **** 	}
 134:./Src/mpu6050.c **** 
 135:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_CONFIG, 1, &low_pass_cfg);
 596              		.loc 1 135 2
 597 0074 07F10E03 		add	r3, r7, #14
 598 0078 0093     		str	r3, [sp]
 599 007a 0123     		movs	r3, #1
 600 007c 1A22     		movs	r2, #26
 601 007e 6821     		movs	r1, #104
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 14


 602 0080 2648     		ldr	r0, .L22+4
 603 0082 FFF7FEFF 		bl	i2c_write_reg
 136:./Src/mpu6050.c **** 	// Set gyroscope and accelerometer full scale range
 137:./Src/mpu6050.c **** 	tmp = 0;
 604              		.loc 1 137 6
 605 0086 0023     		movs	r3, #0
 606 0088 BB81     		strh	r3, [r7, #12]	@ movhi
 138:./Src/mpu6050.c **** 	accel_range /= 4;
 607              		.loc 1 138 14
 608 008a 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 609 008c 9B08     		lsrs	r3, r3, #2
 610 008e 7B71     		strb	r3, [r7, #5]
 139:./Src/mpu6050.c **** 
 140:./Src/mpu6050.c **** 	while (accel_range) {
 611              		.loc 1 140 8
 612 0090 0AE0     		b	.L18
 613              	.L19:
 141:./Src/mpu6050.c **** 		accel_range >>= 1;
 614              		.loc 1 141 15
 615 0092 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 616 0094 5B08     		lsrs	r3, r3, #1
 617 0096 7B71     		strb	r3, [r7, #5]
 142:./Src/mpu6050.c **** 		accel_unit *= 2;
 618              		.loc 1 142 14
 619 0098 214B     		ldr	r3, .L22+8
 620 009a D3ED007A 		vldr.32	s15, [r3]
 621 009e 77EEA77A 		vadd.f32	s15, s15, s15
 622 00a2 1F4B     		ldr	r3, .L22+8
 623 00a4 C3ED007A 		vstr.32	s15, [r3]
 624              	.L18:
 140:./Src/mpu6050.c **** 		accel_range >>= 1;
 625              		.loc 1 140 8
 626 00a8 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 627 00aa 002B     		cmp	r3, #0
 628 00ac F1D1     		bne	.L19
 143:./Src/mpu6050.c **** 	}
 144:./Src/mpu6050.c **** 
 145:./Src/mpu6050.c **** 	tmp <<= 8;
 629              		.loc 1 145 6
 630 00ae BB89     		ldrh	r3, [r7, #12]
 631 00b0 1B02     		lsls	r3, r3, #8
 632 00b2 9BB2     		uxth	r3, r3
 633 00b4 BB81     		strh	r3, [r7, #12]	@ movhi
 146:./Src/mpu6050.c **** 	gyro_range /= 500;
 634              		.loc 1 146 13
 635 00b6 7B88     		ldrh	r3, [r7, #2]
 636 00b8 1A4A     		ldr	r2, .L22+12
 637 00ba A2FB0323 		umull	r2, r3, r2, r3
 638 00be 5B09     		lsrs	r3, r3, #5
 639 00c0 7B80     		strh	r3, [r7, #2]	@ movhi
 147:./Src/mpu6050.c **** 
 148:./Src/mpu6050.c **** 	while (gyro_range) {
 640              		.loc 1 148 8
 641 00c2 0EE0     		b	.L20
 642              	.L21:
 149:./Src/mpu6050.c **** 		gyro_range >>= 1;
 643              		.loc 1 149 14
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 15


 644 00c4 7B88     		ldrh	r3, [r7, #2]
 645 00c6 5B08     		lsrs	r3, r3, #1
 646 00c8 7B80     		strh	r3, [r7, #2]	@ movhi
 150:./Src/mpu6050.c **** 		gyro_unit *= 2;
 647              		.loc 1 150 13
 648 00ca 174B     		ldr	r3, .L22+16
 649 00cc D3ED007A 		vldr.32	s15, [r3]
 650 00d0 77EEA77A 		vadd.f32	s15, s15, s15
 651 00d4 144B     		ldr	r3, .L22+16
 652 00d6 C3ED007A 		vstr.32	s15, [r3]
 151:./Src/mpu6050.c **** 		tmp++;
 653              		.loc 1 151 6
 654 00da BB89     		ldrh	r3, [r7, #12]
 655 00dc 0133     		adds	r3, r3, #1
 656 00de 9BB2     		uxth	r3, r3
 657 00e0 BB81     		strh	r3, [r7, #12]	@ movhi
 658              	.L20:
 148:./Src/mpu6050.c **** 		gyro_range >>= 1;
 659              		.loc 1 148 8
 660 00e2 7B88     		ldrh	r3, [r7, #2]
 661 00e4 002B     		cmp	r3, #0
 662 00e6 EDD1     		bne	.L21
 152:./Src/mpu6050.c **** 	}
 153:./Src/mpu6050.c **** 
 154:./Src/mpu6050.c **** 	tmp <<= 3;
 663              		.loc 1 154 6
 664 00e8 BB89     		ldrh	r3, [r7, #12]
 665 00ea DB00     		lsls	r3, r3, #3
 666 00ec 9BB2     		uxth	r3, r3
 667 00ee BB81     		strh	r3, [r7, #12]	@ movhi
 155:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_GYRO_CONFIG, 2,
 668              		.loc 1 155 2
 669 00f0 07F10C03 		add	r3, r7, #12
 670 00f4 0093     		str	r3, [sp]
 671 00f6 0223     		movs	r3, #2
 672 00f8 1B22     		movs	r2, #27
 673 00fa 6821     		movs	r1, #104
 674 00fc 0748     		ldr	r0, .L22+4
 675 00fe FFF7FEFF 		bl	i2c_write_reg
 156:./Src/mpu6050.c **** 		      (uint8_t *)&tmp);
 157:./Src/mpu6050.c **** 	systick_delay_ms(500);
 676              		.loc 1 157 2
 677 0102 4FF4FA70 		mov	r0, #500
 678 0106 FFF7FEFF 		bl	systick_delay_ms
 158:./Src/mpu6050.c **** 
 159:./Src/mpu6050.c **** 	calibration();
 679              		.loc 1 159 2
 680 010a FFF7FEFF 		bl	calibration
 160:./Src/mpu6050.c **** }
 681              		.loc 1 160 1
 682 010e 00BF     		nop
 683 0110 1037     		adds	r7, r7, #16
 684              	.LCFI15:
 685              		.cfi_def_cfa_offset 8
 686 0112 BD46     		mov	sp, r7
 687              	.LCFI16:
 688              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 16


 689              		@ sp needed
 690 0114 80BD     		pop	{r7, pc}
 691              	.L23:
 692 0116 00BF     		.align	2
 693              	.L22:
 694 0118 00000000 		.word	dt
 695 011c 00540040 		.word	1073763328
 696 0120 00000000 		.word	accel_unit
 697 0124 D34D6210 		.word	274877907
 698 0128 00000000 		.word	gyro_unit
 699              		.cfi_endproc
 700              	.LFE3:
 702              		.section	.text.calibration,"ax",%progbits
 703              		.align	1
 704              		.syntax unified
 705              		.thumb
 706              		.thumb_func
 708              	calibration:
 709              	.LFB4:
 161:./Src/mpu6050.c **** 
 162:./Src/mpu6050.c **** static void calibration(void)
 163:./Src/mpu6050.c **** {
 710              		.loc 1 163 1
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 56
 713              		@ frame_needed = 1, uses_anonymous_args = 0
 714 0000 80B5     		push	{r7, lr}
 715              	.LCFI17:
 716              		.cfi_def_cfa_offset 8
 717              		.cfi_offset 7, -8
 718              		.cfi_offset 14, -4
 719 0002 90B0     		sub	sp, sp, #64
 720              	.LCFI18:
 721              		.cfi_def_cfa_offset 72
 722 0004 02AF     		add	r7, sp, #8
 723              	.LCFI19:
 724              		.cfi_def_cfa 7, 64
 164:./Src/mpu6050.c **** 	uint8_t tmp = MPU6050_USER_CTRL_FIFO_EN;
 725              		.loc 1 164 10
 726 0006 4023     		movs	r3, #64
 727 0008 87F82D30 		strb	r3, [r7, #45]
 165:./Src/mpu6050.c **** 	uint16_t fifo_count = 0;
 728              		.loc 1 165 11
 729 000c 0023     		movs	r3, #0
 730 000e 7B85     		strh	r3, [r7, #42]	@ movhi
 166:./Src/mpu6050.c **** 	uint16_t packet_count = 0;
 731              		.loc 1 166 11
 732 0010 0023     		movs	r3, #0
 733 0012 FB85     		strh	r3, [r7, #46]	@ movhi
 167:./Src/mpu6050.c **** 	int i, j;
 168:./Src/mpu6050.c **** 	int16_t data[6] = {0};
 734              		.loc 1 168 10
 735 0014 07F11C03 		add	r3, r7, #28
 736 0018 0022     		movs	r2, #0
 737 001a 1A60     		str	r2, [r3]
 738 001c 5A60     		str	r2, [r3, #4]
 739 001e 9A60     		str	r2, [r3, #8]
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 17


 169:./Src/mpu6050.c **** 	int32_t sum[6] = {0};
 740              		.loc 1 169 10
 741 0020 3B1D     		adds	r3, r7, #4
 742 0022 0022     		movs	r2, #0
 743 0024 1A60     		str	r2, [r3]
 744 0026 5A60     		str	r2, [r3, #4]
 745 0028 9A60     		str	r2, [r3, #8]
 746 002a DA60     		str	r2, [r3, #12]
 747 002c 1A61     		str	r2, [r3, #16]
 748 002e 5A61     		str	r2, [r3, #20]
 170:./Src/mpu6050.c **** 
 171:./Src/mpu6050.c **** 	// Enable FIFO
 172:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_USER_CTRL, 1, &tmp);
 749              		.loc 1 172 2
 750 0030 07F12D03 		add	r3, r7, #45
 751 0034 0093     		str	r3, [sp]
 752 0036 0123     		movs	r3, #1
 753 0038 6A22     		movs	r2, #106
 754 003a 6821     		movs	r1, #104
 755 003c 5348     		ldr	r0, .L31
 756 003e FFF7FEFF 		bl	i2c_write_reg
 173:./Src/mpu6050.c **** 	// Enable gyro and accel FIFO
 174:./Src/mpu6050.c **** 	tmp = 0x78;
 757              		.loc 1 174 6
 758 0042 7823     		movs	r3, #120
 759 0044 87F82D30 		strb	r3, [r7, #45]
 175:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_EN, 1, &tmp);
 760              		.loc 1 175 2
 761 0048 07F12D03 		add	r3, r7, #45
 762 004c 0093     		str	r3, [sp]
 763 004e 0123     		movs	r3, #1
 764 0050 2322     		movs	r2, #35
 765 0052 6821     		movs	r1, #104
 766 0054 4D48     		ldr	r0, .L31
 767 0056 FFF7FEFF 		bl	i2c_write_reg
 176:./Src/mpu6050.c **** 	// According to sample division to delay time
 177:./Src/mpu6050.c **** 	systick_delay_ms((int)(20000 * dt));
 768              		.loc 1 177 31
 769 005a 4D4B     		ldr	r3, .L31+4
 770 005c D3ED007A 		vldr.32	s15, [r3]
 771 0060 9FED4C7A 		vldr.32	s14, .L31+8
 772 0064 67EE877A 		vmul.f32	s15, s15, s14
 773              		.loc 1 177 2
 774 0068 FDEEE77A 		vcvt.s32.f32	s15, s15
 775 006c 17EE900A 		vmov	r0, s15	@ int
 776 0070 FFF7FEFF 		bl	systick_delay_ms
 178:./Src/mpu6050.c **** 	// Disable accel and gyro FIFO
 179:./Src/mpu6050.c **** 	tmp = 0;
 777              		.loc 1 179 6
 778 0074 0023     		movs	r3, #0
 779 0076 87F82D30 		strb	r3, [r7, #45]
 180:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_EN, 1, &tmp);
 780              		.loc 1 180 2
 781 007a 07F12D03 		add	r3, r7, #45
 782 007e 0093     		str	r3, [sp]
 783 0080 0123     		movs	r3, #1
 784 0082 2322     		movs	r2, #35
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 18


 785 0084 6821     		movs	r1, #104
 786 0086 4148     		ldr	r0, .L31
 787 0088 FFF7FEFF 		bl	i2c_write_reg
 181:./Src/mpu6050.c **** 	// Read FIFO sample count
 182:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_COUNTH, 2,
 788              		.loc 1 182 2
 789 008c 07F12A03 		add	r3, r7, #42
 790 0090 0093     		str	r3, [sp]
 791 0092 0223     		movs	r3, #2
 792 0094 7222     		movs	r2, #114
 793 0096 6821     		movs	r1, #104
 794 0098 3C48     		ldr	r0, .L31
 795 009a FFF7FEFF 		bl	i2c_read_reg
 183:./Src/mpu6050.c **** 		     (uint8_t *)&fifo_count);
 184:./Src/mpu6050.c **** 	fifo_count = (fifo_count << 8) | (fifo_count >> 8);
 796              		.loc 1 184 27
 797 009e 7B8D     		ldrh	r3, [r7, #42]
 798 00a0 1B02     		lsls	r3, r3, #8
 799              		.loc 1 184 33
 800 00a2 1AB2     		sxth	r2, r3
 801 00a4 7B8D     		ldrh	r3, [r7, #42]
 802 00a6 1B0A     		lsrs	r3, r3, #8
 803 00a8 9BB2     		uxth	r3, r3
 804 00aa 1BB2     		sxth	r3, r3
 805 00ac 1343     		orrs	r3, r3, r2
 806 00ae 1BB2     		sxth	r3, r3
 807 00b0 9BB2     		uxth	r3, r3
 808              		.loc 1 184 13
 809 00b2 7B85     		strh	r3, [r7, #42]	@ movhi
 185:./Src/mpu6050.c **** 	packet_count = fifo_count / 12;
 810              		.loc 1 185 15
 811 00b4 7B8D     		ldrh	r3, [r7, #42]
 812 00b6 384A     		ldr	r2, .L31+12
 813 00b8 A2FB0323 		umull	r2, r3, r2, r3
 814 00bc DB08     		lsrs	r3, r3, #3
 815 00be FB85     		strh	r3, [r7, #46]	@ movhi
 186:./Src/mpu6050.c **** 	// Read FIFO data and calculate bias
 187:./Src/mpu6050.c **** 	for (i = 0; i < packet_count; i++) {
 816              		.loc 1 187 9
 817 00c0 0023     		movs	r3, #0
 818 00c2 7B63     		str	r3, [r7, #52]
 819              		.loc 1 187 2
 820 00c4 41E0     		b	.L25
 821              	.L28:
 188:./Src/mpu6050.c **** 		i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_R_W, 12,
 822              		.loc 1 188 3
 823 00c6 07F11C03 		add	r3, r7, #28
 824 00ca 0093     		str	r3, [sp]
 825 00cc 0C23     		movs	r3, #12
 826 00ce 7422     		movs	r2, #116
 827 00d0 6821     		movs	r1, #104
 828 00d2 2E48     		ldr	r0, .L31
 829 00d4 FFF7FEFF 		bl	i2c_read_reg
 189:./Src/mpu6050.c **** 			     (uint8_t *)data);
 190:./Src/mpu6050.c **** 
 191:./Src/mpu6050.c **** 		for (j = 0; j < 6; j++) {
 830              		.loc 1 191 10
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 19


 831 00d8 0023     		movs	r3, #0
 832 00da 3B63     		str	r3, [r7, #48]
 833              		.loc 1 191 3
 834 00dc 2FE0     		b	.L26
 835              	.L27:
 192:./Src/mpu6050.c **** 			data[j] = (data[j] << 8) | ((data[j] >> 8) & 0xFF);
 836              		.loc 1 192 19 discriminator 3
 837 00de 3B6B     		ldr	r3, [r7, #48]
 838 00e0 5B00     		lsls	r3, r3, #1
 839 00e2 3833     		adds	r3, r3, #56
 840 00e4 3B44     		add	r3, r3, r7
 841 00e6 33F91C3C 		ldrsh	r3, [r3, #-28]
 842              		.loc 1 192 23 discriminator 3
 843 00ea 1B02     		lsls	r3, r3, #8
 844              		.loc 1 192 29 discriminator 3
 845 00ec 1AB2     		sxth	r2, r3
 846              		.loc 1 192 37 discriminator 3
 847 00ee 3B6B     		ldr	r3, [r7, #48]
 848 00f0 5B00     		lsls	r3, r3, #1
 849 00f2 3833     		adds	r3, r3, #56
 850 00f4 3B44     		add	r3, r3, r7
 851 00f6 33F91C3C 		ldrsh	r3, [r3, #-28]
 852              		.loc 1 192 47 discriminator 3
 853 00fa 9BB2     		uxth	r3, r3
 854 00fc 1B0A     		lsrs	r3, r3, #8
 855 00fe 9BB2     		uxth	r3, r3
 856 0100 1BB2     		sxth	r3, r3
 857              		.loc 1 192 29 discriminator 3
 858 0102 1343     		orrs	r3, r3, r2
 859 0104 1AB2     		sxth	r2, r3
 860              		.loc 1 192 12 discriminator 3
 861 0106 3B6B     		ldr	r3, [r7, #48]
 862 0108 5B00     		lsls	r3, r3, #1
 863 010a 3833     		adds	r3, r3, #56
 864 010c 3B44     		add	r3, r3, r7
 865 010e 23F81C2C 		strh	r2, [r3, #-28]	@ movhi
 193:./Src/mpu6050.c **** 			sum[j] += (int32_t)data[j];
 866              		.loc 1 193 11 discriminator 3
 867 0112 3B6B     		ldr	r3, [r7, #48]
 868 0114 9B00     		lsls	r3, r3, #2
 869 0116 3833     		adds	r3, r3, #56
 870 0118 3B44     		add	r3, r3, r7
 871 011a 53F8342C 		ldr	r2, [r3, #-52]
 872              		.loc 1 193 27 discriminator 3
 873 011e 3B6B     		ldr	r3, [r7, #48]
 874 0120 5B00     		lsls	r3, r3, #1
 875 0122 3833     		adds	r3, r3, #56
 876 0124 3B44     		add	r3, r3, r7
 877 0126 33F91C3C 		ldrsh	r3, [r3, #-28]
 878              		.loc 1 193 11 discriminator 3
 879 012a 1A44     		add	r2, r2, r3
 880 012c 3B6B     		ldr	r3, [r7, #48]
 881 012e 9B00     		lsls	r3, r3, #2
 882 0130 3833     		adds	r3, r3, #56
 883 0132 3B44     		add	r3, r3, r7
 884 0134 43F8342C 		str	r2, [r3, #-52]
 191:./Src/mpu6050.c **** 			data[j] = (data[j] << 8) | ((data[j] >> 8) & 0xFF);
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 20


 885              		.loc 1 191 23 discriminator 3
 886 0138 3B6B     		ldr	r3, [r7, #48]
 887 013a 0133     		adds	r3, r3, #1
 888 013c 3B63     		str	r3, [r7, #48]
 889              	.L26:
 191:./Src/mpu6050.c **** 			data[j] = (data[j] << 8) | ((data[j] >> 8) & 0xFF);
 890              		.loc 1 191 3 discriminator 1
 891 013e 3B6B     		ldr	r3, [r7, #48]
 892 0140 052B     		cmp	r3, #5
 893 0142 CCDD     		ble	.L27
 187:./Src/mpu6050.c **** 		i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_R_W, 12,
 894              		.loc 1 187 33 discriminator 2
 895 0144 7B6B     		ldr	r3, [r7, #52]
 896 0146 0133     		adds	r3, r3, #1
 897 0148 7B63     		str	r3, [r7, #52]
 898              	.L25:
 187:./Src/mpu6050.c **** 		i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_R_W, 12,
 899              		.loc 1 187 16 discriminator 1
 900 014a FB8D     		ldrh	r3, [r7, #46]
 187:./Src/mpu6050.c **** 		i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_R_W, 12,
 901              		.loc 1 187 2 discriminator 1
 902 014c 7A6B     		ldr	r2, [r7, #52]
 903 014e 9A42     		cmp	r2, r3
 904 0150 B9DB     		blt	.L28
 194:./Src/mpu6050.c **** 		}
 195:./Src/mpu6050.c **** 	}
 196:./Src/mpu6050.c **** 
 197:./Src/mpu6050.c **** 	for (i = 0; i < 6; i++) {
 905              		.loc 1 197 9
 906 0152 0023     		movs	r3, #0
 907 0154 7B63     		str	r3, [r7, #52]
 908              		.loc 1 197 2
 909 0156 10E0     		b	.L29
 910              	.L30:
 198:./Src/mpu6050.c **** 		bias[i] = (int16_t)(sum[i] / packet_count);
 911              		.loc 1 198 26 discriminator 3
 912 0158 7B6B     		ldr	r3, [r7, #52]
 913 015a 9B00     		lsls	r3, r3, #2
 914 015c 3833     		adds	r3, r3, #56
 915 015e 3B44     		add	r3, r3, r7
 916 0160 53F8342C 		ldr	r2, [r3, #-52]
 917              		.loc 1 198 30 discriminator 3
 918 0164 FB8D     		ldrh	r3, [r7, #46]
 919 0166 92FBF3F3 		sdiv	r3, r2, r3
 920              		.loc 1 198 13 discriminator 3
 921 016a 19B2     		sxth	r1, r3
 922              		.loc 1 198 11 discriminator 3
 923 016c 0B4A     		ldr	r2, .L31+16
 924 016e 7B6B     		ldr	r3, [r7, #52]
 925 0170 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 197:./Src/mpu6050.c **** 		bias[i] = (int16_t)(sum[i] / packet_count);
 926              		.loc 1 197 22 discriminator 3
 927 0174 7B6B     		ldr	r3, [r7, #52]
 928 0176 0133     		adds	r3, r3, #1
 929 0178 7B63     		str	r3, [r7, #52]
 930              	.L29:
 197:./Src/mpu6050.c **** 		bias[i] = (int16_t)(sum[i] / packet_count);
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 21


 931              		.loc 1 197 2 discriminator 1
 932 017a 7B6B     		ldr	r3, [r7, #52]
 933 017c 052B     		cmp	r3, #5
 934 017e EBDD     		ble	.L30
 199:./Src/mpu6050.c **** 	}
 200:./Src/mpu6050.c **** }
 935              		.loc 1 200 1
 936 0180 00BF     		nop
 937 0182 00BF     		nop
 938 0184 3837     		adds	r7, r7, #56
 939              	.LCFI20:
 940              		.cfi_def_cfa_offset 8
 941 0186 BD46     		mov	sp, r7
 942              	.LCFI21:
 943              		.cfi_def_cfa_register 13
 944              		@ sp needed
 945 0188 80BD     		pop	{r7, pc}
 946              	.L32:
 947 018a 00BF     		.align	2
 948              	.L31:
 949 018c 00540040 		.word	1073763328
 950 0190 00000000 		.word	dt
 951 0194 00409C46 		.word	1184645120
 952 0198 ABAAAAAA 		.word	-1431655765
 953 019c 00000000 		.word	bias
 954              		.cfi_endproc
 955              	.LFE4:
 957              		.section	.text.mpu6050_kalman_gyro,"ax",%progbits
 958              		.align	1
 959              		.global	mpu6050_kalman_gyro
 960              		.syntax unified
 961              		.thumb
 962              		.thumb_func
 964              	mpu6050_kalman_gyro:
 965              	.LFB5:
 201:./Src/mpu6050.c **** 
 202:./Src/mpu6050.c **** void mpu6050_kalman_gyro(float (*X)[2], float *Z)
 203:./Src/mpu6050.c **** {
 966              		.loc 1 203 1
 967              		.cfi_startproc
 968              		@ args = 0, pretend = 0, frame = 48
 969              		@ frame_needed = 1, uses_anonymous_args = 0
 970              		@ link register save eliminated.
 971 0000 80B4     		push	{r7}
 972              	.LCFI22:
 973              		.cfi_def_cfa_offset 4
 974              		.cfi_offset 7, -4
 975 0002 8DB0     		sub	sp, sp, #52
 976              	.LCFI23:
 977              		.cfi_def_cfa_offset 56
 978 0004 00AF     		add	r7, sp, #0
 979              	.LCFI24:
 980              		.cfi_def_cfa_register 7
 981 0006 7860     		str	r0, [r7, #4]
 982 0008 3960     		str	r1, [r7]
 204:./Src/mpu6050.c **** 	static float P[3][2][2] = {{{1, 0}, {0, 1}},
 205:./Src/mpu6050.c **** 				   {{1, 0}, {0, 1}},
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 22


 206:./Src/mpu6050.c **** 				   {{1, 0}, {0, 1}}},
 207:./Src/mpu6050.c **** 		     Q = 0.01, R = 1;
 208:./Src/mpu6050.c **** 	float X_[2] = {0}, P_[2][2] = {0}, K[2] = {0};
 983              		.loc 1 208 8
 984 000a 07F12403 		add	r3, r7, #36
 985 000e 0022     		movs	r2, #0
 986 0010 1A60     		str	r2, [r3]
 987 0012 5A60     		str	r2, [r3, #4]
 988              		.loc 1 208 21
 989 0014 07F11403 		add	r3, r7, #20
 990 0018 0022     		movs	r2, #0
 991 001a 1A60     		str	r2, [r3]
 992 001c 5A60     		str	r2, [r3, #4]
 993 001e 9A60     		str	r2, [r3, #8]
 994 0020 DA60     		str	r2, [r3, #12]
 995              		.loc 1 208 37
 996 0022 07F10C03 		add	r3, r7, #12
 997 0026 0022     		movs	r2, #0
 998 0028 1A60     		str	r2, [r3]
 999 002a 5A60     		str	r2, [r3, #4]
 209:./Src/mpu6050.c **** 	int i;
 210:./Src/mpu6050.c **** 
 211:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 1000              		.loc 1 211 9
 1001 002c 0023     		movs	r3, #0
 1002 002e FB62     		str	r3, [r7, #44]
 1003              		.loc 1 211 2
 1004 0030 12E1     		b	.L34
 1005              	.L35:
 212:./Src/mpu6050.c **** 		X_[0] = X[i][0] + dt * X[i][1];
 1006              		.loc 1 212 12 discriminator 3
 1007 0032 FB6A     		ldr	r3, [r7, #44]
 1008 0034 DB00     		lsls	r3, r3, #3
 1009 0036 7A68     		ldr	r2, [r7, #4]
 1010 0038 1344     		add	r3, r3, r2
 1011              		.loc 1 212 15 discriminator 3
 1012 003a 93ED007A 		vldr.32	s14, [r3]
 1013              		.loc 1 212 27 discriminator 3
 1014 003e FB6A     		ldr	r3, [r7, #44]
 1015 0040 DB00     		lsls	r3, r3, #3
 1016 0042 7A68     		ldr	r2, [r7, #4]
 1017 0044 1344     		add	r3, r3, r2
 1018              		.loc 1 212 30 discriminator 3
 1019 0046 D3ED016A 		vldr.32	s13, [r3, #4]
 1020              		.loc 1 212 24 discriminator 3
 1021 004a 894B     		ldr	r3, .L36
 1022 004c D3ED007A 		vldr.32	s15, [r3]
 1023 0050 66EEA77A 		vmul.f32	s15, s13, s15
 1024              		.loc 1 212 19 discriminator 3
 1025 0054 77EE277A 		vadd.f32	s15, s14, s15
 1026              		.loc 1 212 9 discriminator 3
 1027 0058 C7ED097A 		vstr.32	s15, [r7, #36]
 213:./Src/mpu6050.c **** 		X_[1] = X[i][1];
 1028              		.loc 1 213 12 discriminator 3
 1029 005c FB6A     		ldr	r3, [r7, #44]
 1030 005e DB00     		lsls	r3, r3, #3
 1031 0060 7A68     		ldr	r2, [r7, #4]
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 23


 1032 0062 1344     		add	r3, r3, r2
 1033              		.loc 1 213 15 discriminator 3
 1034 0064 5B68     		ldr	r3, [r3, #4]	@ float
 1035              		.loc 1 213 9 discriminator 3
 1036 0066 BB62     		str	r3, [r7, #40]	@ float
 214:./Src/mpu6050.c **** 
 215:./Src/mpu6050.c **** 		P_[0][0] = P[i][0][0] + (P[i][0][1] + P[i][1][0]) * dt + Q;
 1037              		.loc 1 215 21 discriminator 3
 1038 0068 824A     		ldr	r2, .L36+4
 1039 006a FB6A     		ldr	r3, [r7, #44]
 1040 006c 1B01     		lsls	r3, r3, #4
 1041 006e 1344     		add	r3, r3, r2
 1042 0070 93ED007A 		vldr.32	s14, [r3]
 1043              		.loc 1 215 35 discriminator 3
 1044 0074 7F4A     		ldr	r2, .L36+4
 1045 0076 FB6A     		ldr	r3, [r7, #44]
 1046 0078 1B01     		lsls	r3, r3, #4
 1047 007a 1344     		add	r3, r3, r2
 1048 007c 0433     		adds	r3, r3, #4
 1049 007e D3ED006A 		vldr.32	s13, [r3]
 1050              		.loc 1 215 48 discriminator 3
 1051 0082 7C4A     		ldr	r2, .L36+4
 1052 0084 FB6A     		ldr	r3, [r7, #44]
 1053 0086 1B01     		lsls	r3, r3, #4
 1054 0088 1344     		add	r3, r3, r2
 1055 008a 0833     		adds	r3, r3, #8
 1056 008c D3ED007A 		vldr.32	s15, [r3]
 1057              		.loc 1 215 39 discriminator 3
 1058 0090 76EEA76A 		vadd.f32	s13, s13, s15
 1059              		.loc 1 215 53 discriminator 3
 1060 0094 764B     		ldr	r3, .L36
 1061 0096 D3ED007A 		vldr.32	s15, [r3]
 1062 009a 66EEA77A 		vmul.f32	s15, s13, s15
 1063              		.loc 1 215 25 discriminator 3
 1064 009e 37EE277A 		vadd.f32	s14, s14, s15
 1065              		.loc 1 215 58 discriminator 3
 1066 00a2 754B     		ldr	r3, .L36+8
 1067 00a4 D3ED007A 		vldr.32	s15, [r3]
 1068 00a8 77EE277A 		vadd.f32	s15, s14, s15
 1069              		.loc 1 215 12 discriminator 3
 1070 00ac C7ED057A 		vstr.32	s15, [r7, #20]
 216:./Src/mpu6050.c **** 		P_[0][1] = P[i][0][1] + P[i][1][1] * dt;
 1071              		.loc 1 216 21 discriminator 3
 1072 00b0 704A     		ldr	r2, .L36+4
 1073 00b2 FB6A     		ldr	r3, [r7, #44]
 1074 00b4 1B01     		lsls	r3, r3, #4
 1075 00b6 1344     		add	r3, r3, r2
 1076 00b8 0433     		adds	r3, r3, #4
 1077 00ba 93ED007A 		vldr.32	s14, [r3]
 1078              		.loc 1 216 34 discriminator 3
 1079 00be 6D4A     		ldr	r2, .L36+4
 1080 00c0 FB6A     		ldr	r3, [r7, #44]
 1081 00c2 1B01     		lsls	r3, r3, #4
 1082 00c4 1344     		add	r3, r3, r2
 1083 00c6 0C33     		adds	r3, r3, #12
 1084 00c8 D3ED006A 		vldr.32	s13, [r3]
 1085              		.loc 1 216 38 discriminator 3
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 24


 1086 00cc 684B     		ldr	r3, .L36
 1087 00ce D3ED007A 		vldr.32	s15, [r3]
 1088 00d2 66EEA77A 		vmul.f32	s15, s13, s15
 1089              		.loc 1 216 25 discriminator 3
 1090 00d6 77EE277A 		vadd.f32	s15, s14, s15
 1091              		.loc 1 216 12 discriminator 3
 1092 00da C7ED067A 		vstr.32	s15, [r7, #24]
 217:./Src/mpu6050.c **** 		P_[1][0] = P[i][1][0] + P[i][1][1] * dt;
 1093              		.loc 1 217 21 discriminator 3
 1094 00de 654A     		ldr	r2, .L36+4
 1095 00e0 FB6A     		ldr	r3, [r7, #44]
 1096 00e2 1B01     		lsls	r3, r3, #4
 1097 00e4 1344     		add	r3, r3, r2
 1098 00e6 0833     		adds	r3, r3, #8
 1099 00e8 93ED007A 		vldr.32	s14, [r3]
 1100              		.loc 1 217 34 discriminator 3
 1101 00ec 614A     		ldr	r2, .L36+4
 1102 00ee FB6A     		ldr	r3, [r7, #44]
 1103 00f0 1B01     		lsls	r3, r3, #4
 1104 00f2 1344     		add	r3, r3, r2
 1105 00f4 0C33     		adds	r3, r3, #12
 1106 00f6 D3ED006A 		vldr.32	s13, [r3]
 1107              		.loc 1 217 38 discriminator 3
 1108 00fa 5D4B     		ldr	r3, .L36
 1109 00fc D3ED007A 		vldr.32	s15, [r3]
 1110 0100 66EEA77A 		vmul.f32	s15, s13, s15
 1111              		.loc 1 217 25 discriminator 3
 1112 0104 77EE277A 		vadd.f32	s15, s14, s15
 1113              		.loc 1 217 12 discriminator 3
 1114 0108 C7ED077A 		vstr.32	s15, [r7, #28]
 218:./Src/mpu6050.c **** 		P_[1][1] = P[i][1][1] + Q;
 1115              		.loc 1 218 21 discriminator 3
 1116 010c 594A     		ldr	r2, .L36+4
 1117 010e FB6A     		ldr	r3, [r7, #44]
 1118 0110 1B01     		lsls	r3, r3, #4
 1119 0112 1344     		add	r3, r3, r2
 1120 0114 0C33     		adds	r3, r3, #12
 1121 0116 93ED007A 		vldr.32	s14, [r3]
 1122              		.loc 1 218 25 discriminator 3
 1123 011a 574B     		ldr	r3, .L36+8
 1124 011c D3ED007A 		vldr.32	s15, [r3]
 1125 0120 77EE277A 		vadd.f32	s15, s14, s15
 1126              		.loc 1 218 12 discriminator 3
 1127 0124 C7ED087A 		vstr.32	s15, [r7, #32]
 219:./Src/mpu6050.c **** 
 220:./Src/mpu6050.c **** 		K[0] = P_[0][1] / (P_[1][1] + R);
 1128              		.loc 1 220 15 discriminator 3
 1129 0128 D7ED066A 		vldr.32	s13, [r7, #24]
 1130              		.loc 1 220 27 discriminator 3
 1131 012c 97ED087A 		vldr.32	s14, [r7, #32]
 1132              		.loc 1 220 31 discriminator 3
 1133 0130 524B     		ldr	r3, .L36+12
 1134 0132 D3ED007A 		vldr.32	s15, [r3]
 1135 0136 37EE277A 		vadd.f32	s14, s14, s15
 1136              		.loc 1 220 19 discriminator 3
 1137 013a C6EE877A 		vdiv.f32	s15, s13, s14
 1138              		.loc 1 220 8 discriminator 3
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 25


 1139 013e C7ED037A 		vstr.32	s15, [r7, #12]
 221:./Src/mpu6050.c **** 		K[1] = P_[1][1] / (P_[1][1] + R);
 1140              		.loc 1 221 15 discriminator 3
 1141 0142 D7ED086A 		vldr.32	s13, [r7, #32]
 1142              		.loc 1 221 27 discriminator 3
 1143 0146 97ED087A 		vldr.32	s14, [r7, #32]
 1144              		.loc 1 221 31 discriminator 3
 1145 014a 4C4B     		ldr	r3, .L36+12
 1146 014c D3ED007A 		vldr.32	s15, [r3]
 1147 0150 37EE277A 		vadd.f32	s14, s14, s15
 1148              		.loc 1 221 19 discriminator 3
 1149 0154 C6EE877A 		vdiv.f32	s15, s13, s14
 1150              		.loc 1 221 8 discriminator 3
 1151 0158 C7ED047A 		vstr.32	s15, [r7, #16]
 222:./Src/mpu6050.c **** 
 223:./Src/mpu6050.c **** 		X[i][0] = X_[0] + K[0] * (Z[i] - X[i][1]);
 1152              		.loc 1 223 15 discriminator 3
 1153 015c 97ED097A 		vldr.32	s14, [r7, #36]
 1154              		.loc 1 223 22 discriminator 3
 1155 0160 D7ED036A 		vldr.32	s13, [r7, #12]
 1156              		.loc 1 223 30 discriminator 3
 1157 0164 FB6A     		ldr	r3, [r7, #44]
 1158 0166 9B00     		lsls	r3, r3, #2
 1159 0168 3A68     		ldr	r2, [r7]
 1160 016a 1344     		add	r3, r3, r2
 1161 016c 93ED006A 		vldr.32	s12, [r3]
 1162              		.loc 1 223 37 discriminator 3
 1163 0170 FB6A     		ldr	r3, [r7, #44]
 1164 0172 DB00     		lsls	r3, r3, #3
 1165 0174 7A68     		ldr	r2, [r7, #4]
 1166 0176 1344     		add	r3, r3, r2
 1167              		.loc 1 223 40 discriminator 3
 1168 0178 D3ED017A 		vldr.32	s15, [r3, #4]
 1169              		.loc 1 223 34 discriminator 3
 1170 017c 76EE677A 		vsub.f32	s15, s12, s15
 1171              		.loc 1 223 26 discriminator 3
 1172 0180 66EEA77A 		vmul.f32	s15, s13, s15
 1173              		.loc 1 223 4 discriminator 3
 1174 0184 FB6A     		ldr	r3, [r7, #44]
 1175 0186 DB00     		lsls	r3, r3, #3
 1176 0188 7A68     		ldr	r2, [r7, #4]
 1177 018a 1344     		add	r3, r3, r2
 1178              		.loc 1 223 19 discriminator 3
 1179 018c 77EE277A 		vadd.f32	s15, s14, s15
 1180              		.loc 1 223 11 discriminator 3
 1181 0190 C3ED007A 		vstr.32	s15, [r3]
 224:./Src/mpu6050.c **** 		X[i][1] = X_[1] + K[1] * (Z[i] - X[i][1]);
 1182              		.loc 1 224 15 discriminator 3
 1183 0194 97ED0A7A 		vldr.32	s14, [r7, #40]
 1184              		.loc 1 224 22 discriminator 3
 1185 0198 D7ED046A 		vldr.32	s13, [r7, #16]
 1186              		.loc 1 224 30 discriminator 3
 1187 019c FB6A     		ldr	r3, [r7, #44]
 1188 019e 9B00     		lsls	r3, r3, #2
 1189 01a0 3A68     		ldr	r2, [r7]
 1190 01a2 1344     		add	r3, r3, r2
 1191 01a4 93ED006A 		vldr.32	s12, [r3]
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 26


 1192              		.loc 1 224 37 discriminator 3
 1193 01a8 FB6A     		ldr	r3, [r7, #44]
 1194 01aa DB00     		lsls	r3, r3, #3
 1195 01ac 7A68     		ldr	r2, [r7, #4]
 1196 01ae 1344     		add	r3, r3, r2
 1197              		.loc 1 224 40 discriminator 3
 1198 01b0 D3ED017A 		vldr.32	s15, [r3, #4]
 1199              		.loc 1 224 34 discriminator 3
 1200 01b4 76EE677A 		vsub.f32	s15, s12, s15
 1201              		.loc 1 224 26 discriminator 3
 1202 01b8 66EEA77A 		vmul.f32	s15, s13, s15
 1203              		.loc 1 224 4 discriminator 3
 1204 01bc FB6A     		ldr	r3, [r7, #44]
 1205 01be DB00     		lsls	r3, r3, #3
 1206 01c0 7A68     		ldr	r2, [r7, #4]
 1207 01c2 1344     		add	r3, r3, r2
 1208              		.loc 1 224 19 discriminator 3
 1209 01c4 77EE277A 		vadd.f32	s15, s14, s15
 1210              		.loc 1 224 11 discriminator 3
 1211 01c8 C3ED017A 		vstr.32	s15, [r3, #4]
 225:./Src/mpu6050.c **** 
 226:./Src/mpu6050.c **** 		P[i][0][0] = P_[0][0] - K[0] * P_[1][0];
 1212              		.loc 1 226 21 discriminator 3
 1213 01cc 97ED057A 		vldr.32	s14, [r7, #20]
 1214              		.loc 1 226 28 discriminator 3
 1215 01d0 D7ED036A 		vldr.32	s13, [r7, #12]
 1216              		.loc 1 226 39 discriminator 3
 1217 01d4 D7ED077A 		vldr.32	s15, [r7, #28]
 1218              		.loc 1 226 32 discriminator 3
 1219 01d8 66EEA77A 		vmul.f32	s15, s13, s15
 1220              		.loc 1 226 25 discriminator 3
 1221 01dc 77EE677A 		vsub.f32	s15, s14, s15
 1222              		.loc 1 226 14 discriminator 3
 1223 01e0 244A     		ldr	r2, .L36+4
 1224 01e2 FB6A     		ldr	r3, [r7, #44]
 1225 01e4 1B01     		lsls	r3, r3, #4
 1226 01e6 1344     		add	r3, r3, r2
 1227 01e8 C3ED007A 		vstr.32	s15, [r3]
 227:./Src/mpu6050.c **** 		P[i][0][1] = P_[0][1] - K[0] * P_[1][1];
 1228              		.loc 1 227 21 discriminator 3
 1229 01ec 97ED067A 		vldr.32	s14, [r7, #24]
 1230              		.loc 1 227 28 discriminator 3
 1231 01f0 D7ED036A 		vldr.32	s13, [r7, #12]
 1232              		.loc 1 227 39 discriminator 3
 1233 01f4 D7ED087A 		vldr.32	s15, [r7, #32]
 1234              		.loc 1 227 32 discriminator 3
 1235 01f8 66EEA77A 		vmul.f32	s15, s13, s15
 1236              		.loc 1 227 25 discriminator 3
 1237 01fc 77EE677A 		vsub.f32	s15, s14, s15
 1238              		.loc 1 227 14 discriminator 3
 1239 0200 1C4A     		ldr	r2, .L36+4
 1240 0202 FB6A     		ldr	r3, [r7, #44]
 1241 0204 1B01     		lsls	r3, r3, #4
 1242 0206 1344     		add	r3, r3, r2
 1243 0208 0433     		adds	r3, r3, #4
 1244 020a C3ED007A 		vstr.32	s15, [r3]
 228:./Src/mpu6050.c **** 		P[i][1][0] = P_[1][0] * (1 - K[1]);
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 27


 1245              		.loc 1 228 21 discriminator 3
 1246 020e 97ED077A 		vldr.32	s14, [r7, #28]
 1247              		.loc 1 228 33 discriminator 3
 1248 0212 D7ED047A 		vldr.32	s15, [r7, #16]
 1249              		.loc 1 228 30 discriminator 3
 1250 0216 F7EE006A 		vmov.f32	s13, #1.0e+0
 1251 021a 76EEE77A 		vsub.f32	s15, s13, s15
 1252              		.loc 1 228 25 discriminator 3
 1253 021e 67EE277A 		vmul.f32	s15, s14, s15
 1254              		.loc 1 228 14 discriminator 3
 1255 0222 144A     		ldr	r2, .L36+4
 1256 0224 FB6A     		ldr	r3, [r7, #44]
 1257 0226 1B01     		lsls	r3, r3, #4
 1258 0228 1344     		add	r3, r3, r2
 1259 022a 0833     		adds	r3, r3, #8
 1260 022c C3ED007A 		vstr.32	s15, [r3]
 229:./Src/mpu6050.c **** 		P[i][1][1] = P_[1][1] * (1 - K[1]);
 1261              		.loc 1 229 21 discriminator 3
 1262 0230 97ED087A 		vldr.32	s14, [r7, #32]
 1263              		.loc 1 229 33 discriminator 3
 1264 0234 D7ED047A 		vldr.32	s15, [r7, #16]
 1265              		.loc 1 229 30 discriminator 3
 1266 0238 F7EE006A 		vmov.f32	s13, #1.0e+0
 1267 023c 76EEE77A 		vsub.f32	s15, s13, s15
 1268              		.loc 1 229 25 discriminator 3
 1269 0240 67EE277A 		vmul.f32	s15, s14, s15
 1270              		.loc 1 229 14 discriminator 3
 1271 0244 0B4A     		ldr	r2, .L36+4
 1272 0246 FB6A     		ldr	r3, [r7, #44]
 1273 0248 1B01     		lsls	r3, r3, #4
 1274 024a 1344     		add	r3, r3, r2
 1275 024c 0C33     		adds	r3, r3, #12
 1276 024e C3ED007A 		vstr.32	s15, [r3]
 211:./Src/mpu6050.c **** 		X_[0] = X[i][0] + dt * X[i][1];
 1277              		.loc 1 211 22 discriminator 3
 1278 0252 FB6A     		ldr	r3, [r7, #44]
 1279 0254 0133     		adds	r3, r3, #1
 1280 0256 FB62     		str	r3, [r7, #44]
 1281              	.L34:
 211:./Src/mpu6050.c **** 		X_[0] = X[i][0] + dt * X[i][1];
 1282              		.loc 1 211 2 discriminator 1
 1283 0258 FB6A     		ldr	r3, [r7, #44]
 1284 025a 022B     		cmp	r3, #2
 1285 025c 7FF7E9AE 		ble	.L35
 230:./Src/mpu6050.c **** 	}
 231:./Src/mpu6050.c **** }
 1286              		.loc 1 231 1
 1287 0260 00BF     		nop
 1288 0262 00BF     		nop
 1289 0264 3437     		adds	r7, r7, #52
 1290              	.LCFI25:
 1291              		.cfi_def_cfa_offset 4
 1292 0266 BD46     		mov	sp, r7
 1293              	.LCFI26:
 1294              		.cfi_def_cfa_register 13
 1295              		@ sp needed
 1296 0268 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 28


 1297              	.LCFI27:
 1298              		.cfi_restore 7
 1299              		.cfi_def_cfa_offset 0
 1300 026c 7047     		bx	lr
 1301              	.L37:
 1302 026e 00BF     		.align	2
 1303              	.L36:
 1304 0270 00000000 		.word	dt
 1305 0274 00000000 		.word	P.2
 1306 0278 00000000 		.word	Q.1
 1307 027c 00000000 		.word	R.0
 1308              		.cfi_endproc
 1309              	.LFE5:
 1311              		.section	.text.mpu6050_get_position,"ax",%progbits
 1312              		.align	1
 1313              		.global	mpu6050_get_position
 1314              		.syntax unified
 1315              		.thumb
 1316              		.thumb_func
 1318              	mpu6050_get_position:
 1319              	.LFB6:
 232:./Src/mpu6050.c **** 
 233:./Src/mpu6050.c **** // void mpu6050_kalman(float *data)
 234:./Src/mpu6050.c **** // {
 235:./Src/mpu6050.c **** // 	static float P[3][2][2] = {0}, Q = 0.001, R = 0.1;
 236:./Src/mpu6050.c **** // 	float X_[2] = {0}, P_[2][2] = {0}, K[2] = {0};
 237:./Src/mpu6050.c **** // 	int i;
 238:./Src/mpu6050.c **** 
 239:./Src/mpu6050.c **** // 	for (i = 0; i < 3; i++) {
 240:./Src/mpu6050.c **** // 		X_[0] = X[i][0] - dt * X[i][1];
 241:./Src/mpu6050.c **** // 		X_[1] = X[i][1];
 242:./Src/mpu6050.c **** 
 243:./Src/mpu6050.c **** // 		P_[0][0] = P[i][0][0] + (P[i][0][1] + P[i][1][0]) * dt + P[i][1][1] * dt * dt + Q;
 244:./Src/mpu6050.c **** // 		P_[0][1] = P[i][0][1] + P[i][1][1] * dt;
 245:./Src/mpu6050.c **** // 		P_[1][0] = P[i][1][0] + P[i][1][1] * dt;
 246:./Src/mpu6050.c **** // 		P_[1][1] = P[i][1][1] + Q;
 247:./Src/mpu6050.c **** 
 248:./Src/mpu6050.c **** // 		K[0] = P_[0][1] / (P_[1][1] + R);
 249:./Src/mpu6050.c **** // 		K[1] = P_[1][1] / (P_[1][1] + R);
 250:./Src/mpu6050.c **** 
 251:./Src/mpu6050.c **** // 		X[i][0] = X_[0] + K[0] * (Z[i] - X[i][1]);
 252:./Src/mpu6050.c **** // 		X[i][1] = X_[1] + K[1] * (Z[i] - X[i][1]);
 253:./Src/mpu6050.c **** 
 254:./Src/mpu6050.c **** // 		P[i][0][0] = P_[0][0] - K[0] * P_[1][0];
 255:./Src/mpu6050.c **** // 		P[i][0][1] = P_[0][1] - K[0] * P_[1][1];
 256:./Src/mpu6050.c **** // 		P[i][1][0] = P_[1][0] * (1 - K[1]);
 257:./Src/mpu6050.c **** // 		P[i][1][1] = P_[1][1] * (1 - K[1]);
 258:./Src/mpu6050.c **** // 	}
 259:./Src/mpu6050.c **** // }
 260:./Src/mpu6050.c **** 
 261:./Src/mpu6050.c **** /**
 262:./Src/mpu6050.c ****  * @brief get static pitch, yaw and roll by accelerometer
 263:./Src/mpu6050.c ****  * 
 264:./Src/mpu6050.c ****  * @param data [0]: pitch, [1]: yaw, [2]: roll
 265:./Src/mpu6050.c ****  */
 266:./Src/mpu6050.c **** void mpu6050_get_position(float *data)
 267:./Src/mpu6050.c **** {
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 29


 1320              		.loc 1 267 1
 1321              		.cfi_startproc
 1322              		@ args = 0, pretend = 0, frame = 16
 1323              		@ frame_needed = 1, uses_anonymous_args = 0
 1324 0000 90B5     		push	{r4, r7, lr}
 1325              	.LCFI28:
 1326              		.cfi_def_cfa_offset 12
 1327              		.cfi_offset 4, -12
 1328              		.cfi_offset 7, -8
 1329              		.cfi_offset 14, -4
 1330 0002 2DED028B 		vpush.64	{d8}
 1331              	.LCFI29:
 1332              		.cfi_def_cfa_offset 20
 1333              		.cfi_offset 80, -20
 1334              		.cfi_offset 81, -16
 1335 0006 85B0     		sub	sp, sp, #20
 1336              	.LCFI30:
 1337              		.cfi_def_cfa_offset 40
 1338 0008 00AF     		add	r7, sp, #0
 1339              	.LCFI31:
 1340              		.cfi_def_cfa_register 7
 1341 000a 7860     		str	r0, [r7, #4]
 268:./Src/mpu6050.c **** 	int i;
 269:./Src/mpu6050.c **** 	float g_squre;
 270:./Src/mpu6050.c **** 
 271:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 1342              		.loc 1 271 9
 1343 000c 0023     		movs	r3, #0
 1344 000e FB60     		str	r3, [r7, #12]
 1345              		.loc 1 271 2
 1346 0010 1AE0     		b	.L39
 1347              	.L40:
 272:./Src/mpu6050.c **** 		g_squre += (float)bias[i] * (float)bias[i];
 1348              		.loc 1 272 25 discriminator 3
 1349 0012 3D4A     		ldr	r2, .L43+8
 1350 0014 FB68     		ldr	r3, [r7, #12]
 1351 0016 32F91330 		ldrsh	r3, [r2, r3, lsl #1]
 1352              		.loc 1 272 14 discriminator 3
 1353 001a 07EE903A 		vmov	s15, r3	@ int
 1354 001e B8EEE77A 		vcvt.f32.s32	s14, s15
 1355              		.loc 1 272 42 discriminator 3
 1356 0022 394A     		ldr	r2, .L43+8
 1357 0024 FB68     		ldr	r3, [r7, #12]
 1358 0026 32F91330 		ldrsh	r3, [r2, r3, lsl #1]
 1359              		.loc 1 272 31 discriminator 3
 1360 002a 07EE903A 		vmov	s15, r3	@ int
 1361 002e F8EEE77A 		vcvt.f32.s32	s15, s15
 1362              		.loc 1 272 29 discriminator 3
 1363 0032 67EE277A 		vmul.f32	s15, s14, s15
 1364              		.loc 1 272 11 discriminator 3
 1365 0036 97ED027A 		vldr.32	s14, [r7, #8]
 1366 003a 77EE277A 		vadd.f32	s15, s14, s15
 1367 003e C7ED027A 		vstr.32	s15, [r7, #8]
 271:./Src/mpu6050.c **** 		g_squre += (float)bias[i] * (float)bias[i];
 1368              		.loc 1 271 22 discriminator 3
 1369 0042 FB68     		ldr	r3, [r7, #12]
 1370 0044 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 30


 1371 0046 FB60     		str	r3, [r7, #12]
 1372              	.L39:
 271:./Src/mpu6050.c **** 		g_squre += (float)bias[i] * (float)bias[i];
 1373              		.loc 1 271 2 discriminator 1
 1374 0048 FB68     		ldr	r3, [r7, #12]
 1375 004a 022B     		cmp	r3, #2
 1376 004c E1DD     		ble	.L40
 273:./Src/mpu6050.c **** 	}
 274:./Src/mpu6050.c **** 
 275:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 1377              		.loc 1 275 9
 1378 004e 0023     		movs	r3, #0
 1379 0050 FB60     		str	r3, [r7, #12]
 1380              		.loc 1 275 2
 1381 0052 48E0     		b	.L41
 1382              	.L42:
 276:./Src/mpu6050.c **** 		data[i] = atan2f((float)bias[i], sqrtf(g_squre - (float)bias[i] * (float)bias[i]));
 1383              		.loc 1 276 31 discriminator 3
 1384 0054 2C4A     		ldr	r2, .L43+8
 1385 0056 FB68     		ldr	r3, [r7, #12]
 1386 0058 32F91330 		ldrsh	r3, [r2, r3, lsl #1]
 1387              		.loc 1 276 13 discriminator 3
 1388 005c 07EE903A 		vmov	s15, r3	@ int
 1389 0060 B8EEE78A 		vcvt.f32.s32	s16, s15
 1390              		.loc 1 276 63 discriminator 3
 1391 0064 284A     		ldr	r2, .L43+8
 1392 0066 FB68     		ldr	r3, [r7, #12]
 1393 0068 32F91330 		ldrsh	r3, [r2, r3, lsl #1]
 1394              		.loc 1 276 52 discriminator 3
 1395 006c 07EE903A 		vmov	s15, r3	@ int
 1396 0070 B8EEE77A 		vcvt.f32.s32	s14, s15
 1397              		.loc 1 276 80 discriminator 3
 1398 0074 244A     		ldr	r2, .L43+8
 1399 0076 FB68     		ldr	r3, [r7, #12]
 1400 0078 32F91330 		ldrsh	r3, [r2, r3, lsl #1]
 1401              		.loc 1 276 69 discriminator 3
 1402 007c 07EE903A 		vmov	s15, r3	@ int
 1403 0080 F8EEE77A 		vcvt.f32.s32	s15, s15
 1404              		.loc 1 276 67 discriminator 3
 1405 0084 67EE277A 		vmul.f32	s15, s14, s15
 1406              		.loc 1 276 13 discriminator 3
 1407 0088 97ED027A 		vldr.32	s14, [r7, #8]
 1408 008c 77EE677A 		vsub.f32	s15, s14, s15
 1409 0090 B0EE670A 		vmov.f32	s0, s15
 1410 0094 FFF7FEFF 		bl	sqrtf
 1411 0098 F0EE407A 		vmov.f32	s15, s0
 1412              		.loc 1 276 7 discriminator 3
 1413 009c FB68     		ldr	r3, [r7, #12]
 1414 009e 9B00     		lsls	r3, r3, #2
 1415 00a0 7A68     		ldr	r2, [r7, #4]
 1416 00a2 D418     		adds	r4, r2, r3
 1417              		.loc 1 276 13 discriminator 3
 1418 00a4 F0EE670A 		vmov.f32	s1, s15
 1419 00a8 B0EE480A 		vmov.f32	s0, s16
 1420 00ac FFF7FEFF 		bl	atan2f
 1421 00b0 F0EE407A 		vmov.f32	s15, s0
 1422              		.loc 1 276 11 discriminator 3
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 31


 1423 00b4 C4ED007A 		vstr.32	s15, [r4]
 277:./Src/mpu6050.c **** 		data[i] *= 180 / PI;
 1424              		.loc 1 277 11 discriminator 3
 1425 00b8 FB68     		ldr	r3, [r7, #12]
 1426 00ba 9B00     		lsls	r3, r3, #2
 1427 00bc 7A68     		ldr	r2, [r7, #4]
 1428 00be 1344     		add	r3, r3, r2
 1429 00c0 D3ED007A 		vldr.32	s15, [r3]
 1430 00c4 B7EEE77A 		vcvt.f64.f32	d7, s15
 1431 00c8 9FED0D6B 		vldr.64	d6, .L43
 1432 00cc 27EE067B 		vmul.f64	d7, d7, d6
 1433              		.loc 1 277 3 discriminator 3
 1434 00d0 FB68     		ldr	r3, [r7, #12]
 1435 00d2 9B00     		lsls	r3, r3, #2
 1436 00d4 7A68     		ldr	r2, [r7, #4]
 1437 00d6 1344     		add	r3, r3, r2
 1438              		.loc 1 277 11 discriminator 3
 1439 00d8 F7EEC77B 		vcvt.f32.f64	s15, d7
 1440              		.loc 1 277 3 discriminator 3
 1441 00dc C3ED007A 		vstr.32	s15, [r3]
 275:./Src/mpu6050.c **** 		data[i] = atan2f((float)bias[i], sqrtf(g_squre - (float)bias[i] * (float)bias[i]));
 1442              		.loc 1 275 22 discriminator 3
 1443 00e0 FB68     		ldr	r3, [r7, #12]
 1444 00e2 0133     		adds	r3, r3, #1
 1445 00e4 FB60     		str	r3, [r7, #12]
 1446              	.L41:
 275:./Src/mpu6050.c **** 		data[i] = atan2f((float)bias[i], sqrtf(g_squre - (float)bias[i] * (float)bias[i]));
 1447              		.loc 1 275 2 discriminator 1
 1448 00e6 FB68     		ldr	r3, [r7, #12]
 1449 00e8 022B     		cmp	r3, #2
 1450 00ea B3DD     		ble	.L42
 278:./Src/mpu6050.c **** 	}
 279:./Src/mpu6050.c **** }
 1451              		.loc 1 279 1
 1452 00ec 00BF     		nop
 1453 00ee 00BF     		nop
 1454 00f0 1437     		adds	r7, r7, #20
 1455              	.LCFI32:
 1456              		.cfi_def_cfa_offset 20
 1457 00f2 BD46     		mov	sp, r7
 1458              	.LCFI33:
 1459              		.cfi_def_cfa_register 13
 1460              		@ sp needed
 1461 00f4 BDEC028B 		vldm	sp!, {d8}
 1462              	.LCFI34:
 1463              		.cfi_restore 80
 1464              		.cfi_restore 81
 1465              		.cfi_def_cfa_offset 12
 1466 00f8 90BD     		pop	{r4, r7, pc}
 1467              	.L44:
 1468 00fa 00BFAFF3 		.align	3
 1468      0080
 1469              	.L43:
 1470 0100 F8C1631A 		.word	442745336
 1471 0104 DCA54C40 		.word	1078765020
 1472 0108 00000000 		.word	bias
 1473              		.cfi_endproc
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 32


 1474              	.LFE6:
 1476              		.section	.text.mpu6050_get_all,"ax",%progbits
 1477              		.align	1
 1478              		.global	mpu6050_get_all
 1479              		.syntax unified
 1480              		.thumb
 1481              		.thumb_func
 1483              	mpu6050_get_all:
 1484              	.LFB7:
 280:./Src/mpu6050.c **** 
 281:./Src/mpu6050.c **** /**
 282:./Src/mpu6050.c ****  * @brief data from i2c read function: X_H > X_L > Y_H > Y_L > Z_H > Z_L
 283:./Src/mpu6050.c ****  * 	  reverse order: X_L > X_H > Y_L > Y_H > Z_L > Z_H
 284:./Src/mpu6050.c ****  * 	  int16 data order: X > Y > Z
 285:./Src/mpu6050.c ****  *
 286:./Src/mpu6050.c ****  * @param data
 287:./Src/mpu6050.c ****  * 	  accelerometer: [0:2]
 288:./Src/mpu6050.c ****  * 	  temperature: [3]
 289:./Src/mpu6050.c ****  * 	  gyroscope: [4:6]
 290:./Src/mpu6050.c ****  */
 291:./Src/mpu6050.c **** void mpu6050_get_all(float *data)
 292:./Src/mpu6050.c **** {
 1485              		.loc 1 292 1
 1486              		.cfi_startproc
 1487              		@ args = 0, pretend = 0, frame = 32
 1488              		@ frame_needed = 1, uses_anonymous_args = 0
 1489 0000 80B5     		push	{r7, lr}
 1490              	.LCFI35:
 1491              		.cfi_def_cfa_offset 8
 1492              		.cfi_offset 7, -8
 1493              		.cfi_offset 14, -4
 1494 0002 8AB0     		sub	sp, sp, #40
 1495              	.LCFI36:
 1496              		.cfi_def_cfa_offset 48
 1497 0004 02AF     		add	r7, sp, #8
 1498              	.LCFI37:
 1499              		.cfi_def_cfa 7, 40
 1500 0006 7860     		str	r0, [r7, #4]
 293:./Src/mpu6050.c **** 	int16_t tmp[7] = {0};
 1501              		.loc 1 293 10
 1502 0008 07F10C03 		add	r3, r7, #12
 1503 000c 0022     		movs	r2, #0
 1504 000e 1A60     		str	r2, [r3]
 1505 0010 5A60     		str	r2, [r3, #4]
 1506 0012 9A60     		str	r2, [r3, #8]
 1507 0014 9A81     		strh	r2, [r3, #12]	@ movhi
 294:./Src/mpu6050.c **** 	int i;
 295:./Src/mpu6050.c **** 
 296:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_ACCEL_XOUTH, 14,
 1508              		.loc 1 296 2
 1509 0016 07F10C03 		add	r3, r7, #12
 1510 001a 0093     		str	r3, [sp]
 1511 001c 0E23     		movs	r3, #14
 1512 001e 3B22     		movs	r2, #59
 1513 0020 6821     		movs	r1, #104
 1514 0022 5748     		ldr	r0, .L51+16
 1515 0024 FFF7FEFF 		bl	i2c_read_reg
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 33


 297:./Src/mpu6050.c **** 		     (uint8_t *)tmp);
 298:./Src/mpu6050.c **** 
 299:./Src/mpu6050.c **** 	for (i = 0; i < 7; i++) {
 1516              		.loc 1 299 9
 1517 0028 0023     		movs	r3, #0
 1518 002a FB61     		str	r3, [r7, #28]
 1519              		.loc 1 299 2
 1520 002c 95E0     		b	.L46
 1521              	.L50:
 300:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1522              		.loc 1 300 16
 1523 002e FB69     		ldr	r3, [r7, #28]
 1524 0030 5B00     		lsls	r3, r3, #1
 1525 0032 2033     		adds	r3, r3, #32
 1526 0034 3B44     		add	r3, r3, r7
 1527 0036 33F9143C 		ldrsh	r3, [r3, #-20]
 1528              		.loc 1 300 20
 1529 003a 1B02     		lsls	r3, r3, #8
 1530              		.loc 1 300 26
 1531 003c 1AB2     		sxth	r2, r3
 1532              		.loc 1 300 33
 1533 003e FB69     		ldr	r3, [r7, #28]
 1534 0040 5B00     		lsls	r3, r3, #1
 1535 0042 2033     		adds	r3, r3, #32
 1536 0044 3B44     		add	r3, r3, r7
 1537 0046 33F9143C 		ldrsh	r3, [r3, #-20]
 1538              		.loc 1 300 43
 1539 004a 9BB2     		uxth	r3, r3
 1540 004c 1B0A     		lsrs	r3, r3, #8
 1541 004e 9BB2     		uxth	r3, r3
 1542 0050 1BB2     		sxth	r3, r3
 1543              		.loc 1 300 26
 1544 0052 1343     		orrs	r3, r3, r2
 1545 0054 1AB2     		sxth	r2, r3
 1546              		.loc 1 300 10
 1547 0056 FB69     		ldr	r3, [r7, #28]
 1548 0058 5B00     		lsls	r3, r3, #1
 1549 005a 2033     		adds	r3, r3, #32
 1550 005c 3B44     		add	r3, r3, r7
 1551 005e 23F8142C 		strh	r2, [r3, #-20]	@ movhi
 301:./Src/mpu6050.c **** 
 302:./Src/mpu6050.c **** 		if (i < 3) {
 1552              		.loc 1 302 6
 1553 0062 FB69     		ldr	r3, [r7, #28]
 1554 0064 022B     		cmp	r3, #2
 1555 0066 2ADC     		bgt	.L47
 303:./Src/mpu6050.c **** 			tmp[i] -= bias[i];
 1556              		.loc 1 303 11
 1557 0068 FB69     		ldr	r3, [r7, #28]
 1558 006a 5B00     		lsls	r3, r3, #1
 1559 006c 2033     		adds	r3, r3, #32
 1560 006e 3B44     		add	r3, r3, r7
 1561 0070 33F9143C 		ldrsh	r3, [r3, #-20]
 1562 0074 9AB2     		uxth	r2, r3
 1563              		.loc 1 303 18
 1564 0076 4349     		ldr	r1, .L51+20
 1565 0078 FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 34


 1566 007a 31F91330 		ldrsh	r3, [r1, r3, lsl #1]
 1567 007e 9BB2     		uxth	r3, r3
 1568              		.loc 1 303 11
 1569 0080 D31A     		subs	r3, r2, r3
 1570 0082 9BB2     		uxth	r3, r3
 1571 0084 1AB2     		sxth	r2, r3
 1572 0086 FB69     		ldr	r3, [r7, #28]
 1573 0088 5B00     		lsls	r3, r3, #1
 1574 008a 2033     		adds	r3, r3, #32
 1575 008c 3B44     		add	r3, r3, r7
 1576 008e 23F8142C 		strh	r2, [r3, #-20]	@ movhi
 304:./Src/mpu6050.c **** 			data[i] = (float)tmp[i] * accel_unit;
 1577              		.loc 1 304 24
 1578 0092 FB69     		ldr	r3, [r7, #28]
 1579 0094 5B00     		lsls	r3, r3, #1
 1580 0096 2033     		adds	r3, r3, #32
 1581 0098 3B44     		add	r3, r3, r7
 1582 009a 33F9143C 		ldrsh	r3, [r3, #-20]
 1583              		.loc 1 304 14
 1584 009e 07EE903A 		vmov	s15, r3	@ int
 1585 00a2 B8EEE77A 		vcvt.f32.s32	s14, s15
 1586              		.loc 1 304 28
 1587 00a6 384B     		ldr	r3, .L51+24
 1588 00a8 D3ED007A 		vldr.32	s15, [r3]
 1589              		.loc 1 304 8
 1590 00ac FB69     		ldr	r3, [r7, #28]
 1591 00ae 9B00     		lsls	r3, r3, #2
 1592 00b0 7A68     		ldr	r2, [r7, #4]
 1593 00b2 1344     		add	r3, r3, r2
 1594              		.loc 1 304 28
 1595 00b4 67EE277A 		vmul.f32	s15, s14, s15
 1596              		.loc 1 304 12
 1597 00b8 C3ED007A 		vstr.32	s15, [r3]
 1598 00bc 4AE0     		b	.L48
 1599              	.L47:
 305:./Src/mpu6050.c **** 		} else if (i == 3) {
 1600              		.loc 1 305 13
 1601 00be FB69     		ldr	r3, [r7, #28]
 1602 00c0 032B     		cmp	r3, #3
 1603 00c2 1CD1     		bne	.L49
 306:./Src/mpu6050.c **** 			data[i] = (float)tmp[i] * 0.00294117647 + 36.53;
 1604              		.loc 1 306 24
 1605 00c4 FB69     		ldr	r3, [r7, #28]
 1606 00c6 5B00     		lsls	r3, r3, #1
 1607 00c8 2033     		adds	r3, r3, #32
 1608 00ca 3B44     		add	r3, r3, r7
 1609 00cc 33F9143C 		ldrsh	r3, [r3, #-20]
 1610              		.loc 1 306 14
 1611 00d0 07EE903A 		vmov	s15, r3	@ int
 1612 00d4 F8EEE77A 		vcvt.f32.s32	s15, s15
 1613 00d8 B7EEE77A 		vcvt.f64.f32	d7, s15
 1614              		.loc 1 306 28
 1615 00dc 9FED246B 		vldr.64	d6, .L51
 1616 00e0 27EE067B 		vmul.f64	d7, d7, d6
 1617              		.loc 1 306 44
 1618 00e4 9FED246B 		vldr.64	d6, .L51+8
 1619 00e8 37EE067B 		vadd.f64	d7, d7, d6
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 35


 1620              		.loc 1 306 8
 1621 00ec FB69     		ldr	r3, [r7, #28]
 1622 00ee 9B00     		lsls	r3, r3, #2
 1623 00f0 7A68     		ldr	r2, [r7, #4]
 1624 00f2 1344     		add	r3, r3, r2
 1625              		.loc 1 306 44
 1626 00f4 F7EEC77B 		vcvt.f32.f64	s15, d7
 1627              		.loc 1 306 12
 1628 00f8 C3ED007A 		vstr.32	s15, [r3]
 1629 00fc 2AE0     		b	.L48
 1630              	.L49:
 307:./Src/mpu6050.c **** 		} else {
 308:./Src/mpu6050.c **** 			tmp[i] -= bias[i - 1];
 1631              		.loc 1 308 11
 1632 00fe FB69     		ldr	r3, [r7, #28]
 1633 0100 5B00     		lsls	r3, r3, #1
 1634 0102 2033     		adds	r3, r3, #32
 1635 0104 3B44     		add	r3, r3, r7
 1636 0106 33F9143C 		ldrsh	r3, [r3, #-20]
 1637 010a 9AB2     		uxth	r2, r3
 1638              		.loc 1 308 21
 1639 010c FB69     		ldr	r3, [r7, #28]
 1640 010e 013B     		subs	r3, r3, #1
 1641              		.loc 1 308 18
 1642 0110 1C49     		ldr	r1, .L51+20
 1643 0112 31F91330 		ldrsh	r3, [r1, r3, lsl #1]
 1644 0116 9BB2     		uxth	r3, r3
 1645              		.loc 1 308 11
 1646 0118 D31A     		subs	r3, r2, r3
 1647 011a 9BB2     		uxth	r3, r3
 1648 011c 1AB2     		sxth	r2, r3
 1649 011e FB69     		ldr	r3, [r7, #28]
 1650 0120 5B00     		lsls	r3, r3, #1
 1651 0122 2033     		adds	r3, r3, #32
 1652 0124 3B44     		add	r3, r3, r7
 1653 0126 23F8142C 		strh	r2, [r3, #-20]	@ movhi
 309:./Src/mpu6050.c **** 			data[i] = (float)tmp[i] * gyro_unit;
 1654              		.loc 1 309 24
 1655 012a FB69     		ldr	r3, [r7, #28]
 1656 012c 5B00     		lsls	r3, r3, #1
 1657 012e 2033     		adds	r3, r3, #32
 1658 0130 3B44     		add	r3, r3, r7
 1659 0132 33F9143C 		ldrsh	r3, [r3, #-20]
 1660              		.loc 1 309 14
 1661 0136 07EE903A 		vmov	s15, r3	@ int
 1662 013a B8EEE77A 		vcvt.f32.s32	s14, s15
 1663              		.loc 1 309 28
 1664 013e 134B     		ldr	r3, .L51+28
 1665 0140 D3ED007A 		vldr.32	s15, [r3]
 1666              		.loc 1 309 8
 1667 0144 FB69     		ldr	r3, [r7, #28]
 1668 0146 9B00     		lsls	r3, r3, #2
 1669 0148 7A68     		ldr	r2, [r7, #4]
 1670 014a 1344     		add	r3, r3, r2
 1671              		.loc 1 309 28
 1672 014c 67EE277A 		vmul.f32	s15, s14, s15
 1673              		.loc 1 309 12
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 36


 1674 0150 C3ED007A 		vstr.32	s15, [r3]
 1675              	.L48:
 299:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1676              		.loc 1 299 22 discriminator 2
 1677 0154 FB69     		ldr	r3, [r7, #28]
 1678 0156 0133     		adds	r3, r3, #1
 1679 0158 FB61     		str	r3, [r7, #28]
 1680              	.L46:
 299:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1681              		.loc 1 299 2 discriminator 1
 1682 015a FB69     		ldr	r3, [r7, #28]
 1683 015c 062B     		cmp	r3, #6
 1684 015e 7FF766AF 		ble	.L50
 310:./Src/mpu6050.c **** 		}
 311:./Src/mpu6050.c **** 	}
 312:./Src/mpu6050.c **** }
 1685              		.loc 1 312 1
 1686 0162 00BF     		nop
 1687 0164 00BF     		nop
 1688 0166 2037     		adds	r7, r7, #32
 1689              	.LCFI38:
 1690              		.cfi_def_cfa_offset 8
 1691 0168 BD46     		mov	sp, r7
 1692              	.LCFI39:
 1693              		.cfi_def_cfa_register 13
 1694              		@ sp needed
 1695 016a 80BD     		pop	{r7, pc}
 1696              	.L52:
 1697 016c AFF30080 		.align	3
 1698              	.L51:
 1699 0170 BE650318 		.word	402875838
 1700 0174 1818683F 		.word	1063786520
 1701 0178 A4703D0A 		.word	171798692
 1702 017c D7434240 		.word	1078084567
 1703 0180 00540040 		.word	1073763328
 1704 0184 00000000 		.word	bias
 1705 0188 00000000 		.word	accel_unit
 1706 018c 00000000 		.word	gyro_unit
 1707              		.cfi_endproc
 1708              	.LFE7:
 1710              		.section	.text.mpu6050_get_accel,"ax",%progbits
 1711              		.align	1
 1712              		.global	mpu6050_get_accel
 1713              		.syntax unified
 1714              		.thumb
 1715              		.thumb_func
 1717              	mpu6050_get_accel:
 1718              	.LFB8:
 313:./Src/mpu6050.c **** 
 314:./Src/mpu6050.c **** void mpu6050_get_accel(float *data)
 315:./Src/mpu6050.c **** {
 1719              		.loc 1 315 1
 1720              		.cfi_startproc
 1721              		@ args = 0, pretend = 0, frame = 24
 1722              		@ frame_needed = 1, uses_anonymous_args = 0
 1723 0000 80B5     		push	{r7, lr}
 1724              	.LCFI40:
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 37


 1725              		.cfi_def_cfa_offset 8
 1726              		.cfi_offset 7, -8
 1727              		.cfi_offset 14, -4
 1728 0002 88B0     		sub	sp, sp, #32
 1729              	.LCFI41:
 1730              		.cfi_def_cfa_offset 40
 1731 0004 02AF     		add	r7, sp, #8
 1732              	.LCFI42:
 1733              		.cfi_def_cfa 7, 32
 1734 0006 7860     		str	r0, [r7, #4]
 316:./Src/mpu6050.c **** 	int16_t tmp[3] = {0};
 1735              		.loc 1 316 10
 1736 0008 07F10C03 		add	r3, r7, #12
 1737 000c 0022     		movs	r2, #0
 1738 000e 1A60     		str	r2, [r3]
 1739 0010 9A80     		strh	r2, [r3, #4]	@ movhi
 317:./Src/mpu6050.c **** 	int i;
 318:./Src/mpu6050.c **** 
 319:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_ACCEL_XOUTH, 6,
 1740              		.loc 1 319 2
 1741 0012 07F10C03 		add	r3, r7, #12
 1742 0016 0093     		str	r3, [sp]
 1743 0018 0623     		movs	r3, #6
 1744 001a 3B22     		movs	r2, #59
 1745 001c 6821     		movs	r1, #104
 1746 001e 2048     		ldr	r0, .L56
 1747 0020 FFF7FEFF 		bl	i2c_read_reg
 320:./Src/mpu6050.c **** 		     (uint8_t *)tmp);
 321:./Src/mpu6050.c **** 
 322:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 1748              		.loc 1 322 9
 1749 0024 0023     		movs	r3, #0
 1750 0026 7B61     		str	r3, [r7, #20]
 1751              		.loc 1 322 2
 1752 0028 31E0     		b	.L54
 1753              	.L55:
 323:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1754              		.loc 1 323 16 discriminator 3
 1755 002a 7B69     		ldr	r3, [r7, #20]
 1756 002c 5B00     		lsls	r3, r3, #1
 1757 002e 1833     		adds	r3, r3, #24
 1758 0030 3B44     		add	r3, r3, r7
 1759 0032 33F90C3C 		ldrsh	r3, [r3, #-12]
 1760              		.loc 1 323 20 discriminator 3
 1761 0036 1B02     		lsls	r3, r3, #8
 1762              		.loc 1 323 26 discriminator 3
 1763 0038 1AB2     		sxth	r2, r3
 1764              		.loc 1 323 33 discriminator 3
 1765 003a 7B69     		ldr	r3, [r7, #20]
 1766 003c 5B00     		lsls	r3, r3, #1
 1767 003e 1833     		adds	r3, r3, #24
 1768 0040 3B44     		add	r3, r3, r7
 1769 0042 33F90C3C 		ldrsh	r3, [r3, #-12]
 1770              		.loc 1 323 43 discriminator 3
 1771 0046 9BB2     		uxth	r3, r3
 1772 0048 1B0A     		lsrs	r3, r3, #8
 1773 004a 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 38


 1774 004c 1BB2     		sxth	r3, r3
 1775              		.loc 1 323 26 discriminator 3
 1776 004e 1343     		orrs	r3, r3, r2
 1777 0050 1AB2     		sxth	r2, r3
 1778              		.loc 1 323 10 discriminator 3
 1779 0052 7B69     		ldr	r3, [r7, #20]
 1780 0054 5B00     		lsls	r3, r3, #1
 1781 0056 1833     		adds	r3, r3, #24
 1782 0058 3B44     		add	r3, r3, r7
 1783 005a 23F80C2C 		strh	r2, [r3, #-12]	@ movhi
 324:./Src/mpu6050.c **** 		// tmp[i] -= bias[i];
 325:./Src/mpu6050.c **** 		data[i] = (float)tmp[i] * accel_unit;
 1784              		.loc 1 325 23 discriminator 3
 1785 005e 7B69     		ldr	r3, [r7, #20]
 1786 0060 5B00     		lsls	r3, r3, #1
 1787 0062 1833     		adds	r3, r3, #24
 1788 0064 3B44     		add	r3, r3, r7
 1789 0066 33F90C3C 		ldrsh	r3, [r3, #-12]
 1790              		.loc 1 325 13 discriminator 3
 1791 006a 07EE903A 		vmov	s15, r3	@ int
 1792 006e B8EEE77A 		vcvt.f32.s32	s14, s15
 1793              		.loc 1 325 27 discriminator 3
 1794 0072 0C4B     		ldr	r3, .L56+4
 1795 0074 D3ED007A 		vldr.32	s15, [r3]
 1796              		.loc 1 325 7 discriminator 3
 1797 0078 7B69     		ldr	r3, [r7, #20]
 1798 007a 9B00     		lsls	r3, r3, #2
 1799 007c 7A68     		ldr	r2, [r7, #4]
 1800 007e 1344     		add	r3, r3, r2
 1801              		.loc 1 325 27 discriminator 3
 1802 0080 67EE277A 		vmul.f32	s15, s14, s15
 1803              		.loc 1 325 11 discriminator 3
 1804 0084 C3ED007A 		vstr.32	s15, [r3]
 322:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1805              		.loc 1 322 22 discriminator 3
 1806 0088 7B69     		ldr	r3, [r7, #20]
 1807 008a 0133     		adds	r3, r3, #1
 1808 008c 7B61     		str	r3, [r7, #20]
 1809              	.L54:
 322:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1810              		.loc 1 322 2 discriminator 1
 1811 008e 7B69     		ldr	r3, [r7, #20]
 1812 0090 022B     		cmp	r3, #2
 1813 0092 CADD     		ble	.L55
 326:./Src/mpu6050.c **** 	}
 327:./Src/mpu6050.c **** }
 1814              		.loc 1 327 1
 1815 0094 00BF     		nop
 1816 0096 00BF     		nop
 1817 0098 1837     		adds	r7, r7, #24
 1818              	.LCFI43:
 1819              		.cfi_def_cfa_offset 8
 1820 009a BD46     		mov	sp, r7
 1821              	.LCFI44:
 1822              		.cfi_def_cfa_register 13
 1823              		@ sp needed
 1824 009c 80BD     		pop	{r7, pc}
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 39


 1825              	.L57:
 1826 009e 00BF     		.align	2
 1827              	.L56:
 1828 00a0 00540040 		.word	1073763328
 1829 00a4 00000000 		.word	accel_unit
 1830              		.cfi_endproc
 1831              	.LFE8:
 1833              		.section	.text.mpu6050_get_temperature,"ax",%progbits
 1834              		.align	1
 1835              		.global	mpu6050_get_temperature
 1836              		.syntax unified
 1837              		.thumb
 1838              		.thumb_func
 1840              	mpu6050_get_temperature:
 1841              	.LFB9:
 328:./Src/mpu6050.c **** 
 329:./Src/mpu6050.c **** /*
 330:./Src/mpu6050.c ****  * Temperature in degree C = (TEMP_OUT register value as a signed quantity) /
 331:./Src/mpu6050.c ****  * 340 + 36.53
 332:./Src/mpu6050.c ****  */
 333:./Src/mpu6050.c **** float mpu6050_get_temperature(void)
 334:./Src/mpu6050.c **** {
 1842              		.loc 1 334 1
 1843              		.cfi_startproc
 1844              		@ args = 0, pretend = 0, frame = 8
 1845              		@ frame_needed = 1, uses_anonymous_args = 0
 1846 0000 80B5     		push	{r7, lr}
 1847              	.LCFI45:
 1848              		.cfi_def_cfa_offset 8
 1849              		.cfi_offset 7, -8
 1850              		.cfi_offset 14, -4
 1851 0002 84B0     		sub	sp, sp, #16
 1852              	.LCFI46:
 1853              		.cfi_def_cfa_offset 24
 1854 0004 02AF     		add	r7, sp, #8
 1855              	.LCFI47:
 1856              		.cfi_def_cfa 7, 16
 335:./Src/mpu6050.c **** 	int16_t tmp = 0;
 1857              		.loc 1 335 10
 1858 0006 0023     		movs	r3, #0
 1859 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 336:./Src/mpu6050.c **** 
 337:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_TEMP_OUTH, 2,
 1860              		.loc 1 337 2
 1861 000a BB1D     		adds	r3, r7, #6
 1862 000c 0093     		str	r3, [sp]
 1863 000e 0223     		movs	r3, #2
 1864 0010 4122     		movs	r2, #65
 1865 0012 6821     		movs	r1, #104
 1866 0014 1848     		ldr	r0, .L60+16
 1867 0016 FFF7FEFF 		bl	i2c_read_reg
 338:./Src/mpu6050.c **** 		     (uint8_t *)&tmp);
 339:./Src/mpu6050.c **** 	tmp = (tmp << 8) | ((tmp >> 8) & 0xFF);
 1868              		.loc 1 339 13
 1869 001a B7F90630 		ldrsh	r3, [r7, #6]
 1870 001e 1B02     		lsls	r3, r3, #8
 1871              		.loc 1 339 19
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 40


 1872 0020 1AB2     		sxth	r2, r3
 1873              		.loc 1 339 33
 1874 0022 B7F90630 		ldrsh	r3, [r7, #6]
 1875 0026 9BB2     		uxth	r3, r3
 1876 0028 1B0A     		lsrs	r3, r3, #8
 1877 002a 9BB2     		uxth	r3, r3
 1878 002c 1BB2     		sxth	r3, r3
 1879              		.loc 1 339 19
 1880 002e 1343     		orrs	r3, r3, r2
 1881 0030 1BB2     		sxth	r3, r3
 1882              		.loc 1 339 6
 1883 0032 FB80     		strh	r3, [r7, #6]	@ movhi
 340:./Src/mpu6050.c **** 	return (float)tmp * 0.00294117647 + 36.53;
 1884              		.loc 1 340 9
 1885 0034 B7F90630 		ldrsh	r3, [r7, #6]
 1886 0038 07EE903A 		vmov	s15, r3	@ int
 1887 003c F8EEE77A 		vcvt.f32.s32	s15, s15
 1888 0040 B7EEE77A 		vcvt.f64.f32	d7, s15
 1889              		.loc 1 340 20
 1890 0044 9FED086B 		vldr.64	d6, .L60
 1891 0048 27EE067B 		vmul.f64	d7, d7, d6
 1892              		.loc 1 340 36
 1893 004c 9FED086B 		vldr.64	d6, .L60+8
 1894 0050 37EE067B 		vadd.f64	d7, d7, d6
 1895 0054 F7EEC77B 		vcvt.f32.f64	s15, d7
 341:./Src/mpu6050.c **** }
 1896              		.loc 1 341 1
 1897 0058 B0EE670A 		vmov.f32	s0, s15
 1898 005c 0837     		adds	r7, r7, #8
 1899              	.LCFI48:
 1900              		.cfi_def_cfa_offset 8
 1901 005e BD46     		mov	sp, r7
 1902              	.LCFI49:
 1903              		.cfi_def_cfa_register 13
 1904              		@ sp needed
 1905 0060 80BD     		pop	{r7, pc}
 1906              	.L61:
 1907 0062 00BFAFF3 		.align	3
 1907      0080
 1908              	.L60:
 1909 0068 BE650318 		.word	402875838
 1910 006c 1818683F 		.word	1063786520
 1911 0070 A4703D0A 		.word	171798692
 1912 0074 D7434240 		.word	1078084567
 1913 0078 00540040 		.word	1073763328
 1914              		.cfi_endproc
 1915              	.LFE9:
 1917              		.section	.text.mpu6050_get_gyro,"ax",%progbits
 1918              		.align	1
 1919              		.global	mpu6050_get_gyro
 1920              		.syntax unified
 1921              		.thumb
 1922              		.thumb_func
 1924              	mpu6050_get_gyro:
 1925              	.LFB10:
 342:./Src/mpu6050.c **** 
 343:./Src/mpu6050.c **** void mpu6050_get_gyro(float *data)
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 41


 344:./Src/mpu6050.c **** {
 1926              		.loc 1 344 1
 1927              		.cfi_startproc
 1928              		@ args = 0, pretend = 0, frame = 24
 1929              		@ frame_needed = 1, uses_anonymous_args = 0
 1930 0000 80B5     		push	{r7, lr}
 1931              	.LCFI50:
 1932              		.cfi_def_cfa_offset 8
 1933              		.cfi_offset 7, -8
 1934              		.cfi_offset 14, -4
 1935 0002 88B0     		sub	sp, sp, #32
 1936              	.LCFI51:
 1937              		.cfi_def_cfa_offset 40
 1938 0004 02AF     		add	r7, sp, #8
 1939              	.LCFI52:
 1940              		.cfi_def_cfa 7, 32
 1941 0006 7860     		str	r0, [r7, #4]
 345:./Src/mpu6050.c **** 	int16_t tmp[3] = {0};
 1942              		.loc 1 345 10
 1943 0008 07F10C03 		add	r3, r7, #12
 1944 000c 0022     		movs	r2, #0
 1945 000e 1A60     		str	r2, [r3]
 1946 0010 9A80     		strh	r2, [r3, #4]	@ movhi
 346:./Src/mpu6050.c **** 	int i;
 347:./Src/mpu6050.c **** 
 348:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_GYRO_XOUTH, 6,
 1947              		.loc 1 348 2
 1948 0012 07F10C03 		add	r3, r7, #12
 1949 0016 0093     		str	r3, [sp]
 1950 0018 0623     		movs	r3, #6
 1951 001a 4322     		movs	r2, #67
 1952 001c 6821     		movs	r1, #104
 1953 001e 4248     		ldr	r0, .L70+16
 1954 0020 FFF7FEFF 		bl	i2c_read_reg
 349:./Src/mpu6050.c **** 		     (uint8_t *)&tmp);
 350:./Src/mpu6050.c **** 
 351:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 1955              		.loc 1 351 9
 1956 0024 0023     		movs	r3, #0
 1957 0026 7B61     		str	r3, [r7, #20]
 1958              		.loc 1 351 2
 1959 0028 6CE0     		b	.L63
 1960              	.L67:
 352:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1961              		.loc 1 352 16
 1962 002a 7B69     		ldr	r3, [r7, #20]
 1963 002c 5B00     		lsls	r3, r3, #1
 1964 002e 1833     		adds	r3, r3, #24
 1965 0030 3B44     		add	r3, r3, r7
 1966 0032 33F90C3C 		ldrsh	r3, [r3, #-12]
 1967              		.loc 1 352 20
 1968 0036 1B02     		lsls	r3, r3, #8
 1969              		.loc 1 352 26
 1970 0038 1AB2     		sxth	r2, r3
 1971              		.loc 1 352 33
 1972 003a 7B69     		ldr	r3, [r7, #20]
 1973 003c 5B00     		lsls	r3, r3, #1
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 42


 1974 003e 1833     		adds	r3, r3, #24
 1975 0040 3B44     		add	r3, r3, r7
 1976 0042 33F90C3C 		ldrsh	r3, [r3, #-12]
 1977              		.loc 1 352 43
 1978 0046 9BB2     		uxth	r3, r3
 1979 0048 1B0A     		lsrs	r3, r3, #8
 1980 004a 9BB2     		uxth	r3, r3
 1981 004c 1BB2     		sxth	r3, r3
 1982              		.loc 1 352 26
 1983 004e 1343     		orrs	r3, r3, r2
 1984 0050 1AB2     		sxth	r2, r3
 1985              		.loc 1 352 10
 1986 0052 7B69     		ldr	r3, [r7, #20]
 1987 0054 5B00     		lsls	r3, r3, #1
 1988 0056 1833     		adds	r3, r3, #24
 1989 0058 3B44     		add	r3, r3, r7
 1990 005a 23F80C2C 		strh	r2, [r3, #-12]	@ movhi
 353:./Src/mpu6050.c **** 		tmp[i] -= bias[3 + i];
 1991              		.loc 1 353 10
 1992 005e 7B69     		ldr	r3, [r7, #20]
 1993 0060 5B00     		lsls	r3, r3, #1
 1994 0062 1833     		adds	r3, r3, #24
 1995 0064 3B44     		add	r3, r3, r7
 1996 0066 33F90C3C 		ldrsh	r3, [r3, #-12]
 1997 006a 9AB2     		uxth	r2, r3
 1998              		.loc 1 353 20
 1999 006c 7B69     		ldr	r3, [r7, #20]
 2000 006e 0333     		adds	r3, r3, #3
 2001              		.loc 1 353 17
 2002 0070 2E49     		ldr	r1, .L70+20
 2003 0072 31F91330 		ldrsh	r3, [r1, r3, lsl #1]
 2004 0076 9BB2     		uxth	r3, r3
 2005              		.loc 1 353 10
 2006 0078 D31A     		subs	r3, r2, r3
 2007 007a 9BB2     		uxth	r3, r3
 2008 007c 1AB2     		sxth	r2, r3
 2009 007e 7B69     		ldr	r3, [r7, #20]
 2010 0080 5B00     		lsls	r3, r3, #1
 2011 0082 1833     		adds	r3, r3, #24
 2012 0084 3B44     		add	r3, r3, r7
 2013 0086 23F80C2C 		strh	r2, [r3, #-12]	@ movhi
 354:./Src/mpu6050.c **** 		data[i] = (float)tmp[i] * gyro_unit;
 2014              		.loc 1 354 23
 2015 008a 7B69     		ldr	r3, [r7, #20]
 2016 008c 5B00     		lsls	r3, r3, #1
 2017 008e 1833     		adds	r3, r3, #24
 2018 0090 3B44     		add	r3, r3, r7
 2019 0092 33F90C3C 		ldrsh	r3, [r3, #-12]
 2020              		.loc 1 354 13
 2021 0096 07EE903A 		vmov	s15, r3	@ int
 2022 009a B8EEE77A 		vcvt.f32.s32	s14, s15
 2023              		.loc 1 354 27
 2024 009e 244B     		ldr	r3, .L70+24
 2025 00a0 D3ED007A 		vldr.32	s15, [r3]
 2026              		.loc 1 354 7
 2027 00a4 7B69     		ldr	r3, [r7, #20]
 2028 00a6 9B00     		lsls	r3, r3, #2
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 43


 2029 00a8 7A68     		ldr	r2, [r7, #4]
 2030 00aa 1344     		add	r3, r3, r2
 2031              		.loc 1 354 27
 2032 00ac 67EE277A 		vmul.f32	s15, s14, s15
 2033              		.loc 1 354 11
 2034 00b0 C3ED007A 		vstr.32	s15, [r3]
 355:./Src/mpu6050.c **** 
 356:./Src/mpu6050.c **** 		if ((data[i] < 0.1) && (data[i] > -0.1))
 2035              		.loc 1 356 12
 2036 00b4 7B69     		ldr	r3, [r7, #20]
 2037 00b6 9B00     		lsls	r3, r3, #2
 2038 00b8 7A68     		ldr	r2, [r7, #4]
 2039 00ba 1344     		add	r3, r3, r2
 2040 00bc D3ED007A 		vldr.32	s15, [r3]
 2041 00c0 B7EEE77A 		vcvt.f64.f32	d7, s15
 2042              		.loc 1 356 6
 2043 00c4 9FED146B 		vldr.64	d6, .L70
 2044 00c8 B4EEC67B 		vcmpe.f64	d7, d6
 2045 00cc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2046 00d0 15D5     		bpl	.L64
 2047              		.loc 1 356 31 discriminator 1
 2048 00d2 7B69     		ldr	r3, [r7, #20]
 2049 00d4 9B00     		lsls	r3, r3, #2
 2050 00d6 7A68     		ldr	r2, [r7, #4]
 2051 00d8 1344     		add	r3, r3, r2
 2052 00da D3ED007A 		vldr.32	s15, [r3]
 2053 00de B7EEE77A 		vcvt.f64.f32	d7, s15
 2054              		.loc 1 356 23 discriminator 1
 2055 00e2 9FED0F6B 		vldr.64	d6, .L70+8
 2056 00e6 B4EEC67B 		vcmpe.f64	d7, d6
 2057 00ea F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2058 00ee 06DD     		ble	.L64
 357:./Src/mpu6050.c **** 			data[i] = 0;
 2059              		.loc 1 357 8
 2060 00f0 7B69     		ldr	r3, [r7, #20]
 2061 00f2 9B00     		lsls	r3, r3, #2
 2062 00f4 7A68     		ldr	r2, [r7, #4]
 2063 00f6 1344     		add	r3, r3, r2
 2064              		.loc 1 357 12
 2065 00f8 4FF00002 		mov	r2, #0
 2066 00fc 1A60     		str	r2, [r3]	@ float
 2067              	.L64:
 351:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 2068              		.loc 1 351 22 discriminator 2
 2069 00fe 7B69     		ldr	r3, [r7, #20]
 2070 0100 0133     		adds	r3, r3, #1
 2071 0102 7B61     		str	r3, [r7, #20]
 2072              	.L63:
 351:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 2073              		.loc 1 351 2 discriminator 1
 2074 0104 7B69     		ldr	r3, [r7, #20]
 2075 0106 022B     		cmp	r3, #2
 2076 0108 8FDD     		ble	.L67
 358:./Src/mpu6050.c **** 	}
 359:./Src/mpu6050.c **** }...
 2077              		.loc 1 359 1
 2078 010a 00BF     		nop
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 44


 2079 010c 00BF     		nop
 2080 010e 1837     		adds	r7, r7, #24
 2081              	.LCFI53:
 2082              		.cfi_def_cfa_offset 8
 2083 0110 BD46     		mov	sp, r7
 2084              	.LCFI54:
 2085              		.cfi_def_cfa_register 13
 2086              		@ sp needed
 2087 0112 80BD     		pop	{r7, pc}
 2088              	.L71:
 2089 0114 AFF30080 		.align	3
 2090              	.L70:
 2091 0118 9A999999 		.word	-1717986918
 2092 011c 9999B93F 		.word	1069128089
 2093 0120 9A999999 		.word	-1717986918
 2094 0124 9999B9BF 		.word	-1078355559
 2095 0128 00540040 		.word	1073763328
 2096 012c 00000000 		.word	bias
 2097 0130 00000000 		.word	gyro_unit
 2098              		.cfi_endproc
 2099              	.LFE10:
 2101              		.section	.data.P.2,"aw"
 2102              		.align	2
 2105              	P.2:
 2106 0000 0000803F 		.word	1065353216
 2107 0004 00000000 		.word	0
 2108 0008 00000000 		.word	0
 2109 000c 0000803F 		.word	1065353216
 2110 0010 0000803F 		.word	1065353216
 2111 0014 00000000 		.word	0
 2112 0018 00000000 		.word	0
 2113 001c 0000803F 		.word	1065353216
 2114 0020 0000803F 		.word	1065353216
 2115 0024 00000000 		.word	0
 2116 0028 00000000 		.word	0
 2117 002c 0000803F 		.word	1065353216
 2118              		.section	.data.Q.1,"aw"
 2119              		.align	2
 2122              	Q.1:
 2123 0000 0AD7233C 		.word	1008981770
 2124              		.section	.data.R.0,"aw"
 2125              		.align	2
 2128              	R.0:
 2129 0000 0000803F 		.word	1065353216
 2130              		.text
 2131              	.Letext0:
 2132              		.file 2 "d:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_types.h"
 2133              		.file 3 "d:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 2134              		.file 4 "./Inc/stm32f767zi_hal.h"
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 45


DEFINED SYMBOLS
                            *ABS*:00000000 mpu6050.c
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:19     .data.dt:00000000 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:22     .data.dt:00000000 dt
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:25     .bss.gyro_unit:00000000 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:28     .bss.gyro_unit:00000000 gyro_unit
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:31     .bss.accel_unit:00000000 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:34     .bss.accel_unit:00000000 accel_unit
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:37     .bss.bias:00000000 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:40     .bss.bias:00000000 bias
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:43     .text.mpu6050_power_on:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:49     .text.mpu6050_power_on:00000000 mpu6050_power_on
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:91     .text.mpu6050_power_on:00000034 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:97     .text.mpu6050_selftest:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:103    .text.mpu6050_selftest:00000000 mpu6050_selftest
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:407    .text.mpu6050_selftest:00000250 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:420    .text.mpu6050_default_init:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:426    .text.mpu6050_default_init:00000000 mpu6050_default_init
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:503    .text.mpu6050_default_init:00000064 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:512    .text.mpu6050_init:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:518    .text.mpu6050_init:00000000 mpu6050_init
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:708    .text.calibration:00000000 calibration
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:694    .text.mpu6050_init:00000118 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:703    .text.calibration:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:949    .text.calibration:0000018c $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:958    .text.mpu6050_kalman_gyro:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:964    .text.mpu6050_kalman_gyro:00000000 mpu6050_kalman_gyro
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1304   .text.mpu6050_kalman_gyro:00000270 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:2105   .data.P.2:00000000 P.2
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:2122   .data.Q.1:00000000 Q.1
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:2128   .data.R.0:00000000 R.0
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1312   .text.mpu6050_get_position:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1318   .text.mpu6050_get_position:00000000 mpu6050_get_position
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1470   .text.mpu6050_get_position:00000100 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1477   .text.mpu6050_get_all:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1483   .text.mpu6050_get_all:00000000 mpu6050_get_all
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1699   .text.mpu6050_get_all:00000170 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1711   .text.mpu6050_get_accel:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1717   .text.mpu6050_get_accel:00000000 mpu6050_get_accel
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1828   .text.mpu6050_get_accel:000000a0 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1834   .text.mpu6050_get_temperature:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1840   .text.mpu6050_get_temperature:00000000 mpu6050_get_temperature
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1909   .text.mpu6050_get_temperature:00000068 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1918   .text.mpu6050_get_gyro:00000000 $t
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:1924   .text.mpu6050_get_gyro:00000000 mpu6050_get_gyro
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:2091   .text.mpu6050_get_gyro:00000118 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:2102   .data.P.2:00000000 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:2119   .data.Q.1:00000000 $d
C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s:2125   .data.R.0:00000000 $d

UNDEFINED SYMBOLS
systick_delay_ms
i2c_write_reg
i2c_read_reg
powf
sqrtf
atan2f
ARM GAS  C:\Users\LINZHE~1\AppData\Local\Temp\ccJlNJZ6.s 			page 46


