ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"mpu6050.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.bss.gyro_unit,"aw",%nobits
  19              		.align	2
  22              	gyro_unit:
  23 0000 00000000 		.space	4
  24              		.section	.bss.accel_unit,"aw",%nobits
  25              		.align	2
  28              	accel_unit:
  29 0000 00000000 		.space	4
  30              		.section	.bss.gyro_bias,"aw",%nobits
  31              		.align	2
  34              	gyro_bias:
  35 0000 00000000 		.space	6
  35      0000
  36              		.section	.text.mpu6050_power_on,"ax",%progbits
  37              		.align	1
  38              		.global	mpu6050_power_on
  39              		.syntax unified
  40              		.thumb
  41              		.thumb_func
  43              	mpu6050_power_on:
  44              	.LFB0:
  45              		.file 1 "./Src/mpu6050.c"
   1:./Src/mpu6050.c **** /**
   2:./Src/mpu6050.c ****  * @file mpu6050.c
   3:./Src/mpu6050.c ****  * @author zheyi613 (zheyi880613@gmail.com)
   4:./Src/mpu6050.c ****  * @brief MPU6050 library for stm32f767zi
   5:./Src/mpu6050.c ****  * @date 2022-08-24
   6:./Src/mpu6050.c ****  */
   7:./Src/mpu6050.c **** 
   8:./Src/mpu6050.c **** #include "mpu6050.h"
   9:./Src/mpu6050.c **** 
  10:./Src/mpu6050.c **** static void calibration(uint16_t sample_rate);
  11:./Src/mpu6050.c **** 
  12:./Src/mpu6050.c **** static float gyro_unit = 0;
  13:./Src/mpu6050.c **** static float accel_unit = 0;
  14:./Src/mpu6050.c **** static int16_t gyro_bias[3] = {0};
  15:./Src/mpu6050.c **** 
  16:./Src/mpu6050.c **** /* Use PG2 as Vdd of MPU6050 */
  17:./Src/mpu6050.c **** void mpu6050_power_on(void)
  18:./Src/mpu6050.c **** {
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 2


  46              		.loc 1 18 1
  47              		.cfi_startproc
  48              		@ args = 0, pretend = 0, frame = 0
  49              		@ frame_needed = 1, uses_anonymous_args = 0
  50 0000 80B5     		push	{r7, lr}
  51              	.LCFI0:
  52              		.cfi_def_cfa_offset 8
  53              		.cfi_offset 7, -8
  54              		.cfi_offset 14, -4
  55 0002 00AF     		add	r7, sp, #0
  56              	.LCFI1:
  57              		.cfi_def_cfa_register 7
  19:./Src/mpu6050.c **** 	RCC->AHB1ENR |= GPIOG_CLK_EN;
  58              		.loc 1 19 15
  59 0004 0B4B     		ldr	r3, .L2
  60 0006 1B6B     		ldr	r3, [r3, #48]
  61 0008 0A4A     		ldr	r2, .L2
  62 000a 43F04003 		orr	r3, r3, #64
  63 000e 1363     		str	r3, [r2, #48]
  20:./Src/mpu6050.c **** 	GPIOG->MODER |= GPIO_MODE_OUTPUT << 4;
  64              		.loc 1 20 15
  65 0010 094B     		ldr	r3, .L2+4
  66 0012 1B68     		ldr	r3, [r3]
  67 0014 084A     		ldr	r2, .L2+4
  68 0016 43F01003 		orr	r3, r3, #16
  69 001a 1360     		str	r3, [r2]
  21:./Src/mpu6050.c **** 	GPIOG->BSRR |= (1U << 2);
  70              		.loc 1 21 14
  71 001c 064B     		ldr	r3, .L2+4
  72 001e 9B69     		ldr	r3, [r3, #24]
  73 0020 054A     		ldr	r2, .L2+4
  74 0022 43F00403 		orr	r3, r3, #4
  75 0026 9361     		str	r3, [r2, #24]
  22:./Src/mpu6050.c **** 
  23:./Src/mpu6050.c **** 	systick_delay_ms(100);
  76              		.loc 1 23 2
  77 0028 6420     		movs	r0, #100
  78 002a FFF7FEFF 		bl	systick_delay_ms
  24:./Src/mpu6050.c **** }
  79              		.loc 1 24 1
  80 002e 00BF     		nop
  81 0030 80BD     		pop	{r7, pc}
  82              	.L3:
  83 0032 00BF     		.align	2
  84              	.L2:
  85 0034 00380240 		.word	1073887232
  86 0038 00180240 		.word	1073879040
  87              		.cfi_endproc
  88              	.LFE0:
  90              		.section	.text.mpu6050_selftest,"ax",%progbits
  91              		.align	1
  92              		.global	mpu6050_selftest
  93              		.syntax unified
  94              		.thumb
  95              		.thumb_func
  97              	mpu6050_selftest:
  98              	.LFB1:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 3


  25:./Src/mpu6050.c **** 
  26:./Src/mpu6050.c **** /**
  27:./Src/mpu6050.c ****  * @brief Self-Test to get change from foctory trim of the self-test response.
  28:./Src/mpu6050.c ****  * 	  if |value| < 14, the MPU6050 keep its accuracy, else failed.
  29:./Src/mpu6050.c ****  *
  30:./Src/mpu6050.c ****  * @param err error array of gyro and accel change
  31:./Src/mpu6050.c ****  */
  32:./Src/mpu6050.c **** void mpu6050_selftest(float *err)
  33:./Src/mpu6050.c **** {
  99              		.loc 1 33 1
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 32
 102              		@ frame_needed = 1, uses_anonymous_args = 0
 103 0000 80B5     		push	{r7, lr}
 104              	.LCFI2:
 105              		.cfi_def_cfa_offset 8
 106              		.cfi_offset 7, -8
 107              		.cfi_offset 14, -4
 108 0002 8AB0     		sub	sp, sp, #40
 109              	.LCFI3:
 110              		.cfi_def_cfa_offset 48
 111 0004 02AF     		add	r7, sp, #8
 112              	.LCFI4:
 113              		.cfi_def_cfa 7, 40
 114 0006 7860     		str	r0, [r7, #4]
  34:./Src/mpu6050.c **** 	uint8_t tmp = 0xE0;
 115              		.loc 1 34 10
 116 0008 E023     		movs	r3, #224
 117 000a FB75     		strb	r3, [r7, #23]
  35:./Src/mpu6050.c **** 	uint8_t raw_data[4] = {0};
 118              		.loc 1 35 10
 119 000c 0023     		movs	r3, #0
 120 000e 3B61     		str	r3, [r7, #16]
  36:./Src/mpu6050.c **** 	int i;
  37:./Src/mpu6050.c **** 	uint8_t selftest_data[6] = {0};
 121              		.loc 1 37 10
 122 0010 0023     		movs	r3, #0
 123 0012 BB60     		str	r3, [r7, #8]
 124 0014 0023     		movs	r3, #0
 125 0016 BB81     		strh	r3, [r7, #12]	@ movhi
  38:./Src/mpu6050.c **** 	float factory_trim = 0;
 126              		.loc 1 38 8
 127 0018 4FF00003 		mov	r3, #0
 128 001c BB61     		str	r3, [r7, #24]	@ float
  39:./Src/mpu6050.c **** 
  40:./Src/mpu6050.c **** 	// Configure the accelorometer and gyroscope self test
  41:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_ACCEL_CONFIG, 1, &tmp);
 129              		.loc 1 41 2
 130 001e 07F11703 		add	r3, r7, #23
 131 0022 0093     		str	r3, [sp]
 132 0024 0123     		movs	r3, #1
 133 0026 1C22     		movs	r2, #28
 134 0028 6821     		movs	r1, #104
 135 002a 8F48     		ldr	r0, .L10+24
 136 002c FFF7FEFF 		bl	i2c_write_reg
  42:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_GYRO_CONFIG, 1, &tmp);
 137              		.loc 1 42 2
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 4


 138 0030 07F11703 		add	r3, r7, #23
 139 0034 0093     		str	r3, [sp]
 140 0036 0123     		movs	r3, #1
 141 0038 1B22     		movs	r2, #27
 142 003a 6821     		movs	r1, #104
 143 003c 8A48     		ldr	r0, .L10+24
 144 003e FFF7FEFF 		bl	i2c_write_reg
  43:./Src/mpu6050.c **** 
  44:./Src/mpu6050.c **** 	systick_delay_ms(250);
 145              		.loc 1 44 2
 146 0042 FA20     		movs	r0, #250
 147 0044 FFF7FEFF 		bl	systick_delay_ms
  45:./Src/mpu6050.c **** 	// Get raw data from self test register
  46:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_SELF_TEST_X, 4, raw_data);
 148              		.loc 1 46 2
 149 0048 07F11003 		add	r3, r7, #16
 150 004c 0093     		str	r3, [sp]
 151 004e 0423     		movs	r3, #4
 152 0050 0D22     		movs	r2, #13
 153 0052 6821     		movs	r1, #104
 154 0054 8448     		ldr	r0, .L10+24
 155 0056 FFF7FEFF 		bl	i2c_read_reg
  47:./Src/mpu6050.c **** 	// Calculate self test data
  48:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 156              		.loc 1 48 9
 157 005a 0023     		movs	r3, #0
 158 005c FB61     		str	r3, [r7, #28]
 159              		.loc 1 48 2
 160 005e 3BE0     		b	.L5
 161              	.L6:
  49:./Src/mpu6050.c **** 		selftest_data[i] = (raw_data[3] >> (2 * (2 - i))) & 0x3;
 162              		.loc 1 49 31 discriminator 3
 163 0060 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 164 0062 1A46     		mov	r2, r3
 165              		.loc 1 49 46 discriminator 3
 166 0064 FB69     		ldr	r3, [r7, #28]
 167 0066 C3F10203 		rsb	r3, r3, #2
 168              		.loc 1 49 41 discriminator 3
 169 006a 5B00     		lsls	r3, r3, #1
 170              		.loc 1 49 35 discriminator 3
 171 006c 42FA03F3 		asr	r3, r2, r3
 172              		.loc 1 49 53 discriminator 3
 173 0070 DBB2     		uxtb	r3, r3
 174 0072 03F00303 		and	r3, r3, #3
 175 0076 D9B2     		uxtb	r1, r3
 176              		.loc 1 49 20 discriminator 3
 177 0078 07F10802 		add	r2, r7, #8
 178 007c FB69     		ldr	r3, [r7, #28]
 179 007e 1344     		add	r3, r3, r2
 180 0080 0A46     		mov	r2, r1
 181 0082 1A70     		strb	r2, [r3]
  50:./Src/mpu6050.c **** 		selftest_data[i] |= (raw_data[i] & 0xE0) >> 3;
 182              		.loc 1 50 20 discriminator 3
 183 0084 07F10802 		add	r2, r7, #8
 184 0088 FB69     		ldr	r3, [r7, #28]
 185 008a 1344     		add	r3, r3, r2
 186 008c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 5


 187 008e 5AB2     		sxtb	r2, r3
 188              		.loc 1 50 32 discriminator 3
 189 0090 07F11001 		add	r1, r7, #16
 190 0094 FB69     		ldr	r3, [r7, #28]
 191 0096 0B44     		add	r3, r3, r1
 192 0098 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 193              		.loc 1 50 44 discriminator 3
 194 009a DB10     		asrs	r3, r3, #3
 195 009c 5BB2     		sxtb	r3, r3
 196 009e 03F01C03 		and	r3, r3, #28
 197 00a2 5BB2     		sxtb	r3, r3
 198              		.loc 1 50 20 discriminator 3
 199 00a4 1343     		orrs	r3, r3, r2
 200 00a6 5BB2     		sxtb	r3, r3
 201 00a8 D9B2     		uxtb	r1, r3
 202 00aa 07F10802 		add	r2, r7, #8
 203 00ae FB69     		ldr	r3, [r7, #28]
 204 00b0 1344     		add	r3, r3, r2
 205 00b2 0A46     		mov	r2, r1
 206 00b4 1A70     		strb	r2, [r3]
  51:./Src/mpu6050.c **** 		selftest_data[3 + i] = raw_data[i] & 0x1F;
 207              		.loc 1 51 34 discriminator 3
 208 00b6 07F11002 		add	r2, r7, #16
 209 00ba FB69     		ldr	r3, [r7, #28]
 210 00bc 1344     		add	r3, r3, r2
 211 00be 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 212              		.loc 1 51 19 discriminator 3
 213 00c0 FB69     		ldr	r3, [r7, #28]
 214 00c2 0333     		adds	r3, r3, #3
 215              		.loc 1 51 38 discriminator 3
 216 00c4 02F01F02 		and	r2, r2, #31
 217 00c8 D2B2     		uxtb	r2, r2
 218              		.loc 1 51 24 discriminator 3
 219 00ca 2033     		adds	r3, r3, #32
 220 00cc 3B44     		add	r3, r3, r7
 221 00ce 03F8182C 		strb	r2, [r3, #-24]
  48:./Src/mpu6050.c **** 		selftest_data[i] = (raw_data[3] >> (2 * (2 - i))) & 0x3;
 222              		.loc 1 48 22 discriminator 3
 223 00d2 FB69     		ldr	r3, [r7, #28]
 224 00d4 0133     		adds	r3, r3, #1
 225 00d6 FB61     		str	r3, [r7, #28]
 226              	.L5:
  48:./Src/mpu6050.c **** 		selftest_data[i] = (raw_data[3] >> (2 * (2 - i))) & 0x3;
 227              		.loc 1 48 2 discriminator 1
 228 00d8 FB69     		ldr	r3, [r7, #28]
 229 00da 022B     		cmp	r3, #2
 230 00dc C0DD     		ble	.L6
  52:./Src/mpu6050.c **** 	}
  53:./Src/mpu6050.c **** 	// Calculate change from factory trim of the Self-Test response
  54:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 231              		.loc 1 54 9
 232 00de 0023     		movs	r3, #0
 233 00e0 FB61     		str	r3, [r7, #28]
 234              		.loc 1 54 2
 235 00e2 97E0     		b	.L7
 236              	.L9:
  55:./Src/mpu6050.c **** 		// accelerometer
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 6


  56:./Src/mpu6050.c **** 		factory_trim =
  57:./Src/mpu6050.c **** 			4096.0 * 0.34 *
  58:./Src/mpu6050.c **** 			powf(0.92 / 0.34, ((float)selftest_data[i] - 1) / 30.0);
 237              		.loc 1 58 43
 238 00e4 07F10802 		add	r2, r7, #8
 239 00e8 FB69     		ldr	r3, [r7, #28]
 240 00ea 1344     		add	r3, r3, r2
 241 00ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 242              		.loc 1 58 23
 243 00ee 07EE903A 		vmov	s15, r3	@ int
 244 00f2 F8EE677A 		vcvt.f32.u32	s15, s15
 245              		.loc 1 58 47
 246 00f6 B7EE007A 		vmov.f32	s14, #1.0e+0
 247 00fa 77EEC77A 		vsub.f32	s15, s15, s14
 248              		.loc 1 58 4
 249 00fe F3EE0E6A 		vmov.f32	s13, #3.0e+1
 250 0102 87EEA67A 		vdiv.f32	s14, s15, s13
 251 0106 F0EE470A 		vmov.f32	s1, s14
 252 010a 9FED580A 		vldr.32	s0, .L10+28
 253 010e FFF7FEFF 		bl	powf
 254 0112 F0EE407A 		vmov.f32	s15, s0
 255 0116 B7EEE77A 		vcvt.f64.f32	d7, s15
  57:./Src/mpu6050.c **** 			powf(0.92 / 0.34, ((float)selftest_data[i] - 1) / 30.0);
 256              		.loc 1 57 18
 257 011a 9FED4D6B 		vldr.64	d6, .L10
 258 011e 27EE067B 		vmul.f64	d7, d7, d6
  56:./Src/mpu6050.c **** 			4096.0 * 0.34 *
 259              		.loc 1 56 16
 260 0122 F7EEC77B 		vcvt.f32.f64	s15, d7
 261 0126 C7ED067A 		vstr.32	s15, [r7, #24]
  59:./Src/mpu6050.c **** 		err[i] = 100.0 +
  60:./Src/mpu6050.c **** 			 100.0 * ((float)selftest_data[i] - factory_trim) /
 262              		.loc 1 60 34
 263 012a 07F10802 		add	r2, r7, #8
 264 012e FB69     		ldr	r3, [r7, #28]
 265 0130 1344     		add	r3, r3, r2
 266 0132 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 267              		.loc 1 60 14
 268 0134 07EE903A 		vmov	s15, r3	@ int
 269 0138 B8EE677A 		vcvt.f32.u32	s14, s15
 270              		.loc 1 60 38
 271 013c D7ED067A 		vldr.32	s15, [r7, #24]
 272 0140 77EE677A 		vsub.f32	s15, s14, s15
 273 0144 B7EEE77A 		vcvt.f64.f32	d7, s15
 274              		.loc 1 60 11
 275 0148 9FED436B 		vldr.64	d6, .L10+8
 276 014c 27EE065B 		vmul.f64	d5, d7, d6
 277              		.loc 1 60 54
 278 0150 D7ED067A 		vldr.32	s15, [r7, #24]
 279 0154 B7EEE76A 		vcvt.f64.f32	d6, s15
 280 0158 85EE067B 		vdiv.f64	d7, d5, d6
  59:./Src/mpu6050.c **** 		err[i] = 100.0 +
 281              		.loc 1 59 18
 282 015c 9FED3E6B 		vldr.64	d6, .L10+8
 283 0160 37EE067B 		vadd.f64	d7, d7, d6
  59:./Src/mpu6050.c **** 		err[i] = 100.0 +
 284              		.loc 1 59 6
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 7


 285 0164 FB69     		ldr	r3, [r7, #28]
 286 0166 9B00     		lsls	r3, r3, #2
 287 0168 7A68     		ldr	r2, [r7, #4]
 288 016a 1344     		add	r3, r3, r2
  59:./Src/mpu6050.c **** 		err[i] = 100.0 +
 289              		.loc 1 59 18
 290 016c F7EEC77B 		vcvt.f32.f64	s15, d7
  59:./Src/mpu6050.c **** 		err[i] = 100.0 +
 291              		.loc 1 59 10
 292 0170 C3ED007A 		vstr.32	s15, [r3]
  61:./Src/mpu6050.c **** 				 factory_trim;
  62:./Src/mpu6050.c **** 		// gyro factory trim
  63:./Src/mpu6050.c **** 		factory_trim =
  64:./Src/mpu6050.c **** 			25.0 * 131.0 * powf(1.046, selftest_data[3 + i] - 1);
 293              		.loc 1 64 47
 294 0174 FB69     		ldr	r3, [r7, #28]
 295 0176 0333     		adds	r3, r3, #3
 296              		.loc 1 64 44
 297 0178 2033     		adds	r3, r3, #32
 298 017a 3B44     		add	r3, r3, r7
 299 017c 13F8183C 		ldrb	r3, [r3, #-24]	@ zero_extendqisi2
 300              		.loc 1 64 52
 301 0180 013B     		subs	r3, r3, #1
 302              		.loc 1 64 19
 303 0182 07EE903A 		vmov	s15, r3	@ int
 304 0186 F8EEE77A 		vcvt.f32.s32	s15, s15
 305 018a F0EE670A 		vmov.f32	s1, s15
 306 018e 9FED380A 		vldr.32	s0, .L10+32
 307 0192 FFF7FEFF 		bl	powf
 308 0196 F0EE407A 		vmov.f32	s15, s0
 309 019a B7EEE77A 		vcvt.f64.f32	d7, s15
 310              		.loc 1 64 17
 311 019e 9FED306B 		vldr.64	d6, .L10+16
 312 01a2 27EE067B 		vmul.f64	d7, d7, d6
  63:./Src/mpu6050.c **** 			25.0 * 131.0 * powf(1.046, selftest_data[3 + i] - 1);
 313              		.loc 1 63 16
 314 01a6 F7EEC77B 		vcvt.f32.f64	s15, d7
 315 01aa C7ED067A 		vstr.32	s15, [r7, #24]
  65:./Src/mpu6050.c **** 
  66:./Src/mpu6050.c **** 		if (i == 1)
 316              		.loc 1 66 6
 317 01ae FB69     		ldr	r3, [r7, #28]
 318 01b0 012B     		cmp	r3, #1
 319 01b2 05D1     		bne	.L8
  67:./Src/mpu6050.c **** 			factory_trim *= -1;
 320              		.loc 1 67 17
 321 01b4 D7ED067A 		vldr.32	s15, [r7, #24]
 322 01b8 F1EE677A 		vneg.f32	s15, s15
 323 01bc C7ED067A 		vstr.32	s15, [r7, #24]
 324              	.L8:
  68:./Src/mpu6050.c **** 
  69:./Src/mpu6050.c **** 		err[3 + i] =
  70:./Src/mpu6050.c **** 			100 +
  71:./Src/mpu6050.c **** 			100.0 * ((float)selftest_data[3 + i] - factory_trim) /
 325              		.loc 1 71 36 discriminator 2
 326 01c0 FB69     		ldr	r3, [r7, #28]
 327 01c2 0333     		adds	r3, r3, #3
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 8


 328              		.loc 1 71 33 discriminator 2
 329 01c4 2033     		adds	r3, r3, #32
 330 01c6 3B44     		add	r3, r3, r7
 331 01c8 13F8183C 		ldrb	r3, [r3, #-24]	@ zero_extendqisi2
 332              		.loc 1 71 13 discriminator 2
 333 01cc 07EE903A 		vmov	s15, r3	@ int
 334 01d0 B8EE677A 		vcvt.f32.u32	s14, s15
 335              		.loc 1 71 41 discriminator 2
 336 01d4 D7ED067A 		vldr.32	s15, [r7, #24]
 337 01d8 77EE677A 		vsub.f32	s15, s14, s15
 338 01dc B7EEE77A 		vcvt.f64.f32	d7, s15
 339              		.loc 1 71 10 discriminator 2
 340 01e0 9FED1D6B 		vldr.64	d6, .L10+8
 341 01e4 27EE065B 		vmul.f64	d5, d7, d6
 342              		.loc 1 71 57 discriminator 2
 343 01e8 D7ED067A 		vldr.32	s15, [r7, #24]
 344 01ec B7EEE76A 		vcvt.f64.f32	d6, s15
 345 01f0 85EE067B 		vdiv.f64	d7, d5, d6
  70:./Src/mpu6050.c **** 			100.0 * ((float)selftest_data[3 + i] - factory_trim) /
 346              		.loc 1 70 8 discriminator 2
 347 01f4 9FED186B 		vldr.64	d6, .L10+8
 348 01f8 37EE067B 		vadd.f64	d7, d7, d6
  69:./Src/mpu6050.c **** 			100 +
 349              		.loc 1 69 9 discriminator 2
 350 01fc FB69     		ldr	r3, [r7, #28]
 351 01fe 0333     		adds	r3, r3, #3
  69:./Src/mpu6050.c **** 			100 +
 352              		.loc 1 69 6 discriminator 2
 353 0200 9B00     		lsls	r3, r3, #2
 354 0202 7A68     		ldr	r2, [r7, #4]
 355 0204 1344     		add	r3, r3, r2
  70:./Src/mpu6050.c **** 			100.0 * ((float)selftest_data[3 + i] - factory_trim) /
 356              		.loc 1 70 8 discriminator 2
 357 0206 F7EEC77B 		vcvt.f32.f64	s15, d7
  69:./Src/mpu6050.c **** 			100 +
 358              		.loc 1 69 14 discriminator 2
 359 020a C3ED007A 		vstr.32	s15, [r3]
  54:./Src/mpu6050.c **** 		// accelerometer
 360              		.loc 1 54 22 discriminator 2
 361 020e FB69     		ldr	r3, [r7, #28]
 362 0210 0133     		adds	r3, r3, #1
 363 0212 FB61     		str	r3, [r7, #28]
 364              	.L7:
  54:./Src/mpu6050.c **** 		// accelerometer
 365              		.loc 1 54 2 discriminator 1
 366 0214 FB69     		ldr	r3, [r7, #28]
 367 0216 022B     		cmp	r3, #2
 368 0218 7FF764AF 		ble	.L9
  72:./Src/mpu6050.c **** 				factory_trim;
  73:./Src/mpu6050.c **** 	}
  74:./Src/mpu6050.c **** 
  75:./Src/mpu6050.c **** 	// Clear configuration of the accelorometer and gyroscope self test
  76:./Src/mpu6050.c **** 	tmp = 0;
 369              		.loc 1 76 6
 370 021c 0023     		movs	r3, #0
 371 021e FB75     		strb	r3, [r7, #23]
  77:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_ACCEL_CONFIG, 1, &tmp);
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 9


 372              		.loc 1 77 2
 373 0220 07F11703 		add	r3, r7, #23
 374 0224 0093     		str	r3, [sp]
 375 0226 0123     		movs	r3, #1
 376 0228 1C22     		movs	r2, #28
 377 022a 6821     		movs	r1, #104
 378 022c 0E48     		ldr	r0, .L10+24
 379 022e FFF7FEFF 		bl	i2c_write_reg
  78:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_GYRO_CONFIG, 1, &tmp);
 380              		.loc 1 78 2
 381 0232 07F11703 		add	r3, r7, #23
 382 0236 0093     		str	r3, [sp]
 383 0238 0123     		movs	r3, #1
 384 023a 1B22     		movs	r2, #27
 385 023c 6821     		movs	r1, #104
 386 023e 0A48     		ldr	r0, .L10+24
 387 0240 FFF7FEFF 		bl	i2c_write_reg
  79:./Src/mpu6050.c **** }
 388              		.loc 1 79 1
 389 0244 00BF     		nop
 390 0246 2037     		adds	r7, r7, #32
 391              	.LCFI5:
 392              		.cfi_def_cfa_offset 8
 393 0248 BD46     		mov	sp, r7
 394              	.LCFI6:
 395              		.cfi_def_cfa_register 13
 396              		@ sp needed
 397 024a 80BD     		pop	{r7, pc}
 398              	.L11:
 399 024c AFF30080 		.align	3
 400              	.L10:
 401 0250 C3F5285C 		.word	1546188227
 402 0254 8FC29540 		.word	1083556495
 403 0258 00000000 		.word	0
 404 025c 00005940 		.word	1079574528
 405 0260 00000000 		.word	0
 406 0264 0096A940 		.word	1084855808
 407 0268 00540040 		.word	1073763328
 408 026c 2D2D2D40 		.word	1076702509
 409 0270 54E3853F 		.word	1065739092
 410              		.cfi_endproc
 411              	.LFE1:
 413              		.section	.text.mpu6050_default_init,"ax",%progbits
 414              		.align	1
 415              		.global	mpu6050_default_init
 416              		.syntax unified
 417              		.thumb
 418              		.thumb_func
 420              	mpu6050_default_init:
 421              	.LFB2:
  80:./Src/mpu6050.c **** 
  81:./Src/mpu6050.c **** /*
  82:./Src/mpu6050.c ****  * Default setting:
  83:./Src/mpu6050.c ****  * Clock source: PLL with X axis gyroscope reference
  84:./Src/mpu6050.c ****  * Sampling rate: 1000
  85:./Src/mpu6050.c ****  * Gyroscope full scale range: 250dps
  86:./Src/mpu6050.c ****  * Accelerometer full scale range: 2g
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 10


  87:./Src/mpu6050.c ****  *
  88:./Src/mpu6050.c ****  * note: no calibration
  89:./Src/mpu6050.c ****  */
  90:./Src/mpu6050.c **** void mpu6050_default_init(void)
  91:./Src/mpu6050.c **** {
 422              		.loc 1 91 1
 423              		.cfi_startproc
 424              		@ args = 0, pretend = 0, frame = 8
 425              		@ frame_needed = 1, uses_anonymous_args = 0
 426 0000 80B5     		push	{r7, lr}
 427              	.LCFI7:
 428              		.cfi_def_cfa_offset 8
 429              		.cfi_offset 7, -8
 430              		.cfi_offset 14, -4
 431 0002 84B0     		sub	sp, sp, #16
 432              	.LCFI8:
 433              		.cfi_def_cfa_offset 24
 434 0004 02AF     		add	r7, sp, #8
 435              	.LCFI9:
 436              		.cfi_def_cfa 7, 16
  92:./Src/mpu6050.c **** 	uint8_t tmp = MPU6050_DEVICE_RESET;
 437              		.loc 1 92 10
 438 0006 8023     		movs	r3, #128
 439 0008 FB71     		strb	r3, [r7, #7]
  93:./Src/mpu6050.c **** 	// Reset MPU6050
  94:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_PWR_MGMT_1, 1, &tmp);
 440              		.loc 1 94 2
 441 000a FB1D     		adds	r3, r7, #7
 442 000c 0093     		str	r3, [sp]
 443 000e 0123     		movs	r3, #1
 444 0010 6B22     		movs	r2, #107
 445 0012 6821     		movs	r1, #104
 446 0014 1348     		ldr	r0, .L13
 447 0016 FFF7FEFF 		bl	i2c_write_reg
  95:./Src/mpu6050.c **** 	systick_delay_ms(100);
 448              		.loc 1 95 2
 449 001a 6420     		movs	r0, #100
 450 001c FFF7FEFF 		bl	systick_delay_ms
  96:./Src/mpu6050.c **** 	// Wake up and use PLL with X axis gyroscope reference as clock source
  97:./Src/mpu6050.c **** 	tmp = MPU6050_CLK_X_GYRO;
 451              		.loc 1 97 6
 452 0020 0123     		movs	r3, #1
 453 0022 FB71     		strb	r3, [r7, #7]
  98:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_PWR_MGMT_1, 1, &tmp);
 454              		.loc 1 98 2
 455 0024 FB1D     		adds	r3, r7, #7
 456 0026 0093     		str	r3, [sp]
 457 0028 0123     		movs	r3, #1
 458 002a 6B22     		movs	r2, #107
 459 002c 6821     		movs	r1, #104
 460 002e 0D48     		ldr	r0, .L13
 461 0030 FFF7FEFF 		bl	i2c_write_reg
  99:./Src/mpu6050.c **** 	systick_delay_ms(100);
 462              		.loc 1 99 2
 463 0034 6420     		movs	r0, #100
 464 0036 FFF7FEFF 		bl	systick_delay_ms
 100:./Src/mpu6050.c **** 	// Set sample rate to 1kHz
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 11


 101:./Src/mpu6050.c **** 	tmp = 1;
 465              		.loc 1 101 6
 466 003a 0123     		movs	r3, #1
 467 003c FB71     		strb	r3, [r7, #7]
 102:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_CONFIG, 1, &tmp);
 468              		.loc 1 102 2
 469 003e FB1D     		adds	r3, r7, #7
 470 0040 0093     		str	r3, [sp]
 471 0042 0123     		movs	r3, #1
 472 0044 1A22     		movs	r2, #26
 473 0046 6821     		movs	r1, #104
 474 0048 0648     		ldr	r0, .L13
 475 004a FFF7FEFF 		bl	i2c_write_reg
 103:./Src/mpu6050.c **** 	// initial gyroscope and accelorometer unit
 104:./Src/mpu6050.c **** 	gyro_unit = MPU6050_GYRO_UNIT;
 476              		.loc 1 104 12
 477 004e 064B     		ldr	r3, .L13+4
 478 0050 064A     		ldr	r2, .L13+8
 479 0052 1A60     		str	r2, [r3]	@ float
 105:./Src/mpu6050.c **** 	accel_unit = MPU6050_ACCEL_UNIT;
 480              		.loc 1 105 13
 481 0054 064B     		ldr	r3, .L13+12
 482 0056 074A     		ldr	r2, .L13+16
 483 0058 1A60     		str	r2, [r3]	@ float
 106:./Src/mpu6050.c **** }
 484              		.loc 1 106 1
 485 005a 00BF     		nop
 486 005c 0837     		adds	r7, r7, #8
 487              	.LCFI10:
 488              		.cfi_def_cfa_offset 8
 489 005e BD46     		mov	sp, r7
 490              	.LCFI11:
 491              		.cfi_def_cfa_register 13
 492              		@ sp needed
 493 0060 80BD     		pop	{r7, pc}
 494              	.L14:
 495 0062 00BF     		.align	2
 496              	.L13:
 497 0064 00540040 		.word	1073763328
 498 0068 00000000 		.word	gyro_unit
 499 006c FA00FA3B 		.word	1006239994
 500 0070 00000000 		.word	accel_unit
 501 0074 80008038 		.word	947912832
 502              		.cfi_endproc
 503              	.LFE2:
 505              		.section	.text.mpu6050_init,"ax",%progbits
 506              		.align	1
 507              		.global	mpu6050_init
 508              		.syntax unified
 509              		.thumb
 510              		.thumb_func
 512              	mpu6050_init:
 513              	.LFB3:
 107:./Src/mpu6050.c **** 
 108:./Src/mpu6050.c **** /**
 109:./Src/mpu6050.c ****  * @brief Initial mpu6050 with user selecting sample rate,
 110:./Src/mpu6050.c ****  *        gyro full scale range, accel full scale range.
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 12


 111:./Src/mpu6050.c ****  *        Set proper low pass filter and calibrate mpu6050.
 112:./Src/mpu6050.c ****  *
 113:./Src/mpu6050.c ****  * @param sample_rate (Hz)
 114:./Src/mpu6050.c ****  * @param gyro_range  (dps)
 115:./Src/mpu6050.c ****  * @param accel_range (g)
 116:./Src/mpu6050.c ****  */
 117:./Src/mpu6050.c **** void mpu6050_init(uint16_t sample_rate, uint8_t accel_range,
 118:./Src/mpu6050.c **** 		  uint16_t gyro_range)
 119:./Src/mpu6050.c **** {
 514              		.loc 1 119 1
 515              		.cfi_startproc
 516              		@ args = 0, pretend = 0, frame = 16
 517              		@ frame_needed = 1, uses_anonymous_args = 0
 518 0000 80B5     		push	{r7, lr}
 519              	.LCFI12:
 520              		.cfi_def_cfa_offset 8
 521              		.cfi_offset 7, -8
 522              		.cfi_offset 14, -4
 523 0002 86B0     		sub	sp, sp, #24
 524              	.LCFI13:
 525              		.cfi_def_cfa_offset 32
 526 0004 02AF     		add	r7, sp, #8
 527              	.LCFI14:
 528              		.cfi_def_cfa 7, 24
 529 0006 0346     		mov	r3, r0
 530 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 531 000a 0B46     		mov	r3, r1
 532 000c 7B71     		strb	r3, [r7, #5]
 533 000e 1346     		mov	r3, r2	@ movhi
 534 0010 7B80     		strh	r3, [r7, #2]	@ movhi
 120:./Src/mpu6050.c **** 	uint8_t div = (uint8_t)(1000 / sample_rate - 1);
 535              		.loc 1 120 31
 536 0012 FB88     		ldrh	r3, [r7, #6]
 537 0014 4FF47A72 		mov	r2, #1000
 538 0018 92FBF3F3 		sdiv	r3, r2, r3
 539              		.loc 1 120 16
 540 001c DBB2     		uxtb	r3, r3
 541 001e 013B     		subs	r3, r3, #1
 542 0020 DBB2     		uxtb	r3, r3
 543              		.loc 1 120 10
 544 0022 FB73     		strb	r3, [r7, #15]
 121:./Src/mpu6050.c **** 	uint8_t low_pass_cfg = 0;
 545              		.loc 1 121 10
 546 0024 0023     		movs	r3, #0
 547 0026 BB73     		strb	r3, [r7, #14]
 122:./Src/mpu6050.c **** 	uint16_t tmp = sample_rate;
 548              		.loc 1 122 11
 549 0028 FB88     		ldrh	r3, [r7, #6]	@ movhi
 550 002a BB81     		strh	r3, [r7, #12]	@ movhi
 123:./Src/mpu6050.c **** 
 124:./Src/mpu6050.c **** 	mpu6050_default_init();
 551              		.loc 1 124 2
 552 002c FFF7FEFF 		bl	mpu6050_default_init
 125:./Src/mpu6050.c **** 
 126:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_SMPLRT_DIV, 1, &div);
 553              		.loc 1 126 2
 554 0030 07F10F03 		add	r3, r7, #15
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 13


 555 0034 0093     		str	r3, [sp]
 556 0036 0123     		movs	r3, #1
 557 0038 1922     		movs	r2, #25
 558 003a 6821     		movs	r1, #104
 559 003c 3148     		ldr	r0, .L22
 560 003e FFF7FEFF 		bl	i2c_write_reg
 127:./Src/mpu6050.c **** 	// Set low pass filter
 128:./Src/mpu6050.c **** 	while (1000 > tmp) {
 561              		.loc 1 128 8
 562 0042 07E0     		b	.L16
 563              	.L17:
 129:./Src/mpu6050.c **** 		tmp <<= 1;
 564              		.loc 1 129 7
 565 0044 BB89     		ldrh	r3, [r7, #12]
 566 0046 5B00     		lsls	r3, r3, #1
 567 0048 9BB2     		uxth	r3, r3
 568 004a BB81     		strh	r3, [r7, #12]	@ movhi
 130:./Src/mpu6050.c **** 		low_pass_cfg++;
 569              		.loc 1 130 15
 570 004c BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 571 004e 0133     		adds	r3, r3, #1
 572 0050 DBB2     		uxtb	r3, r3
 573 0052 BB73     		strb	r3, [r7, #14]
 574              	.L16:
 128:./Src/mpu6050.c **** 		tmp <<= 1;
 575              		.loc 1 128 14
 576 0054 BB89     		ldrh	r3, [r7, #12]
 128:./Src/mpu6050.c **** 		tmp <<= 1;
 577              		.loc 1 128 8
 578 0056 B3F57A7F 		cmp	r3, #1000
 579 005a F3D3     		bcc	.L17
 131:./Src/mpu6050.c **** 	}
 132:./Src/mpu6050.c **** 
 133:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_CONFIG, 1, &low_pass_cfg);
 580              		.loc 1 133 2
 581 005c 07F10E03 		add	r3, r7, #14
 582 0060 0093     		str	r3, [sp]
 583 0062 0123     		movs	r3, #1
 584 0064 1A22     		movs	r2, #26
 585 0066 6821     		movs	r1, #104
 586 0068 2648     		ldr	r0, .L22
 587 006a FFF7FEFF 		bl	i2c_write_reg
 134:./Src/mpu6050.c **** 	// Set gyroscope and accelerometer full scale range
 135:./Src/mpu6050.c **** 	tmp = 0;
 588              		.loc 1 135 6
 589 006e 0023     		movs	r3, #0
 590 0070 BB81     		strh	r3, [r7, #12]	@ movhi
 136:./Src/mpu6050.c **** 	accel_range /= 4;
 591              		.loc 1 136 14
 592 0072 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 593 0074 9B08     		lsrs	r3, r3, #2
 594 0076 7B71     		strb	r3, [r7, #5]
 137:./Src/mpu6050.c **** 
 138:./Src/mpu6050.c **** 	while (accel_range) {
 595              		.loc 1 138 8
 596 0078 0AE0     		b	.L18
 597              	.L19:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 14


 139:./Src/mpu6050.c **** 		accel_range >>= 1;
 598              		.loc 1 139 15
 599 007a 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 600 007c 5B08     		lsrs	r3, r3, #1
 601 007e 7B71     		strb	r3, [r7, #5]
 140:./Src/mpu6050.c **** 		accel_unit *= 2;
 602              		.loc 1 140 14
 603 0080 214B     		ldr	r3, .L22+4
 604 0082 D3ED007A 		vldr.32	s15, [r3]
 605 0086 77EEA77A 		vadd.f32	s15, s15, s15
 606 008a 1F4B     		ldr	r3, .L22+4
 607 008c C3ED007A 		vstr.32	s15, [r3]
 608              	.L18:
 138:./Src/mpu6050.c **** 		accel_range >>= 1;
 609              		.loc 1 138 8
 610 0090 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 611 0092 002B     		cmp	r3, #0
 612 0094 F1D1     		bne	.L19
 141:./Src/mpu6050.c **** 	}
 142:./Src/mpu6050.c **** 
 143:./Src/mpu6050.c **** 	tmp <<= 8;
 613              		.loc 1 143 6
 614 0096 BB89     		ldrh	r3, [r7, #12]
 615 0098 1B02     		lsls	r3, r3, #8
 616 009a 9BB2     		uxth	r3, r3
 617 009c BB81     		strh	r3, [r7, #12]	@ movhi
 144:./Src/mpu6050.c **** 	gyro_range /= 500;
 618              		.loc 1 144 13
 619 009e 7B88     		ldrh	r3, [r7, #2]
 620 00a0 1A4A     		ldr	r2, .L22+8
 621 00a2 A2FB0323 		umull	r2, r3, r2, r3
 622 00a6 5B09     		lsrs	r3, r3, #5
 623 00a8 7B80     		strh	r3, [r7, #2]	@ movhi
 145:./Src/mpu6050.c **** 
 146:./Src/mpu6050.c **** 	while (gyro_range) {
 624              		.loc 1 146 8
 625 00aa 0EE0     		b	.L20
 626              	.L21:
 147:./Src/mpu6050.c **** 		gyro_range >>= 1;
 627              		.loc 1 147 14
 628 00ac 7B88     		ldrh	r3, [r7, #2]
 629 00ae 5B08     		lsrs	r3, r3, #1
 630 00b0 7B80     		strh	r3, [r7, #2]	@ movhi
 148:./Src/mpu6050.c **** 		gyro_unit *= 2;
 631              		.loc 1 148 13
 632 00b2 174B     		ldr	r3, .L22+12
 633 00b4 D3ED007A 		vldr.32	s15, [r3]
 634 00b8 77EEA77A 		vadd.f32	s15, s15, s15
 635 00bc 144B     		ldr	r3, .L22+12
 636 00be C3ED007A 		vstr.32	s15, [r3]
 149:./Src/mpu6050.c **** 		tmp++;
 637              		.loc 1 149 6
 638 00c2 BB89     		ldrh	r3, [r7, #12]
 639 00c4 0133     		adds	r3, r3, #1
 640 00c6 9BB2     		uxth	r3, r3
 641 00c8 BB81     		strh	r3, [r7, #12]	@ movhi
 642              	.L20:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 15


 146:./Src/mpu6050.c **** 		gyro_range >>= 1;
 643              		.loc 1 146 8
 644 00ca 7B88     		ldrh	r3, [r7, #2]
 645 00cc 002B     		cmp	r3, #0
 646 00ce EDD1     		bne	.L21
 150:./Src/mpu6050.c **** 	}
 151:./Src/mpu6050.c **** 
 152:./Src/mpu6050.c **** 	tmp <<= 3;
 647              		.loc 1 152 6
 648 00d0 BB89     		ldrh	r3, [r7, #12]
 649 00d2 DB00     		lsls	r3, r3, #3
 650 00d4 9BB2     		uxth	r3, r3
 651 00d6 BB81     		strh	r3, [r7, #12]	@ movhi
 153:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_GYRO_CONFIG, 2,
 652              		.loc 1 153 2
 653 00d8 07F10C03 		add	r3, r7, #12
 654 00dc 0093     		str	r3, [sp]
 655 00de 0223     		movs	r3, #2
 656 00e0 1B22     		movs	r2, #27
 657 00e2 6821     		movs	r1, #104
 658 00e4 0748     		ldr	r0, .L22
 659 00e6 FFF7FEFF 		bl	i2c_write_reg
 154:./Src/mpu6050.c **** 		      (uint8_t *)&tmp);
 155:./Src/mpu6050.c **** 	systick_delay_ms(500);
 660              		.loc 1 155 2
 661 00ea 4FF4FA70 		mov	r0, #500
 662 00ee FFF7FEFF 		bl	systick_delay_ms
 156:./Src/mpu6050.c **** 
 157:./Src/mpu6050.c **** 	calibration(sample_rate);
 663              		.loc 1 157 2
 664 00f2 FB88     		ldrh	r3, [r7, #6]
 665 00f4 1846     		mov	r0, r3
 666 00f6 FFF7FEFF 		bl	calibration
 158:./Src/mpu6050.c **** }
 667              		.loc 1 158 1
 668 00fa 00BF     		nop
 669 00fc 1037     		adds	r7, r7, #16
 670              	.LCFI15:
 671              		.cfi_def_cfa_offset 8
 672 00fe BD46     		mov	sp, r7
 673              	.LCFI16:
 674              		.cfi_def_cfa_register 13
 675              		@ sp needed
 676 0100 80BD     		pop	{r7, pc}
 677              	.L23:
 678 0102 00BF     		.align	2
 679              	.L22:
 680 0104 00540040 		.word	1073763328
 681 0108 00000000 		.word	accel_unit
 682 010c D34D6210 		.word	274877907
 683 0110 00000000 		.word	gyro_unit
 684              		.cfi_endproc
 685              	.LFE3:
 687              		.section	.text.calibration,"ax",%progbits
 688              		.align	1
 689              		.syntax unified
 690              		.thumb
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 16


 691              		.thumb_func
 693              	calibration:
 694              	.LFB4:
 159:./Src/mpu6050.c **** 
 160:./Src/mpu6050.c **** static void calibration(uint16_t sample_rate)
 161:./Src/mpu6050.c **** {
 695              		.loc 1 161 1
 696              		.cfi_startproc
 697              		@ args = 0, pretend = 0, frame = 64
 698              		@ frame_needed = 1, uses_anonymous_args = 0
 699 0000 80B5     		push	{r7, lr}
 700              	.LCFI17:
 701              		.cfi_def_cfa_offset 8
 702              		.cfi_offset 7, -8
 703              		.cfi_offset 14, -4
 704 0002 92B0     		sub	sp, sp, #72
 705              	.LCFI18:
 706              		.cfi_def_cfa_offset 80
 707 0004 02AF     		add	r7, sp, #8
 708              	.LCFI19:
 709              		.cfi_def_cfa 7, 72
 710 0006 0346     		mov	r3, r0
 711 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 162:./Src/mpu6050.c **** 	uint8_t tmp = MPU6050_USER_CTRL_FIFO_EN;
 712              		.loc 1 162 10
 713 000a 4023     		movs	r3, #64
 714 000c 87F83130 		strb	r3, [r7, #49]
 163:./Src/mpu6050.c **** 	uint16_t fifo_count = 0;
 715              		.loc 1 163 11
 716 0010 0023     		movs	r3, #0
 717 0012 FB85     		strh	r3, [r7, #46]	@ movhi
 164:./Src/mpu6050.c **** 	uint16_t packet_count = 0;
 718              		.loc 1 164 11
 719 0014 0023     		movs	r3, #0
 720 0016 7B86     		strh	r3, [r7, #50]	@ movhi
 165:./Src/mpu6050.c **** 	int i, j;
 166:./Src/mpu6050.c **** 	int16_t data[6] = {0};
 721              		.loc 1 166 10
 722 0018 07F12003 		add	r3, r7, #32
 723 001c 0022     		movs	r2, #0
 724 001e 1A60     		str	r2, [r3]
 725 0020 5A60     		str	r2, [r3, #4]
 726 0022 9A60     		str	r2, [r3, #8]
 167:./Src/mpu6050.c **** 	int32_t sum[6] = {0};
 727              		.loc 1 167 10
 728 0024 07F10803 		add	r3, r7, #8
 729 0028 0022     		movs	r2, #0
 730 002a 1A60     		str	r2, [r3]
 731 002c 5A60     		str	r2, [r3, #4]
 732 002e 9A60     		str	r2, [r3, #8]
 733 0030 DA60     		str	r2, [r3, #12]
 734 0032 1A61     		str	r2, [r3, #16]
 735 0034 5A61     		str	r2, [r3, #20]
 168:./Src/mpu6050.c **** 	float sum_squares = 0;
 736              		.loc 1 168 8
 737 0036 4FF00003 		mov	r3, #0
 738 003a 7B63     		str	r3, [r7, #52]	@ float
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 17


 169:./Src/mpu6050.c **** 
 170:./Src/mpu6050.c **** 	// Enable FIFO
 171:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_USER_CTRL, 1, &tmp);
 739              		.loc 1 171 2
 740 003c 07F13103 		add	r3, r7, #49
 741 0040 0093     		str	r3, [sp]
 742 0042 0123     		movs	r3, #1
 743 0044 6A22     		movs	r2, #106
 744 0046 6821     		movs	r1, #104
 745 0048 7548     		ldr	r0, .L31+8
 746 004a FFF7FEFF 		bl	i2c_write_reg
 172:./Src/mpu6050.c **** 	// Enable gyro and accel FIFO
 173:./Src/mpu6050.c **** 	tmp = 0x78;
 747              		.loc 1 173 6
 748 004e 7823     		movs	r3, #120
 749 0050 87F83130 		strb	r3, [r7, #49]
 174:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_EN, 1, &tmp);
 750              		.loc 1 174 2
 751 0054 07F13103 		add	r3, r7, #49
 752 0058 0093     		str	r3, [sp]
 753 005a 0123     		movs	r3, #1
 754 005c 2322     		movs	r2, #35
 755 005e 6821     		movs	r1, #104
 756 0060 6F48     		ldr	r0, .L31+8
 757 0062 FFF7FEFF 		bl	i2c_write_reg
 175:./Src/mpu6050.c **** 	// According to sample division to delay time
 176:./Src/mpu6050.c **** 	systick_delay_ms(10000 / (int)sample_rate);
 758              		.loc 1 176 27
 759 0066 FB88     		ldrh	r3, [r7, #6]
 760              		.loc 1 176 2
 761 0068 42F21072 		movw	r2, #10000
 762 006c 92FBF3F3 		sdiv	r3, r2, r3
 763 0070 1846     		mov	r0, r3
 764 0072 FFF7FEFF 		bl	systick_delay_ms
 177:./Src/mpu6050.c **** 	// Disable accel and gyro FIFO
 178:./Src/mpu6050.c **** 	tmp = 0;
 765              		.loc 1 178 6
 766 0076 0023     		movs	r3, #0
 767 0078 87F83130 		strb	r3, [r7, #49]
 179:./Src/mpu6050.c **** 	i2c_write_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_EN, 1, &tmp);
 768              		.loc 1 179 2
 769 007c 07F13103 		add	r3, r7, #49
 770 0080 0093     		str	r3, [sp]
 771 0082 0123     		movs	r3, #1
 772 0084 2322     		movs	r2, #35
 773 0086 6821     		movs	r1, #104
 774 0088 6548     		ldr	r0, .L31+8
 775 008a FFF7FEFF 		bl	i2c_write_reg
 180:./Src/mpu6050.c **** 	// Read FIFO sample count
 181:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_COUNTH, 2,
 776              		.loc 1 181 2
 777 008e 07F12E03 		add	r3, r7, #46
 778 0092 0093     		str	r3, [sp]
 779 0094 0223     		movs	r3, #2
 780 0096 7222     		movs	r2, #114
 781 0098 6821     		movs	r1, #104
 782 009a 6148     		ldr	r0, .L31+8
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 18


 783 009c FFF7FEFF 		bl	i2c_read_reg
 182:./Src/mpu6050.c **** 		     (uint8_t *)&fifo_count);
 183:./Src/mpu6050.c **** 	fifo_count = (fifo_count << 8) | (fifo_count >> 8);
 784              		.loc 1 183 27
 785 00a0 FB8D     		ldrh	r3, [r7, #46]
 786 00a2 1B02     		lsls	r3, r3, #8
 787              		.loc 1 183 33
 788 00a4 1AB2     		sxth	r2, r3
 789 00a6 FB8D     		ldrh	r3, [r7, #46]
 790 00a8 1B0A     		lsrs	r3, r3, #8
 791 00aa 9BB2     		uxth	r3, r3
 792 00ac 1BB2     		sxth	r3, r3
 793 00ae 1343     		orrs	r3, r3, r2
 794 00b0 1BB2     		sxth	r3, r3
 795 00b2 9BB2     		uxth	r3, r3
 796              		.loc 1 183 13
 797 00b4 FB85     		strh	r3, [r7, #46]	@ movhi
 184:./Src/mpu6050.c **** 	packet_count = fifo_count / 12;
 798              		.loc 1 184 15
 799 00b6 FB8D     		ldrh	r3, [r7, #46]
 800 00b8 5A4A     		ldr	r2, .L31+12
 801 00ba A2FB0323 		umull	r2, r3, r2, r3
 802 00be DB08     		lsrs	r3, r3, #3
 803 00c0 7B86     		strh	r3, [r7, #50]	@ movhi
 185:./Src/mpu6050.c **** 	// Read FIFO data and calculate gain/bias
 186:./Src/mpu6050.c **** 	for (i = 0; i < packet_count; i++) {
 804              		.loc 1 186 9
 805 00c2 0023     		movs	r3, #0
 806 00c4 FB63     		str	r3, [r7, #60]
 807              		.loc 1 186 2
 808 00c6 41E0     		b	.L25
 809              	.L28:
 187:./Src/mpu6050.c **** 		i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_R_W, 12,
 810              		.loc 1 187 3
 811 00c8 07F12003 		add	r3, r7, #32
 812 00cc 0093     		str	r3, [sp]
 813 00ce 0C23     		movs	r3, #12
 814 00d0 7422     		movs	r2, #116
 815 00d2 6821     		movs	r1, #104
 816 00d4 5248     		ldr	r0, .L31+8
 817 00d6 FFF7FEFF 		bl	i2c_read_reg
 188:./Src/mpu6050.c **** 			     (uint8_t *)data);
 189:./Src/mpu6050.c **** 
 190:./Src/mpu6050.c **** 		for (j = 0; j < 6; j++) {
 818              		.loc 1 190 10
 819 00da 0023     		movs	r3, #0
 820 00dc BB63     		str	r3, [r7, #56]
 821              		.loc 1 190 3
 822 00de 2FE0     		b	.L26
 823              	.L27:
 191:./Src/mpu6050.c **** 			data[j] = (data[j] << 8) | ((data[j] >> 8) & 0xFF);
 824              		.loc 1 191 19 discriminator 3
 825 00e0 BB6B     		ldr	r3, [r7, #56]
 826 00e2 5B00     		lsls	r3, r3, #1
 827 00e4 4033     		adds	r3, r3, #64
 828 00e6 3B44     		add	r3, r3, r7
 829 00e8 33F9203C 		ldrsh	r3, [r3, #-32]
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 19


 830              		.loc 1 191 23 discriminator 3
 831 00ec 1B02     		lsls	r3, r3, #8
 832              		.loc 1 191 29 discriminator 3
 833 00ee 1AB2     		sxth	r2, r3
 834              		.loc 1 191 37 discriminator 3
 835 00f0 BB6B     		ldr	r3, [r7, #56]
 836 00f2 5B00     		lsls	r3, r3, #1
 837 00f4 4033     		adds	r3, r3, #64
 838 00f6 3B44     		add	r3, r3, r7
 839 00f8 33F9203C 		ldrsh	r3, [r3, #-32]
 840              		.loc 1 191 47 discriminator 3
 841 00fc 9BB2     		uxth	r3, r3
 842 00fe 1B0A     		lsrs	r3, r3, #8
 843 0100 9BB2     		uxth	r3, r3
 844 0102 1BB2     		sxth	r3, r3
 845              		.loc 1 191 29 discriminator 3
 846 0104 1343     		orrs	r3, r3, r2
 847 0106 1AB2     		sxth	r2, r3
 848              		.loc 1 191 12 discriminator 3
 849 0108 BB6B     		ldr	r3, [r7, #56]
 850 010a 5B00     		lsls	r3, r3, #1
 851 010c 4033     		adds	r3, r3, #64
 852 010e 3B44     		add	r3, r3, r7
 853 0110 23F8202C 		strh	r2, [r3, #-32]	@ movhi
 192:./Src/mpu6050.c **** 			sum[j] += (int32_t)data[j];
 854              		.loc 1 192 11 discriminator 3
 855 0114 BB6B     		ldr	r3, [r7, #56]
 856 0116 9B00     		lsls	r3, r3, #2
 857 0118 4033     		adds	r3, r3, #64
 858 011a 3B44     		add	r3, r3, r7
 859 011c 53F8382C 		ldr	r2, [r3, #-56]
 860              		.loc 1 192 27 discriminator 3
 861 0120 BB6B     		ldr	r3, [r7, #56]
 862 0122 5B00     		lsls	r3, r3, #1
 863 0124 4033     		adds	r3, r3, #64
 864 0126 3B44     		add	r3, r3, r7
 865 0128 33F9203C 		ldrsh	r3, [r3, #-32]
 866              		.loc 1 192 11 discriminator 3
 867 012c 1A44     		add	r2, r2, r3
 868 012e BB6B     		ldr	r3, [r7, #56]
 869 0130 9B00     		lsls	r3, r3, #2
 870 0132 4033     		adds	r3, r3, #64
 871 0134 3B44     		add	r3, r3, r7
 872 0136 43F8382C 		str	r2, [r3, #-56]
 190:./Src/mpu6050.c **** 			data[j] = (data[j] << 8) | ((data[j] >> 8) & 0xFF);
 873              		.loc 1 190 23 discriminator 3
 874 013a BB6B     		ldr	r3, [r7, #56]
 875 013c 0133     		adds	r3, r3, #1
 876 013e BB63     		str	r3, [r7, #56]
 877              	.L26:
 190:./Src/mpu6050.c **** 			data[j] = (data[j] << 8) | ((data[j] >> 8) & 0xFF);
 878              		.loc 1 190 3 discriminator 1
 879 0140 BB6B     		ldr	r3, [r7, #56]
 880 0142 052B     		cmp	r3, #5
 881 0144 CCDD     		ble	.L27
 186:./Src/mpu6050.c **** 		i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_R_W, 12,
 882              		.loc 1 186 33 discriminator 2
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 20


 883 0146 FB6B     		ldr	r3, [r7, #60]
 884 0148 0133     		adds	r3, r3, #1
 885 014a FB63     		str	r3, [r7, #60]
 886              	.L25:
 186:./Src/mpu6050.c **** 		i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_R_W, 12,
 887              		.loc 1 186 16 discriminator 1
 888 014c 7B8E     		ldrh	r3, [r7, #50]
 186:./Src/mpu6050.c **** 		i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_FIFO_R_W, 12,
 889              		.loc 1 186 2 discriminator 1
 890 014e FA6B     		ldr	r2, [r7, #60]
 891 0150 9A42     		cmp	r2, r3
 892 0152 B9DB     		blt	.L28
 193:./Src/mpu6050.c **** 		}
 194:./Src/mpu6050.c **** 	}
 195:./Src/mpu6050.c **** 
 196:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 893              		.loc 1 196 9
 894 0154 0023     		movs	r3, #0
 895 0156 FB63     		str	r3, [r7, #60]
 896              		.loc 1 196 2
 897 0158 3CE0     		b	.L29
 898              	.L30:
 197:./Src/mpu6050.c **** 		sum[i] /= packet_count;
 899              		.loc 1 197 10 discriminator 3
 900 015a FB6B     		ldr	r3, [r7, #60]
 901 015c 9B00     		lsls	r3, r3, #2
 902 015e 4033     		adds	r3, r3, #64
 903 0160 3B44     		add	r3, r3, r7
 904 0162 53F8382C 		ldr	r2, [r3, #-56]
 905 0166 7B8E     		ldrh	r3, [r7, #50]
 906 0168 92FBF3F2 		sdiv	r2, r2, r3
 907 016c FB6B     		ldr	r3, [r7, #60]
 908 016e 9B00     		lsls	r3, r3, #2
 909 0170 4033     		adds	r3, r3, #64
 910 0172 3B44     		add	r3, r3, r7
 911 0174 43F8382C 		str	r2, [r3, #-56]
 198:./Src/mpu6050.c **** 		sum_squares += (float)sum[i] * (float)sum[i];
 912              		.loc 1 198 28 discriminator 3
 913 0178 FB6B     		ldr	r3, [r7, #60]
 914 017a 9B00     		lsls	r3, r3, #2
 915 017c 4033     		adds	r3, r3, #64
 916 017e 3B44     		add	r3, r3, r7
 917 0180 53F8383C 		ldr	r3, [r3, #-56]
 918              		.loc 1 198 18 discriminator 3
 919 0184 07EE903A 		vmov	s15, r3	@ int
 920 0188 B8EEE77A 		vcvt.f32.s32	s14, s15
 921              		.loc 1 198 44 discriminator 3
 922 018c FB6B     		ldr	r3, [r7, #60]
 923 018e 9B00     		lsls	r3, r3, #2
 924 0190 4033     		adds	r3, r3, #64
 925 0192 3B44     		add	r3, r3, r7
 926 0194 53F8383C 		ldr	r3, [r3, #-56]
 927              		.loc 1 198 34 discriminator 3
 928 0198 07EE903A 		vmov	s15, r3	@ int
 929 019c F8EEE77A 		vcvt.f32.s32	s15, s15
 930              		.loc 1 198 32 discriminator 3
 931 01a0 67EE277A 		vmul.f32	s15, s14, s15
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 21


 932              		.loc 1 198 15 discriminator 3
 933 01a4 97ED0D7A 		vldr.32	s14, [r7, #52]
 934 01a8 77EE277A 		vadd.f32	s15, s14, s15
 935 01ac C7ED0D7A 		vstr.32	s15, [r7, #52]
 199:./Src/mpu6050.c **** 		gyro_bias[i] = (int16_t)(sum[i + 3] / packet_count);
 936              		.loc 1 199 34 discriminator 3
 937 01b0 FB6B     		ldr	r3, [r7, #60]
 938 01b2 0333     		adds	r3, r3, #3
 939              		.loc 1 199 31 discriminator 3
 940 01b4 9B00     		lsls	r3, r3, #2
 941 01b6 4033     		adds	r3, r3, #64
 942 01b8 3B44     		add	r3, r3, r7
 943 01ba 53F8382C 		ldr	r2, [r3, #-56]
 944              		.loc 1 199 39 discriminator 3
 945 01be 7B8E     		ldrh	r3, [r7, #50]
 946 01c0 92FBF3F3 		sdiv	r3, r2, r3
 947              		.loc 1 199 18 discriminator 3
 948 01c4 19B2     		sxth	r1, r3
 949              		.loc 1 199 16 discriminator 3
 950 01c6 184A     		ldr	r2, .L31+16
 951 01c8 FB6B     		ldr	r3, [r7, #60]
 952 01ca 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 196:./Src/mpu6050.c **** 		sum[i] /= packet_count;
 953              		.loc 1 196 22 discriminator 3
 954 01ce FB6B     		ldr	r3, [r7, #60]
 955 01d0 0133     		adds	r3, r3, #1
 956 01d2 FB63     		str	r3, [r7, #60]
 957              	.L29:
 196:./Src/mpu6050.c **** 		sum[i] /= packet_count;
 958              		.loc 1 196 2 discriminator 1
 959 01d4 FB6B     		ldr	r3, [r7, #60]
 960 01d6 022B     		cmp	r3, #2
 961 01d8 BFDD     		ble	.L30
 200:./Src/mpu6050.c **** 	}
 201:./Src/mpu6050.c **** 	// Change accel unit by accel gain
 202:./Src/mpu6050.c **** 	accel_unit *= 16384.0 / sqrtf(sum_squares);
 962              		.loc 1 202 26
 963 01da 97ED0D0A 		vldr.32	s0, [r7, #52]
 964 01de FFF7FEFF 		bl	sqrtf
 965 01e2 F0EE407A 		vmov.f32	s15, s0
 966 01e6 B7EEE77A 		vcvt.f64.f32	d7, s15
 967              		.loc 1 202 24
 968 01ea 9FED0B5B 		vldr.64	d5, .L31
 969 01ee 85EE076B 		vdiv.f64	d6, d5, d7
 970              		.loc 1 202 13
 971 01f2 0E4B     		ldr	r3, .L31+20
 972 01f4 D3ED007A 		vldr.32	s15, [r3]
 973 01f8 B7EEE77A 		vcvt.f64.f32	d7, s15
 974 01fc 26EE077B 		vmul.f64	d7, d6, d7
 975 0200 F7EEC77B 		vcvt.f32.f64	s15, d7
 976 0204 094B     		ldr	r3, .L31+20
 977 0206 C3ED007A 		vstr.32	s15, [r3]
 203:./Src/mpu6050.c **** }
 978              		.loc 1 203 1
 979 020a 00BF     		nop
 980 020c 4037     		adds	r7, r7, #64
 981              	.LCFI20:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 22


 982              		.cfi_def_cfa_offset 8
 983 020e BD46     		mov	sp, r7
 984              	.LCFI21:
 985              		.cfi_def_cfa_register 13
 986              		@ sp needed
 987 0210 80BD     		pop	{r7, pc}
 988              	.L32:
 989 0212 00BFAFF3 		.align	3
 989      0080
 990              	.L31:
 991 0218 00000000 		.word	0
 992 021c 0000D040 		.word	1087373312
 993 0220 00540040 		.word	1073763328
 994 0224 ABAAAAAA 		.word	-1431655765
 995 0228 00000000 		.word	gyro_bias
 996 022c 00000000 		.word	accel_unit
 997              		.cfi_endproc
 998              	.LFE4:
 1000              		.section	.text.mpu6050_kalman,"ax",%progbits
 1001              		.align	1
 1002              		.global	mpu6050_kalman
 1003              		.syntax unified
 1004              		.thumb
 1005              		.thumb_func
 1007              	mpu6050_kalman:
 1008              	.LFB5:
 204:./Src/mpu6050.c **** 
 205:./Src/mpu6050.c **** void mpu6050_kalman(float (*X)[2], float *angle, float *rate, float dt)
 206:./Src/mpu6050.c **** {
 1009              		.loc 1 206 1
 1010              		.cfi_startproc
 1011              		@ args = 0, pretend = 0, frame = 56
 1012              		@ frame_needed = 1, uses_anonymous_args = 0
 1013              		@ link register save eliminated.
 1014 0000 80B4     		push	{r7}
 1015              	.LCFI22:
 1016              		.cfi_def_cfa_offset 4
 1017              		.cfi_offset 7, -4
 1018 0002 8FB0     		sub	sp, sp, #60
 1019              	.LCFI23:
 1020              		.cfi_def_cfa_offset 64
 1021 0004 00AF     		add	r7, sp, #0
 1022              	.LCFI24:
 1023              		.cfi_def_cfa_register 7
 1024 0006 F860     		str	r0, [r7, #12]
 1025 0008 B960     		str	r1, [r7, #8]
 1026 000a 7A60     		str	r2, [r7, #4]
 1027 000c 87ED000A 		vstr.32	s0, [r7]
 207:./Src/mpu6050.c **** 	static float P[2][2][2] = {0}, Q = 0.08, R = 0.5;
 208:./Src/mpu6050.c **** 	float X_[2] = {0}, P_[2][2] = {0}, K[2] = {0};
 1028              		.loc 1 208 8
 1029 0010 07F12C03 		add	r3, r7, #44
 1030 0014 0022     		movs	r2, #0
 1031 0016 1A60     		str	r2, [r3]
 1032 0018 5A60     		str	r2, [r3, #4]
 1033              		.loc 1 208 21
 1034 001a 07F11C03 		add	r3, r7, #28
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 23


 1035 001e 0022     		movs	r2, #0
 1036 0020 1A60     		str	r2, [r3]
 1037 0022 5A60     		str	r2, [r3, #4]
 1038 0024 9A60     		str	r2, [r3, #8]
 1039 0026 DA60     		str	r2, [r3, #12]
 1040              		.loc 1 208 37
 1041 0028 07F11403 		add	r3, r7, #20
 1042 002c 0022     		movs	r2, #0
 1043 002e 1A60     		str	r2, [r3]
 1044 0030 5A60     		str	r2, [r3, #4]
 209:./Src/mpu6050.c **** 	int i;
 210:./Src/mpu6050.c **** 
 211:./Src/mpu6050.c **** 	for (i = 0; i < 2; i++) {
 1045              		.loc 1 211 9
 1046 0032 0023     		movs	r3, #0
 1047 0034 7B63     		str	r3, [r7, #52]
 1048              		.loc 1 211 2
 1049 0036 29E1     		b	.L34
 1050              	.L35:
 212:./Src/mpu6050.c **** 		X_[0] = X[i][0] + dt * (rate[i] - X[i][1]);
 1051              		.loc 1 212 12 discriminator 3
 1052 0038 7B6B     		ldr	r3, [r7, #52]
 1053 003a DB00     		lsls	r3, r3, #3
 1054 003c FA68     		ldr	r2, [r7, #12]
 1055 003e 1344     		add	r3, r3, r2
 1056              		.loc 1 212 15 discriminator 3
 1057 0040 93ED007A 		vldr.32	s14, [r3]
 1058              		.loc 1 212 31 discriminator 3
 1059 0044 7B6B     		ldr	r3, [r7, #52]
 1060 0046 9B00     		lsls	r3, r3, #2
 1061 0048 7A68     		ldr	r2, [r7, #4]
 1062 004a 1344     		add	r3, r3, r2
 1063 004c D3ED006A 		vldr.32	s13, [r3]
 1064              		.loc 1 212 38 discriminator 3
 1065 0050 7B6B     		ldr	r3, [r7, #52]
 1066 0052 DB00     		lsls	r3, r3, #3
 1067 0054 FA68     		ldr	r2, [r7, #12]
 1068 0056 1344     		add	r3, r3, r2
 1069              		.loc 1 212 41 discriminator 3
 1070 0058 D3ED017A 		vldr.32	s15, [r3, #4]
 1071              		.loc 1 212 35 discriminator 3
 1072 005c 76EEE76A 		vsub.f32	s13, s13, s15
 1073              		.loc 1 212 24 discriminator 3
 1074 0060 D7ED007A 		vldr.32	s15, [r7]
 1075 0064 66EEA77A 		vmul.f32	s15, s13, s15
 1076              		.loc 1 212 19 discriminator 3
 1077 0068 77EE277A 		vadd.f32	s15, s14, s15
 1078              		.loc 1 212 9 discriminator 3
 1079 006c C7ED0B7A 		vstr.32	s15, [r7, #44]
 213:./Src/mpu6050.c **** 		X_[1] = X[i][1];
 1080              		.loc 1 213 12 discriminator 3
 1081 0070 7B6B     		ldr	r3, [r7, #52]
 1082 0072 DB00     		lsls	r3, r3, #3
 1083 0074 FA68     		ldr	r2, [r7, #12]
 1084 0076 1344     		add	r3, r3, r2
 1085              		.loc 1 213 15 discriminator 3
 1086 0078 5B68     		ldr	r3, [r3, #4]	@ float
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 24


 1087              		.loc 1 213 9 discriminator 3
 1088 007a 3B63     		str	r3, [r7, #48]	@ float
 214:./Src/mpu6050.c **** 
 215:./Src/mpu6050.c **** 		P_[0][0] = P[i][0][0] +
 1089              		.loc 1 215 21 discriminator 3
 1090 007c A84A     		ldr	r2, .L41+16
 1091 007e 7B6B     		ldr	r3, [r7, #52]
 1092 0080 1B01     		lsls	r3, r3, #4
 1093 0082 1344     		add	r3, r3, r2
 1094 0084 93ED007A 		vldr.32	s14, [r3]
 216:./Src/mpu6050.c **** 			   (-P[i][0][1] - P[i][1][0] + P[i][1][1] * dt + Q) * dt;
 1095              		.loc 1 216 16 discriminator 3
 1096 0088 A54A     		ldr	r2, .L41+16
 1097 008a 7B6B     		ldr	r3, [r7, #52]
 1098 008c 1B01     		lsls	r3, r3, #4
 1099 008e 1344     		add	r3, r3, r2
 1100 0090 0433     		adds	r3, r3, #4
 1101 0092 D3ED007A 		vldr.32	s15, [r3]
 1102              		.loc 1 216 8 discriminator 3
 1103 0096 F1EE676A 		vneg.f32	s13, s15
 1104              		.loc 1 216 29 discriminator 3
 1105 009a A14A     		ldr	r2, .L41+16
 1106 009c 7B6B     		ldr	r3, [r7, #52]
 1107 009e 1B01     		lsls	r3, r3, #4
 1108 00a0 1344     		add	r3, r3, r2
 1109 00a2 0833     		adds	r3, r3, #8
 1110 00a4 D3ED007A 		vldr.32	s15, [r3]
 1111              		.loc 1 216 20 discriminator 3
 1112 00a8 76EEE76A 		vsub.f32	s13, s13, s15
 1113              		.loc 1 216 42 discriminator 3
 1114 00ac 9C4A     		ldr	r2, .L41+16
 1115 00ae 7B6B     		ldr	r3, [r7, #52]
 1116 00b0 1B01     		lsls	r3, r3, #4
 1117 00b2 1344     		add	r3, r3, r2
 1118 00b4 0C33     		adds	r3, r3, #12
 1119 00b6 93ED006A 		vldr.32	s12, [r3]
 1120              		.loc 1 216 46 discriminator 3
 1121 00ba D7ED007A 		vldr.32	s15, [r7]
 1122 00be 66EE277A 		vmul.f32	s15, s12, s15
 1123              		.loc 1 216 33 discriminator 3
 1124 00c2 76EEA76A 		vadd.f32	s13, s13, s15
 1125              		.loc 1 216 51 discriminator 3
 1126 00c6 974B     		ldr	r3, .L41+20
 1127 00c8 D3ED007A 		vldr.32	s15, [r3]
 1128 00cc 76EEA76A 		vadd.f32	s13, s13, s15
 1129              		.loc 1 216 56 discriminator 3
 1130 00d0 D7ED007A 		vldr.32	s15, [r7]
 1131 00d4 66EEA77A 		vmul.f32	s15, s13, s15
 215:./Src/mpu6050.c **** 			   (-P[i][0][1] - P[i][1][0] + P[i][1][1] * dt + Q) * dt;
 1132              		.loc 1 215 25 discriminator 3
 1133 00d8 77EE277A 		vadd.f32	s15, s14, s15
 215:./Src/mpu6050.c **** 			   (-P[i][0][1] - P[i][1][0] + P[i][1][1] * dt + Q) * dt;
 1134              		.loc 1 215 12 discriminator 3
 1135 00dc C7ED077A 		vstr.32	s15, [r7, #28]
 217:./Src/mpu6050.c **** 		P_[0][1] = P[i][0][1] - P[i][1][1] * dt;
 1136              		.loc 1 217 21 discriminator 3
 1137 00e0 8F4A     		ldr	r2, .L41+16
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 25


 1138 00e2 7B6B     		ldr	r3, [r7, #52]
 1139 00e4 1B01     		lsls	r3, r3, #4
 1140 00e6 1344     		add	r3, r3, r2
 1141 00e8 0433     		adds	r3, r3, #4
 1142 00ea 93ED007A 		vldr.32	s14, [r3]
 1143              		.loc 1 217 34 discriminator 3
 1144 00ee 8C4A     		ldr	r2, .L41+16
 1145 00f0 7B6B     		ldr	r3, [r7, #52]
 1146 00f2 1B01     		lsls	r3, r3, #4
 1147 00f4 1344     		add	r3, r3, r2
 1148 00f6 0C33     		adds	r3, r3, #12
 1149 00f8 D3ED006A 		vldr.32	s13, [r3]
 1150              		.loc 1 217 38 discriminator 3
 1151 00fc D7ED007A 		vldr.32	s15, [r7]
 1152 0100 66EEA77A 		vmul.f32	s15, s13, s15
 1153              		.loc 1 217 25 discriminator 3
 1154 0104 77EE677A 		vsub.f32	s15, s14, s15
 1155              		.loc 1 217 12 discriminator 3
 1156 0108 C7ED087A 		vstr.32	s15, [r7, #32]
 218:./Src/mpu6050.c **** 		P_[1][0] = P[i][1][0] - P[i][1][1] * dt;
 1157              		.loc 1 218 21 discriminator 3
 1158 010c 844A     		ldr	r2, .L41+16
 1159 010e 7B6B     		ldr	r3, [r7, #52]
 1160 0110 1B01     		lsls	r3, r3, #4
 1161 0112 1344     		add	r3, r3, r2
 1162 0114 0833     		adds	r3, r3, #8
 1163 0116 93ED007A 		vldr.32	s14, [r3]
 1164              		.loc 1 218 34 discriminator 3
 1165 011a 814A     		ldr	r2, .L41+16
 1166 011c 7B6B     		ldr	r3, [r7, #52]
 1167 011e 1B01     		lsls	r3, r3, #4
 1168 0120 1344     		add	r3, r3, r2
 1169 0122 0C33     		adds	r3, r3, #12
 1170 0124 D3ED006A 		vldr.32	s13, [r3]
 1171              		.loc 1 218 38 discriminator 3
 1172 0128 D7ED007A 		vldr.32	s15, [r7]
 1173 012c 66EEA77A 		vmul.f32	s15, s13, s15
 1174              		.loc 1 218 25 discriminator 3
 1175 0130 77EE677A 		vsub.f32	s15, s14, s15
 1176              		.loc 1 218 12 discriminator 3
 1177 0134 C7ED097A 		vstr.32	s15, [r7, #36]
 219:./Src/mpu6050.c **** 		P_[1][1] = P[i][1][1] + Q * dt;
 1178              		.loc 1 219 21 discriminator 3
 1179 0138 794A     		ldr	r2, .L41+16
 1180 013a 7B6B     		ldr	r3, [r7, #52]
 1181 013c 1B01     		lsls	r3, r3, #4
 1182 013e 1344     		add	r3, r3, r2
 1183 0140 0C33     		adds	r3, r3, #12
 1184 0142 93ED007A 		vldr.32	s14, [r3]
 1185              		.loc 1 219 29 discriminator 3
 1186 0146 774B     		ldr	r3, .L41+20
 1187 0148 D3ED006A 		vldr.32	s13, [r3]
 1188 014c D7ED007A 		vldr.32	s15, [r7]
 1189 0150 66EEA77A 		vmul.f32	s15, s13, s15
 1190              		.loc 1 219 25 discriminator 3
 1191 0154 77EE277A 		vadd.f32	s15, s14, s15
 1192              		.loc 1 219 12 discriminator 3
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 26


 1193 0158 C7ED0A7A 		vstr.32	s15, [r7, #40]
 220:./Src/mpu6050.c **** 
 221:./Src/mpu6050.c **** 		K[0] = P_[0][0] / (P_[0][0] + R);
 1194              		.loc 1 221 15 discriminator 3
 1195 015c D7ED076A 		vldr.32	s13, [r7, #28]
 1196              		.loc 1 221 27 discriminator 3
 1197 0160 97ED077A 		vldr.32	s14, [r7, #28]
 1198              		.loc 1 221 31 discriminator 3
 1199 0164 704B     		ldr	r3, .L41+24
 1200 0166 D3ED007A 		vldr.32	s15, [r3]
 1201 016a 37EE277A 		vadd.f32	s14, s14, s15
 1202              		.loc 1 221 19 discriminator 3
 1203 016e C6EE877A 		vdiv.f32	s15, s13, s14
 1204              		.loc 1 221 8 discriminator 3
 1205 0172 C7ED057A 		vstr.32	s15, [r7, #20]
 222:./Src/mpu6050.c **** 		K[1] = P_[1][0] / (P_[0][0] + R);
 1206              		.loc 1 222 15 discriminator 3
 1207 0176 D7ED096A 		vldr.32	s13, [r7, #36]
 1208              		.loc 1 222 27 discriminator 3
 1209 017a 97ED077A 		vldr.32	s14, [r7, #28]
 1210              		.loc 1 222 31 discriminator 3
 1211 017e 6A4B     		ldr	r3, .L41+24
 1212 0180 D3ED007A 		vldr.32	s15, [r3]
 1213 0184 37EE277A 		vadd.f32	s14, s14, s15
 1214              		.loc 1 222 19 discriminator 3
 1215 0188 C6EE877A 		vdiv.f32	s15, s13, s14
 1216              		.loc 1 222 8 discriminator 3
 1217 018c C7ED067A 		vstr.32	s15, [r7, #24]
 223:./Src/mpu6050.c **** 
 224:./Src/mpu6050.c **** 		X[i][0] = X_[0] + K[0] * (angle[i] - X[i][0]);
 1218              		.loc 1 224 15 discriminator 3
 1219 0190 97ED0B7A 		vldr.32	s14, [r7, #44]
 1220              		.loc 1 224 22 discriminator 3
 1221 0194 D7ED056A 		vldr.32	s13, [r7, #20]
 1222              		.loc 1 224 34 discriminator 3
 1223 0198 7B6B     		ldr	r3, [r7, #52]
 1224 019a 9B00     		lsls	r3, r3, #2
 1225 019c BA68     		ldr	r2, [r7, #8]
 1226 019e 1344     		add	r3, r3, r2
 1227 01a0 93ED006A 		vldr.32	s12, [r3]
 1228              		.loc 1 224 41 discriminator 3
 1229 01a4 7B6B     		ldr	r3, [r7, #52]
 1230 01a6 DB00     		lsls	r3, r3, #3
 1231 01a8 FA68     		ldr	r2, [r7, #12]
 1232 01aa 1344     		add	r3, r3, r2
 1233              		.loc 1 224 44 discriminator 3
 1234 01ac D3ED007A 		vldr.32	s15, [r3]
 1235              		.loc 1 224 38 discriminator 3
 1236 01b0 76EE677A 		vsub.f32	s15, s12, s15
 1237              		.loc 1 224 26 discriminator 3
 1238 01b4 66EEA77A 		vmul.f32	s15, s13, s15
 1239              		.loc 1 224 4 discriminator 3
 1240 01b8 7B6B     		ldr	r3, [r7, #52]
 1241 01ba DB00     		lsls	r3, r3, #3
 1242 01bc FA68     		ldr	r2, [r7, #12]
 1243 01be 1344     		add	r3, r3, r2
 1244              		.loc 1 224 19 discriminator 3
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 27


 1245 01c0 77EE277A 		vadd.f32	s15, s14, s15
 1246              		.loc 1 224 11 discriminator 3
 1247 01c4 C3ED007A 		vstr.32	s15, [r3]
 225:./Src/mpu6050.c **** 		X[i][1] = X_[1] + K[1] * (angle[i] - X[i][0]);
 1248              		.loc 1 225 15 discriminator 3
 1249 01c8 97ED0C7A 		vldr.32	s14, [r7, #48]
 1250              		.loc 1 225 22 discriminator 3
 1251 01cc D7ED066A 		vldr.32	s13, [r7, #24]
 1252              		.loc 1 225 34 discriminator 3
 1253 01d0 7B6B     		ldr	r3, [r7, #52]
 1254 01d2 9B00     		lsls	r3, r3, #2
 1255 01d4 BA68     		ldr	r2, [r7, #8]
 1256 01d6 1344     		add	r3, r3, r2
 1257 01d8 93ED006A 		vldr.32	s12, [r3]
 1258              		.loc 1 225 41 discriminator 3
 1259 01dc 7B6B     		ldr	r3, [r7, #52]
 1260 01de DB00     		lsls	r3, r3, #3
 1261 01e0 FA68     		ldr	r2, [r7, #12]
 1262 01e2 1344     		add	r3, r3, r2
 1263              		.loc 1 225 44 discriminator 3
 1264 01e4 D3ED007A 		vldr.32	s15, [r3]
 1265              		.loc 1 225 38 discriminator 3
 1266 01e8 76EE677A 		vsub.f32	s15, s12, s15
 1267              		.loc 1 225 26 discriminator 3
 1268 01ec 66EEA77A 		vmul.f32	s15, s13, s15
 1269              		.loc 1 225 4 discriminator 3
 1270 01f0 7B6B     		ldr	r3, [r7, #52]
 1271 01f2 DB00     		lsls	r3, r3, #3
 1272 01f4 FA68     		ldr	r2, [r7, #12]
 1273 01f6 1344     		add	r3, r3, r2
 1274              		.loc 1 225 19 discriminator 3
 1275 01f8 77EE277A 		vadd.f32	s15, s14, s15
 1276              		.loc 1 225 11 discriminator 3
 1277 01fc C3ED017A 		vstr.32	s15, [r3, #4]
 226:./Src/mpu6050.c **** 
 227:./Src/mpu6050.c **** 		P[i][0][0] = P_[0][0] - K[0] * P_[0][0];
 1278              		.loc 1 227 21 discriminator 3
 1279 0200 97ED077A 		vldr.32	s14, [r7, #28]
 1280              		.loc 1 227 28 discriminator 3
 1281 0204 D7ED056A 		vldr.32	s13, [r7, #20]
 1282              		.loc 1 227 39 discriminator 3
 1283 0208 D7ED077A 		vldr.32	s15, [r7, #28]
 1284              		.loc 1 227 32 discriminator 3
 1285 020c 66EEA77A 		vmul.f32	s15, s13, s15
 1286              		.loc 1 227 25 discriminator 3
 1287 0210 77EE677A 		vsub.f32	s15, s14, s15
 1288              		.loc 1 227 14 discriminator 3
 1289 0214 424A     		ldr	r2, .L41+16
 1290 0216 7B6B     		ldr	r3, [r7, #52]
 1291 0218 1B01     		lsls	r3, r3, #4
 1292 021a 1344     		add	r3, r3, r2
 1293 021c C3ED007A 		vstr.32	s15, [r3]
 228:./Src/mpu6050.c **** 		P[i][0][1] = P_[0][1] - K[0] * P_[0][1];
 1294              		.loc 1 228 21 discriminator 3
 1295 0220 97ED087A 		vldr.32	s14, [r7, #32]
 1296              		.loc 1 228 28 discriminator 3
 1297 0224 D7ED056A 		vldr.32	s13, [r7, #20]
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 28


 1298              		.loc 1 228 39 discriminator 3
 1299 0228 D7ED087A 		vldr.32	s15, [r7, #32]
 1300              		.loc 1 228 32 discriminator 3
 1301 022c 66EEA77A 		vmul.f32	s15, s13, s15
 1302              		.loc 1 228 25 discriminator 3
 1303 0230 77EE677A 		vsub.f32	s15, s14, s15
 1304              		.loc 1 228 14 discriminator 3
 1305 0234 3A4A     		ldr	r2, .L41+16
 1306 0236 7B6B     		ldr	r3, [r7, #52]
 1307 0238 1B01     		lsls	r3, r3, #4
 1308 023a 1344     		add	r3, r3, r2
 1309 023c 0433     		adds	r3, r3, #4
 1310 023e C3ED007A 		vstr.32	s15, [r3]
 229:./Src/mpu6050.c **** 		P[i][1][0] = P_[1][0] - K[1] * P_[0][0];
 1311              		.loc 1 229 21 discriminator 3
 1312 0242 97ED097A 		vldr.32	s14, [r7, #36]
 1313              		.loc 1 229 28 discriminator 3
 1314 0246 D7ED066A 		vldr.32	s13, [r7, #24]
 1315              		.loc 1 229 39 discriminator 3
 1316 024a D7ED077A 		vldr.32	s15, [r7, #28]
 1317              		.loc 1 229 32 discriminator 3
 1318 024e 66EEA77A 		vmul.f32	s15, s13, s15
 1319              		.loc 1 229 25 discriminator 3
 1320 0252 77EE677A 		vsub.f32	s15, s14, s15
 1321              		.loc 1 229 14 discriminator 3
 1322 0256 324A     		ldr	r2, .L41+16
 1323 0258 7B6B     		ldr	r3, [r7, #52]
 1324 025a 1B01     		lsls	r3, r3, #4
 1325 025c 1344     		add	r3, r3, r2
 1326 025e 0833     		adds	r3, r3, #8
 1327 0260 C3ED007A 		vstr.32	s15, [r3]
 230:./Src/mpu6050.c **** 		P[i][1][1] = P_[1][1] - K[1] * P_[0][1];
 1328              		.loc 1 230 21 discriminator 3
 1329 0264 97ED0A7A 		vldr.32	s14, [r7, #40]
 1330              		.loc 1 230 28 discriminator 3
 1331 0268 D7ED066A 		vldr.32	s13, [r7, #24]
 1332              		.loc 1 230 39 discriminator 3
 1333 026c D7ED087A 		vldr.32	s15, [r7, #32]
 1334              		.loc 1 230 32 discriminator 3
 1335 0270 66EEA77A 		vmul.f32	s15, s13, s15
 1336              		.loc 1 230 25 discriminator 3
 1337 0274 77EE677A 		vsub.f32	s15, s14, s15
 1338              		.loc 1 230 14 discriminator 3
 1339 0278 294A     		ldr	r2, .L41+16
 1340 027a 7B6B     		ldr	r3, [r7, #52]
 1341 027c 1B01     		lsls	r3, r3, #4
 1342 027e 1344     		add	r3, r3, r2
 1343 0280 0C33     		adds	r3, r3, #12
 1344 0282 C3ED007A 		vstr.32	s15, [r3]
 211:./Src/mpu6050.c **** 		X_[0] = X[i][0] + dt * (rate[i] - X[i][1]);
 1345              		.loc 1 211 22 discriminator 3
 1346 0286 7B6B     		ldr	r3, [r7, #52]
 1347 0288 0133     		adds	r3, r3, #1
 1348 028a 7B63     		str	r3, [r7, #52]
 1349              	.L34:
 211:./Src/mpu6050.c **** 		X_[0] = X[i][0] + dt * (rate[i] - X[i][1]);
 1350              		.loc 1 211 2 discriminator 1
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 29


 1351 028c 7B6B     		ldr	r3, [r7, #52]
 1352 028e 012B     		cmp	r3, #1
 1353 0290 7FF7D2AE 		ble	.L35
 231:./Src/mpu6050.c **** 	}
 232:./Src/mpu6050.c **** 	// Yaw can't use filter to decrease noise, so use threshold to eliminate
 233:./Src/mpu6050.c **** 	if (rate[2] < 0.08 && rate[2] > -0.08)
 1354              		.loc 1 233 10
 1355 0294 7B68     		ldr	r3, [r7, #4]
 1356 0296 0833     		adds	r3, r3, #8
 1357 0298 D3ED007A 		vldr.32	s15, [r3]
 1358 029c B7EEE77A 		vcvt.f64.f32	d7, s15
 1359              		.loc 1 233 5
 1360 02a0 9FED1B6B 		vldr.64	d6, .L41
 1361 02a4 B4EEC67B 		vcmpe.f64	d7, d6
 1362 02a8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1363 02ac 11D5     		bpl	.L36
 1364              		.loc 1 233 28 discriminator 1
 1365 02ae 7B68     		ldr	r3, [r7, #4]
 1366 02b0 0833     		adds	r3, r3, #8
 1367 02b2 D3ED007A 		vldr.32	s15, [r3]
 1368 02b6 B7EEE77A 		vcvt.f64.f32	d7, s15
 1369              		.loc 1 233 21 discriminator 1
 1370 02ba 9FED176B 		vldr.64	d6, .L41+8
 1371 02be B4EEC67B 		vcmpe.f64	d7, d6
 1372 02c2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1373 02c6 04DD     		ble	.L36
 234:./Src/mpu6050.c **** 		rate[2] = 0;
 1374              		.loc 1 234 7
 1375 02c8 7B68     		ldr	r3, [r7, #4]
 1376 02ca 0833     		adds	r3, r3, #8
 1377              		.loc 1 234 11
 1378 02cc 4FF00002 		mov	r2, #0
 1379 02d0 1A60     		str	r2, [r3]	@ float
 1380              	.L36:
 235:./Src/mpu6050.c **** 	X[2][0] = X[i][0] + dt * rate[2];
 1381              		.loc 1 235 13
 1382 02d2 7B6B     		ldr	r3, [r7, #52]
 1383 02d4 DB00     		lsls	r3, r3, #3
 1384 02d6 FA68     		ldr	r2, [r7, #12]
 1385 02d8 1344     		add	r3, r3, r2
 1386              		.loc 1 235 16
 1387 02da 93ED007A 		vldr.32	s14, [r3]
 1388              		.loc 1 235 31
 1389 02de 7B68     		ldr	r3, [r7, #4]
 1390 02e0 0833     		adds	r3, r3, #8
 1391 02e2 D3ED006A 		vldr.32	s13, [r3]
 1392              		.loc 1 235 25
 1393 02e6 D7ED007A 		vldr.32	s15, [r7]
 1394 02ea 66EEA77A 		vmul.f32	s15, s13, s15
 1395              		.loc 1 235 3
 1396 02ee FB68     		ldr	r3, [r7, #12]
 1397 02f0 1033     		adds	r3, r3, #16
 1398              		.loc 1 235 20
 1399 02f2 77EE277A 		vadd.f32	s15, s14, s15
 1400              		.loc 1 235 10
 1401 02f6 C3ED007A 		vstr.32	s15, [r3]
 236:./Src/mpu6050.c **** 	X[2][1] = rate[2];
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 30


 1402              		.loc 1 236 3
 1403 02fa FB68     		ldr	r3, [r7, #12]
 1404 02fc 1033     		adds	r3, r3, #16
 1405              		.loc 1 236 10
 1406 02fe 7A68     		ldr	r2, [r7, #4]
 1407 0300 9268     		ldr	r2, [r2, #8]	@ float
 1408 0302 5A60     		str	r2, [r3, #4]	@ float
 237:./Src/mpu6050.c **** }
 1409              		.loc 1 237 1
 1410 0304 00BF     		nop
 1411 0306 3C37     		adds	r7, r7, #60
 1412              	.LCFI25:
 1413              		.cfi_def_cfa_offset 4
 1414 0308 BD46     		mov	sp, r7
 1415              	.LCFI26:
 1416              		.cfi_def_cfa_register 13
 1417              		@ sp needed
 1418 030a 5DF8047B 		ldr	r7, [sp], #4
 1419              	.LCFI27:
 1420              		.cfi_restore 7
 1421              		.cfi_def_cfa_offset 0
 1422 030e 7047     		bx	lr
 1423              	.L42:
 1424              		.align	3
 1425              	.L41:
 1426 0310 7B14AE47 		.word	1202590843
 1427 0314 E17AB43F 		.word	1068792545
 1428 0318 7B14AE47 		.word	1202590843
 1429 031c E17AB4BF 		.word	-1078691103
 1430 0320 00000000 		.word	P.2
 1431 0324 00000000 		.word	Q.1
 1432 0328 00000000 		.word	R.0
 1433              		.cfi_endproc
 1434              	.LFE5:
 1436              		.section	.text.mpu6050_static_attitude,"ax",%progbits
 1437              		.align	1
 1438              		.global	mpu6050_static_attitude
 1439              		.syntax unified
 1440              		.thumb
 1441              		.thumb_func
 1443              	mpu6050_static_attitude:
 1444              	.LFB6:
 238:./Src/mpu6050.c **** 
 239:./Src/mpu6050.c **** /**
 240:./Src/mpu6050.c ****  * @brief get static attitude by measuring gravity of accelerometer
 241:./Src/mpu6050.c ****  *
 242:./Src/mpu6050.c ****  * @param accel x, y, z
 243:./Src/mpu6050.c ****  * @param euler roll, pitch, yaw(unknown)
 244:./Src/mpu6050.c ****  */
 245:./Src/mpu6050.c **** void mpu6050_static_attitude(float *accel, float *euler)
 246:./Src/mpu6050.c **** {
 1445              		.loc 1 246 1
 1446              		.cfi_startproc
 1447              		@ args = 0, pretend = 0, frame = 8
 1448              		@ frame_needed = 1, uses_anonymous_args = 0
 1449 0000 80B5     		push	{r7, lr}
 1450              	.LCFI28:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 31


 1451              		.cfi_def_cfa_offset 8
 1452              		.cfi_offset 7, -8
 1453              		.cfi_offset 14, -4
 1454 0002 2DED028B 		vpush.64	{d8}
 1455              	.LCFI29:
 1456              		.cfi_def_cfa_offset 16
 1457              		.cfi_offset 80, -16
 1458              		.cfi_offset 81, -12
 1459 0006 82B0     		sub	sp, sp, #8
 1460              	.LCFI30:
 1461              		.cfi_def_cfa_offset 24
 1462 0008 00AF     		add	r7, sp, #0
 1463              	.LCFI31:
 1464              		.cfi_def_cfa_register 7
 1465 000a 7860     		str	r0, [r7, #4]
 1466 000c 3960     		str	r1, [r7]
 247:./Src/mpu6050.c **** 	euler[0] = atan2f(accel[1], accel[2]) * 180 / PI;
 1467              		.loc 1 247 25
 1468 000e 7B68     		ldr	r3, [r7, #4]
 1469 0010 0433     		adds	r3, r3, #4
 1470              		.loc 1 247 13
 1471 0012 D3ED007A 		vldr.32	s15, [r3]
 1472              		.loc 1 247 35
 1473 0016 7B68     		ldr	r3, [r7, #4]
 1474 0018 0833     		adds	r3, r3, #8
 1475              		.loc 1 247 13
 1476 001a 93ED007A 		vldr.32	s14, [r3]
 1477 001e F0EE470A 		vmov.f32	s1, s14
 1478 0022 B0EE670A 		vmov.f32	s0, s15
 1479 0026 FFF7FEFF 		bl	atan2f
 1480 002a F0EE407A 		vmov.f32	s15, s0
 1481              		.loc 1 247 40
 1482 002e 9FED2A7A 		vldr.32	s14, .L44+8
 1483 0032 67EE877A 		vmul.f32	s15, s15, s14
 1484 0036 B7EEE76A 		vcvt.f64.f32	d6, s15
 1485              		.loc 1 247 46
 1486 003a 9FED255B 		vldr.64	d5, .L44
 1487 003e 86EE057B 		vdiv.f64	d7, d6, d5
 1488 0042 F7EEC77B 		vcvt.f32.f64	s15, d7
 1489              		.loc 1 247 11
 1490 0046 3B68     		ldr	r3, [r7]
 1491 0048 C3ED007A 		vstr.32	s15, [r3]
 248:./Src/mpu6050.c **** 	euler[1] = -atan2f(accel[0],
 1492              		.loc 1 248 14
 1493 004c 7B68     		ldr	r3, [r7, #4]
 1494 004e 93ED008A 		vldr.32	s16, [r3]
 249:./Src/mpu6050.c **** 			   sqrtf(accel[1] * accel[1] + accel[2] * accel[2])) *
 1495              		.loc 1 249 18
 1496 0052 7B68     		ldr	r3, [r7, #4]
 1497 0054 0433     		adds	r3, r3, #4
 1498 0056 93ED007A 		vldr.32	s14, [r3]
 1499              		.loc 1 249 29
 1500 005a 7B68     		ldr	r3, [r7, #4]
 1501 005c 0433     		adds	r3, r3, #4
 1502 005e D3ED007A 		vldr.32	s15, [r3]
 1503              		.loc 1 249 22
 1504 0062 27EE277A 		vmul.f32	s14, s14, s15
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 32


 1505              		.loc 1 249 40
 1506 0066 7B68     		ldr	r3, [r7, #4]
 1507 0068 0833     		adds	r3, r3, #8
 1508 006a D3ED006A 		vldr.32	s13, [r3]
 1509              		.loc 1 249 51
 1510 006e 7B68     		ldr	r3, [r7, #4]
 1511 0070 0833     		adds	r3, r3, #8
 1512 0072 D3ED007A 		vldr.32	s15, [r3]
 1513              		.loc 1 249 44
 1514 0076 66EEA77A 		vmul.f32	s15, s13, s15
 248:./Src/mpu6050.c **** 	euler[1] = -atan2f(accel[0],
 1515              		.loc 1 248 14
 1516 007a 77EE277A 		vadd.f32	s15, s14, s15
 1517 007e B0EE670A 		vmov.f32	s0, s15
 1518 0082 FFF7FEFF 		bl	sqrtf
 1519 0086 F0EE407A 		vmov.f32	s15, s0
 1520 008a F0EE670A 		vmov.f32	s1, s15
 1521 008e B0EE480A 		vmov.f32	s0, s16
 1522 0092 FFF7FEFF 		bl	atan2f
 1523 0096 F0EE407A 		vmov.f32	s15, s0
 248:./Src/mpu6050.c **** 	euler[1] = -atan2f(accel[0],
 1524              		.loc 1 248 13
 1525 009a F1EE677A 		vneg.f32	s15, s15
 1526              		.loc 1 249 57
 1527 009e 9FED0E7A 		vldr.32	s14, .L44+8
 1528 00a2 67EE877A 		vmul.f32	s15, s15, s14
 1529 00a6 B7EEE76A 		vcvt.f64.f32	d6, s15
 250:./Src/mpu6050.c **** 		   180 / PI;
 1530              		.loc 1 250 10
 1531 00aa 9FED095B 		vldr.64	d5, .L44
 1532 00ae 86EE057B 		vdiv.f64	d7, d6, d5
 248:./Src/mpu6050.c **** 	euler[1] = -atan2f(accel[0],
 1533              		.loc 1 248 7
 1534 00b2 3B68     		ldr	r3, [r7]
 1535 00b4 0433     		adds	r3, r3, #4
 1536              		.loc 1 250 10
 1537 00b6 F7EEC77B 		vcvt.f32.f64	s15, d7
 248:./Src/mpu6050.c **** 	euler[1] = -atan2f(accel[0],
 1538              		.loc 1 248 11
 1539 00ba C3ED007A 		vstr.32	s15, [r3]
 251:./Src/mpu6050.c **** }
 1540              		.loc 1 251 1
 1541 00be 00BF     		nop
 1542 00c0 0837     		adds	r7, r7, #8
 1543              	.LCFI32:
 1544              		.cfi_def_cfa_offset 16
 1545 00c2 BD46     		mov	sp, r7
 1546              	.LCFI33:
 1547              		.cfi_def_cfa_register 13
 1548              		@ sp needed
 1549 00c4 BDEC028B 		vldm	sp!, {d8}
 1550              	.LCFI34:
 1551              		.cfi_restore 80
 1552              		.cfi_restore 81
 1553              		.cfi_def_cfa_offset 8
 1554 00c8 80BD     		pop	{r7, pc}
 1555              	.L45:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 33


 1556 00ca 00BFAFF3 		.align	3
 1556      0080
 1557              	.L44:
 1558 00d0 182D4454 		.word	1413754136
 1559 00d4 FB210940 		.word	1074340347
 1560 00d8 00003443 		.word	1127481344
 1561              		.cfi_endproc
 1562              	.LFE6:
 1564              		.section	.text.mpu6050_get_all,"ax",%progbits
 1565              		.align	1
 1566              		.global	mpu6050_get_all
 1567              		.syntax unified
 1568              		.thumb
 1569              		.thumb_func
 1571              	mpu6050_get_all:
 1572              	.LFB7:
 252:./Src/mpu6050.c **** 
 253:./Src/mpu6050.c **** /**
 254:./Src/mpu6050.c ****  * @brief data from i2c read function: X_H > X_L > Y_H > Y_L > Z_H > Z_L
 255:./Src/mpu6050.c ****  * 	  reverse order: X_L > X_H > Y_L > Y_H > Z_L > Z_H
 256:./Src/mpu6050.c ****  * 	  int16 data order: X > Y > Z
 257:./Src/mpu6050.c ****  *
 258:./Src/mpu6050.c ****  * @param data
 259:./Src/mpu6050.c ****  * 	  accelerometer: [0:2]
 260:./Src/mpu6050.c ****  * 	  temperature: [3]
 261:./Src/mpu6050.c ****  * 	  gyroscope: [4:6]
 262:./Src/mpu6050.c ****  */
 263:./Src/mpu6050.c **** void mpu6050_get_all(float *data)
 264:./Src/mpu6050.c **** {
 1573              		.loc 1 264 1
 1574              		.cfi_startproc
 1575              		@ args = 0, pretend = 0, frame = 32
 1576              		@ frame_needed = 1, uses_anonymous_args = 0
 1577 0000 80B5     		push	{r7, lr}
 1578              	.LCFI35:
 1579              		.cfi_def_cfa_offset 8
 1580              		.cfi_offset 7, -8
 1581              		.cfi_offset 14, -4
 1582 0002 8AB0     		sub	sp, sp, #40
 1583              	.LCFI36:
 1584              		.cfi_def_cfa_offset 48
 1585 0004 02AF     		add	r7, sp, #8
 1586              	.LCFI37:
 1587              		.cfi_def_cfa 7, 40
 1588 0006 7860     		str	r0, [r7, #4]
 265:./Src/mpu6050.c **** 	int16_t tmp[7] = {0};
 1589              		.loc 1 265 10
 1590 0008 07F10C03 		add	r3, r7, #12
 1591 000c 0022     		movs	r2, #0
 1592 000e 1A60     		str	r2, [r3]
 1593 0010 5A60     		str	r2, [r3, #4]
 1594 0012 9A60     		str	r2, [r3, #8]
 1595 0014 9A81     		strh	r2, [r3, #12]	@ movhi
 266:./Src/mpu6050.c **** 	int i;
 267:./Src/mpu6050.c **** 
 268:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_ACCEL_XOUTH, 14,
 1596              		.loc 1 268 2
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 34


 1597 0016 07F10C03 		add	r3, r7, #12
 1598 001a 0093     		str	r3, [sp]
 1599 001c 0E23     		movs	r3, #14
 1600 001e 3B22     		movs	r2, #59
 1601 0020 6821     		movs	r1, #104
 1602 0022 4D48     		ldr	r0, .L52+16
 1603 0024 FFF7FEFF 		bl	i2c_read_reg
 269:./Src/mpu6050.c **** 		     (uint8_t *)tmp);
 270:./Src/mpu6050.c **** 
 271:./Src/mpu6050.c **** 	for (i = 0; i < 7; i++) {
 1604              		.loc 1 271 9
 1605 0028 0023     		movs	r3, #0
 1606 002a FB61     		str	r3, [r7, #28]
 1607              		.loc 1 271 2
 1608 002c 80E0     		b	.L47
 1609              	.L51:
 272:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1610              		.loc 1 272 16
 1611 002e FB69     		ldr	r3, [r7, #28]
 1612 0030 5B00     		lsls	r3, r3, #1
 1613 0032 2033     		adds	r3, r3, #32
 1614 0034 3B44     		add	r3, r3, r7
 1615 0036 33F9143C 		ldrsh	r3, [r3, #-20]
 1616              		.loc 1 272 20
 1617 003a 1B02     		lsls	r3, r3, #8
 1618              		.loc 1 272 26
 1619 003c 1AB2     		sxth	r2, r3
 1620              		.loc 1 272 33
 1621 003e FB69     		ldr	r3, [r7, #28]
 1622 0040 5B00     		lsls	r3, r3, #1
 1623 0042 2033     		adds	r3, r3, #32
 1624 0044 3B44     		add	r3, r3, r7
 1625 0046 33F9143C 		ldrsh	r3, [r3, #-20]
 1626              		.loc 1 272 43
 1627 004a 9BB2     		uxth	r3, r3
 1628 004c 1B0A     		lsrs	r3, r3, #8
 1629 004e 9BB2     		uxth	r3, r3
 1630 0050 1BB2     		sxth	r3, r3
 1631              		.loc 1 272 26
 1632 0052 1343     		orrs	r3, r3, r2
 1633 0054 1AB2     		sxth	r2, r3
 1634              		.loc 1 272 10
 1635 0056 FB69     		ldr	r3, [r7, #28]
 1636 0058 5B00     		lsls	r3, r3, #1
 1637 005a 2033     		adds	r3, r3, #32
 1638 005c 3B44     		add	r3, r3, r7
 1639 005e 23F8142C 		strh	r2, [r3, #-20]	@ movhi
 273:./Src/mpu6050.c **** 
 274:./Src/mpu6050.c **** 		if (i < 3) {
 1640              		.loc 1 274 6
 1641 0062 FB69     		ldr	r3, [r7, #28]
 1642 0064 022B     		cmp	r3, #2
 1643 0066 15DC     		bgt	.L48
 275:./Src/mpu6050.c **** 			// tmp[i] -= gyro_bias[i];
 276:./Src/mpu6050.c **** 			data[i] = (float)tmp[i] * accel_unit;
 1644              		.loc 1 276 24
 1645 0068 FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 35


 1646 006a 5B00     		lsls	r3, r3, #1
 1647 006c 2033     		adds	r3, r3, #32
 1648 006e 3B44     		add	r3, r3, r7
 1649 0070 33F9143C 		ldrsh	r3, [r3, #-20]
 1650              		.loc 1 276 14
 1651 0074 07EE903A 		vmov	s15, r3	@ int
 1652 0078 B8EEE77A 		vcvt.f32.s32	s14, s15
 1653              		.loc 1 276 28
 1654 007c 374B     		ldr	r3, .L52+20
 1655 007e D3ED007A 		vldr.32	s15, [r3]
 1656              		.loc 1 276 8
 1657 0082 FB69     		ldr	r3, [r7, #28]
 1658 0084 9B00     		lsls	r3, r3, #2
 1659 0086 7A68     		ldr	r2, [r7, #4]
 1660 0088 1344     		add	r3, r3, r2
 1661              		.loc 1 276 28
 1662 008a 67EE277A 		vmul.f32	s15, s14, s15
 1663              		.loc 1 276 12
 1664 008e C3ED007A 		vstr.32	s15, [r3]
 1665 0092 4AE0     		b	.L49
 1666              	.L48:
 277:./Src/mpu6050.c **** 		} else if (i == 3) {
 1667              		.loc 1 277 13
 1668 0094 FB69     		ldr	r3, [r7, #28]
 1669 0096 032B     		cmp	r3, #3
 1670 0098 1CD1     		bne	.L50
 278:./Src/mpu6050.c **** 			data[i] = (float)tmp[i] * 0.00294117647 + 36.53;
 1671              		.loc 1 278 24
 1672 009a FB69     		ldr	r3, [r7, #28]
 1673 009c 5B00     		lsls	r3, r3, #1
 1674 009e 2033     		adds	r3, r3, #32
 1675 00a0 3B44     		add	r3, r3, r7
 1676 00a2 33F9143C 		ldrsh	r3, [r3, #-20]
 1677              		.loc 1 278 14
 1678 00a6 07EE903A 		vmov	s15, r3	@ int
 1679 00aa F8EEE77A 		vcvt.f32.s32	s15, s15
 1680 00ae B7EEE77A 		vcvt.f64.f32	d7, s15
 1681              		.loc 1 278 28
 1682 00b2 9FED256B 		vldr.64	d6, .L52
 1683 00b6 27EE067B 		vmul.f64	d7, d7, d6
 1684              		.loc 1 278 44
 1685 00ba 9FED256B 		vldr.64	d6, .L52+8
 1686 00be 37EE067B 		vadd.f64	d7, d7, d6
 1687              		.loc 1 278 8
 1688 00c2 FB69     		ldr	r3, [r7, #28]
 1689 00c4 9B00     		lsls	r3, r3, #2
 1690 00c6 7A68     		ldr	r2, [r7, #4]
 1691 00c8 1344     		add	r3, r3, r2
 1692              		.loc 1 278 44
 1693 00ca F7EEC77B 		vcvt.f32.f64	s15, d7
 1694              		.loc 1 278 12
 1695 00ce C3ED007A 		vstr.32	s15, [r3]
 1696 00d2 2AE0     		b	.L49
 1697              	.L50:
 279:./Src/mpu6050.c **** 		} else {
 280:./Src/mpu6050.c **** 			tmp[i] -= gyro_bias[i - 4];
 1698              		.loc 1 280 11
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 36


 1699 00d4 FB69     		ldr	r3, [r7, #28]
 1700 00d6 5B00     		lsls	r3, r3, #1
 1701 00d8 2033     		adds	r3, r3, #32
 1702 00da 3B44     		add	r3, r3, r7
 1703 00dc 33F9143C 		ldrsh	r3, [r3, #-20]
 1704 00e0 9AB2     		uxth	r2, r3
 1705              		.loc 1 280 26
 1706 00e2 FB69     		ldr	r3, [r7, #28]
 1707 00e4 043B     		subs	r3, r3, #4
 1708              		.loc 1 280 23
 1709 00e6 1E49     		ldr	r1, .L52+24
 1710 00e8 31F91330 		ldrsh	r3, [r1, r3, lsl #1]
 1711 00ec 9BB2     		uxth	r3, r3
 1712              		.loc 1 280 11
 1713 00ee D31A     		subs	r3, r2, r3
 1714 00f0 9BB2     		uxth	r3, r3
 1715 00f2 1AB2     		sxth	r2, r3
 1716 00f4 FB69     		ldr	r3, [r7, #28]
 1717 00f6 5B00     		lsls	r3, r3, #1
 1718 00f8 2033     		adds	r3, r3, #32
 1719 00fa 3B44     		add	r3, r3, r7
 1720 00fc 23F8142C 		strh	r2, [r3, #-20]	@ movhi
 281:./Src/mpu6050.c **** 			data[i] = (float)tmp[i] * gyro_unit;
 1721              		.loc 1 281 24
 1722 0100 FB69     		ldr	r3, [r7, #28]
 1723 0102 5B00     		lsls	r3, r3, #1
 1724 0104 2033     		adds	r3, r3, #32
 1725 0106 3B44     		add	r3, r3, r7
 1726 0108 33F9143C 		ldrsh	r3, [r3, #-20]
 1727              		.loc 1 281 14
 1728 010c 07EE903A 		vmov	s15, r3	@ int
 1729 0110 B8EEE77A 		vcvt.f32.s32	s14, s15
 1730              		.loc 1 281 28
 1731 0114 134B     		ldr	r3, .L52+28
 1732 0116 D3ED007A 		vldr.32	s15, [r3]
 1733              		.loc 1 281 8
 1734 011a FB69     		ldr	r3, [r7, #28]
 1735 011c 9B00     		lsls	r3, r3, #2
 1736 011e 7A68     		ldr	r2, [r7, #4]
 1737 0120 1344     		add	r3, r3, r2
 1738              		.loc 1 281 28
 1739 0122 67EE277A 		vmul.f32	s15, s14, s15
 1740              		.loc 1 281 12
 1741 0126 C3ED007A 		vstr.32	s15, [r3]
 1742              	.L49:
 271:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1743              		.loc 1 271 22 discriminator 2
 1744 012a FB69     		ldr	r3, [r7, #28]
 1745 012c 0133     		adds	r3, r3, #1
 1746 012e FB61     		str	r3, [r7, #28]
 1747              	.L47:
 271:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1748              		.loc 1 271 2 discriminator 1
 1749 0130 FB69     		ldr	r3, [r7, #28]
 1750 0132 062B     		cmp	r3, #6
 1751 0134 7FF77BAF 		ble	.L51
 282:./Src/mpu6050.c **** 
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 37


 283:./Src/mpu6050.c **** 			// if ((data[i] < 0.1) && (data[i] > -0.1))
 284:./Src/mpu6050.c **** 			// 	data[i] = 0;
 285:./Src/mpu6050.c **** 		}
 286:./Src/mpu6050.c **** 	}
 287:./Src/mpu6050.c **** }
 1752              		.loc 1 287 1
 1753 0138 00BF     		nop
 1754 013a 00BF     		nop
 1755 013c 2037     		adds	r7, r7, #32
 1756              	.LCFI38:
 1757              		.cfi_def_cfa_offset 8
 1758 013e BD46     		mov	sp, r7
 1759              	.LCFI39:
 1760              		.cfi_def_cfa_register 13
 1761              		@ sp needed
 1762 0140 80BD     		pop	{r7, pc}
 1763              	.L53:
 1764 0142 00BFAFF3 		.align	3
 1764      0080
 1765              	.L52:
 1766 0148 BE650318 		.word	402875838
 1767 014c 1818683F 		.word	1063786520
 1768 0150 A4703D0A 		.word	171798692
 1769 0154 D7434240 		.word	1078084567
 1770 0158 00540040 		.word	1073763328
 1771 015c 00000000 		.word	accel_unit
 1772 0160 00000000 		.word	gyro_bias
 1773 0164 00000000 		.word	gyro_unit
 1774              		.cfi_endproc
 1775              	.LFE7:
 1777              		.section	.text.mpu6050_get_accel,"ax",%progbits
 1778              		.align	1
 1779              		.global	mpu6050_get_accel
 1780              		.syntax unified
 1781              		.thumb
 1782              		.thumb_func
 1784              	mpu6050_get_accel:
 1785              	.LFB8:
 288:./Src/mpu6050.c **** 
 289:./Src/mpu6050.c **** void mpu6050_get_accel(float *data)
 290:./Src/mpu6050.c **** {
 1786              		.loc 1 290 1
 1787              		.cfi_startproc
 1788              		@ args = 0, pretend = 0, frame = 24
 1789              		@ frame_needed = 1, uses_anonymous_args = 0
 1790 0000 80B5     		push	{r7, lr}
 1791              	.LCFI40:
 1792              		.cfi_def_cfa_offset 8
 1793              		.cfi_offset 7, -8
 1794              		.cfi_offset 14, -4
 1795 0002 88B0     		sub	sp, sp, #32
 1796              	.LCFI41:
 1797              		.cfi_def_cfa_offset 40
 1798 0004 02AF     		add	r7, sp, #8
 1799              	.LCFI42:
 1800              		.cfi_def_cfa 7, 32
 1801 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 38


 291:./Src/mpu6050.c **** 	int16_t tmp[3] = {0};
 1802              		.loc 1 291 10
 1803 0008 07F10C03 		add	r3, r7, #12
 1804 000c 0022     		movs	r2, #0
 1805 000e 1A60     		str	r2, [r3]
 1806 0010 9A80     		strh	r2, [r3, #4]	@ movhi
 292:./Src/mpu6050.c **** 	int i;
 293:./Src/mpu6050.c **** 
 294:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_ACCEL_XOUTH, 6,
 1807              		.loc 1 294 2
 1808 0012 07F10C03 		add	r3, r7, #12
 1809 0016 0093     		str	r3, [sp]
 1810 0018 0623     		movs	r3, #6
 1811 001a 3B22     		movs	r2, #59
 1812 001c 6821     		movs	r1, #104
 1813 001e 2048     		ldr	r0, .L57
 1814 0020 FFF7FEFF 		bl	i2c_read_reg
 295:./Src/mpu6050.c **** 		     (uint8_t *)tmp);
 296:./Src/mpu6050.c **** 
 297:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 1815              		.loc 1 297 9
 1816 0024 0023     		movs	r3, #0
 1817 0026 7B61     		str	r3, [r7, #20]
 1818              		.loc 1 297 2
 1819 0028 31E0     		b	.L55
 1820              	.L56:
 298:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1821              		.loc 1 298 16 discriminator 3
 1822 002a 7B69     		ldr	r3, [r7, #20]
 1823 002c 5B00     		lsls	r3, r3, #1
 1824 002e 1833     		adds	r3, r3, #24
 1825 0030 3B44     		add	r3, r3, r7
 1826 0032 33F90C3C 		ldrsh	r3, [r3, #-12]
 1827              		.loc 1 298 20 discriminator 3
 1828 0036 1B02     		lsls	r3, r3, #8
 1829              		.loc 1 298 26 discriminator 3
 1830 0038 1AB2     		sxth	r2, r3
 1831              		.loc 1 298 33 discriminator 3
 1832 003a 7B69     		ldr	r3, [r7, #20]
 1833 003c 5B00     		lsls	r3, r3, #1
 1834 003e 1833     		adds	r3, r3, #24
 1835 0040 3B44     		add	r3, r3, r7
 1836 0042 33F90C3C 		ldrsh	r3, [r3, #-12]
 1837              		.loc 1 298 43 discriminator 3
 1838 0046 9BB2     		uxth	r3, r3
 1839 0048 1B0A     		lsrs	r3, r3, #8
 1840 004a 9BB2     		uxth	r3, r3
 1841 004c 1BB2     		sxth	r3, r3
 1842              		.loc 1 298 26 discriminator 3
 1843 004e 1343     		orrs	r3, r3, r2
 1844 0050 1AB2     		sxth	r2, r3
 1845              		.loc 1 298 10 discriminator 3
 1846 0052 7B69     		ldr	r3, [r7, #20]
 1847 0054 5B00     		lsls	r3, r3, #1
 1848 0056 1833     		adds	r3, r3, #24
 1849 0058 3B44     		add	r3, r3, r7
 1850 005a 23F80C2C 		strh	r2, [r3, #-12]	@ movhi
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 39


 299:./Src/mpu6050.c **** 		data[i] = (float)tmp[i] * accel_unit;
 1851              		.loc 1 299 23 discriminator 3
 1852 005e 7B69     		ldr	r3, [r7, #20]
 1853 0060 5B00     		lsls	r3, r3, #1
 1854 0062 1833     		adds	r3, r3, #24
 1855 0064 3B44     		add	r3, r3, r7
 1856 0066 33F90C3C 		ldrsh	r3, [r3, #-12]
 1857              		.loc 1 299 13 discriminator 3
 1858 006a 07EE903A 		vmov	s15, r3	@ int
 1859 006e B8EEE77A 		vcvt.f32.s32	s14, s15
 1860              		.loc 1 299 27 discriminator 3
 1861 0072 0C4B     		ldr	r3, .L57+4
 1862 0074 D3ED007A 		vldr.32	s15, [r3]
 1863              		.loc 1 299 7 discriminator 3
 1864 0078 7B69     		ldr	r3, [r7, #20]
 1865 007a 9B00     		lsls	r3, r3, #2
 1866 007c 7A68     		ldr	r2, [r7, #4]
 1867 007e 1344     		add	r3, r3, r2
 1868              		.loc 1 299 27 discriminator 3
 1869 0080 67EE277A 		vmul.f32	s15, s14, s15
 1870              		.loc 1 299 11 discriminator 3
 1871 0084 C3ED007A 		vstr.32	s15, [r3]
 297:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1872              		.loc 1 297 22 discriminator 3
 1873 0088 7B69     		ldr	r3, [r7, #20]
 1874 008a 0133     		adds	r3, r3, #1
 1875 008c 7B61     		str	r3, [r7, #20]
 1876              	.L55:
 297:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 1877              		.loc 1 297 2 discriminator 1
 1878 008e 7B69     		ldr	r3, [r7, #20]
 1879 0090 022B     		cmp	r3, #2
 1880 0092 CADD     		ble	.L56
 300:./Src/mpu6050.c **** 	}
 301:./Src/mpu6050.c **** }
 1881              		.loc 1 301 1
 1882 0094 00BF     		nop
 1883 0096 00BF     		nop
 1884 0098 1837     		adds	r7, r7, #24
 1885              	.LCFI43:
 1886              		.cfi_def_cfa_offset 8
 1887 009a BD46     		mov	sp, r7
 1888              	.LCFI44:
 1889              		.cfi_def_cfa_register 13
 1890              		@ sp needed
 1891 009c 80BD     		pop	{r7, pc}
 1892              	.L58:
 1893 009e 00BF     		.align	2
 1894              	.L57:
 1895 00a0 00540040 		.word	1073763328
 1896 00a4 00000000 		.word	accel_unit
 1897              		.cfi_endproc
 1898              	.LFE8:
 1900              		.section	.text.mpu6050_get_temperature,"ax",%progbits
 1901              		.align	1
 1902              		.global	mpu6050_get_temperature
 1903              		.syntax unified
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 40


 1904              		.thumb
 1905              		.thumb_func
 1907              	mpu6050_get_temperature:
 1908              	.LFB9:
 302:./Src/mpu6050.c **** 
 303:./Src/mpu6050.c **** /*
 304:./Src/mpu6050.c ****  * Temperature in degree C = (TEMP_OUT register value as a signed quantity) /
 305:./Src/mpu6050.c ****  * 340 + 36.53
 306:./Src/mpu6050.c ****  */
 307:./Src/mpu6050.c **** float mpu6050_get_temperature(void)
 308:./Src/mpu6050.c **** {
 1909              		.loc 1 308 1
 1910              		.cfi_startproc
 1911              		@ args = 0, pretend = 0, frame = 8
 1912              		@ frame_needed = 1, uses_anonymous_args = 0
 1913 0000 80B5     		push	{r7, lr}
 1914              	.LCFI45:
 1915              		.cfi_def_cfa_offset 8
 1916              		.cfi_offset 7, -8
 1917              		.cfi_offset 14, -4
 1918 0002 84B0     		sub	sp, sp, #16
 1919              	.LCFI46:
 1920              		.cfi_def_cfa_offset 24
 1921 0004 02AF     		add	r7, sp, #8
 1922              	.LCFI47:
 1923              		.cfi_def_cfa 7, 16
 309:./Src/mpu6050.c **** 	int16_t tmp = 0;
 1924              		.loc 1 309 10
 1925 0006 0023     		movs	r3, #0
 1926 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 310:./Src/mpu6050.c **** 
 311:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_TEMP_OUTH, 2,
 1927              		.loc 1 311 2
 1928 000a BB1D     		adds	r3, r7, #6
 1929 000c 0093     		str	r3, [sp]
 1930 000e 0223     		movs	r3, #2
 1931 0010 4122     		movs	r2, #65
 1932 0012 6821     		movs	r1, #104
 1933 0014 1848     		ldr	r0, .L61+16
 1934 0016 FFF7FEFF 		bl	i2c_read_reg
 312:./Src/mpu6050.c **** 		     (uint8_t *)&tmp);
 313:./Src/mpu6050.c **** 	tmp = (tmp << 8) | ((tmp >> 8) & 0xFF);
 1935              		.loc 1 313 13
 1936 001a B7F90630 		ldrsh	r3, [r7, #6]
 1937 001e 1B02     		lsls	r3, r3, #8
 1938              		.loc 1 313 19
 1939 0020 1AB2     		sxth	r2, r3
 1940              		.loc 1 313 33
 1941 0022 B7F90630 		ldrsh	r3, [r7, #6]
 1942 0026 9BB2     		uxth	r3, r3
 1943 0028 1B0A     		lsrs	r3, r3, #8
 1944 002a 9BB2     		uxth	r3, r3
 1945 002c 1BB2     		sxth	r3, r3
 1946              		.loc 1 313 19
 1947 002e 1343     		orrs	r3, r3, r2
 1948 0030 1BB2     		sxth	r3, r3
 1949              		.loc 1 313 6
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 41


 1950 0032 FB80     		strh	r3, [r7, #6]	@ movhi
 314:./Src/mpu6050.c **** 	return (float)tmp * 0.00294117647 + 36.53;
 1951              		.loc 1 314 9
 1952 0034 B7F90630 		ldrsh	r3, [r7, #6]
 1953 0038 07EE903A 		vmov	s15, r3	@ int
 1954 003c F8EEE77A 		vcvt.f32.s32	s15, s15
 1955 0040 B7EEE77A 		vcvt.f64.f32	d7, s15
 1956              		.loc 1 314 20
 1957 0044 9FED086B 		vldr.64	d6, .L61
 1958 0048 27EE067B 		vmul.f64	d7, d7, d6
 1959              		.loc 1 314 36
 1960 004c 9FED086B 		vldr.64	d6, .L61+8
 1961 0050 37EE067B 		vadd.f64	d7, d7, d6
 1962 0054 F7EEC77B 		vcvt.f32.f64	s15, d7
 315:./Src/mpu6050.c **** }
 1963              		.loc 1 315 1
 1964 0058 B0EE670A 		vmov.f32	s0, s15
 1965 005c 0837     		adds	r7, r7, #8
 1966              	.LCFI48:
 1967              		.cfi_def_cfa_offset 8
 1968 005e BD46     		mov	sp, r7
 1969              	.LCFI49:
 1970              		.cfi_def_cfa_register 13
 1971              		@ sp needed
 1972 0060 80BD     		pop	{r7, pc}
 1973              	.L62:
 1974 0062 00BFAFF3 		.align	3
 1974      0080
 1975              	.L61:
 1976 0068 BE650318 		.word	402875838
 1977 006c 1818683F 		.word	1063786520
 1978 0070 A4703D0A 		.word	171798692
 1979 0074 D7434240 		.word	1078084567
 1980 0078 00540040 		.word	1073763328
 1981              		.cfi_endproc
 1982              	.LFE9:
 1984              		.section	.text.mpu6050_get_gyro,"ax",%progbits
 1985              		.align	1
 1986              		.global	mpu6050_get_gyro
 1987              		.syntax unified
 1988              		.thumb
 1989              		.thumb_func
 1991              	mpu6050_get_gyro:
 1992              	.LFB10:
 316:./Src/mpu6050.c **** 
 317:./Src/mpu6050.c **** void mpu6050_get_gyro(float *data)
 318:./Src/mpu6050.c **** {
 1993              		.loc 1 318 1
 1994              		.cfi_startproc
 1995              		@ args = 0, pretend = 0, frame = 24
 1996              		@ frame_needed = 1, uses_anonymous_args = 0
 1997 0000 80B5     		push	{r7, lr}
 1998              	.LCFI50:
 1999              		.cfi_def_cfa_offset 8
 2000              		.cfi_offset 7, -8
 2001              		.cfi_offset 14, -4
 2002 0002 88B0     		sub	sp, sp, #32
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 42


 2003              	.LCFI51:
 2004              		.cfi_def_cfa_offset 40
 2005 0004 02AF     		add	r7, sp, #8
 2006              	.LCFI52:
 2007              		.cfi_def_cfa 7, 32
 2008 0006 7860     		str	r0, [r7, #4]
 319:./Src/mpu6050.c **** 	int16_t tmp[3] = {0};
 2009              		.loc 1 319 10
 2010 0008 07F10C03 		add	r3, r7, #12
 2011 000c 0022     		movs	r2, #0
 2012 000e 1A60     		str	r2, [r3]
 2013 0010 9A80     		strh	r2, [r3, #4]	@ movhi
 320:./Src/mpu6050.c **** 	int i;
 321:./Src/mpu6050.c **** 
 322:./Src/mpu6050.c **** 	i2c_read_reg(I2C1, MPU6050_ADDRESS, MPU6050_GYRO_XOUTH, 6,
 2014              		.loc 1 322 2
 2015 0012 07F10C03 		add	r3, r7, #12
 2016 0016 0093     		str	r3, [sp]
 2017 0018 0623     		movs	r3, #6
 2018 001a 4322     		movs	r2, #67
 2019 001c 6821     		movs	r1, #104
 2020 001e 4248     		ldr	r0, .L71+16
 2021 0020 FFF7FEFF 		bl	i2c_read_reg
 323:./Src/mpu6050.c **** 		     (uint8_t *)&tmp);
 324:./Src/mpu6050.c **** 
 325:./Src/mpu6050.c **** 	for (i = 0; i < 3; i++) {
 2022              		.loc 1 325 9
 2023 0024 0023     		movs	r3, #0
 2024 0026 7B61     		str	r3, [r7, #20]
 2025              		.loc 1 325 2
 2026 0028 6BE0     		b	.L64
 2027              	.L68:
 326:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 2028              		.loc 1 326 16
 2029 002a 7B69     		ldr	r3, [r7, #20]
 2030 002c 5B00     		lsls	r3, r3, #1
 2031 002e 1833     		adds	r3, r3, #24
 2032 0030 3B44     		add	r3, r3, r7
 2033 0032 33F90C3C 		ldrsh	r3, [r3, #-12]
 2034              		.loc 1 326 20
 2035 0036 1B02     		lsls	r3, r3, #8
 2036              		.loc 1 326 26
 2037 0038 1AB2     		sxth	r2, r3
 2038              		.loc 1 326 33
 2039 003a 7B69     		ldr	r3, [r7, #20]
 2040 003c 5B00     		lsls	r3, r3, #1
 2041 003e 1833     		adds	r3, r3, #24
 2042 0040 3B44     		add	r3, r3, r7
 2043 0042 33F90C3C 		ldrsh	r3, [r3, #-12]
 2044              		.loc 1 326 43
 2045 0046 9BB2     		uxth	r3, r3
 2046 0048 1B0A     		lsrs	r3, r3, #8
 2047 004a 9BB2     		uxth	r3, r3
 2048 004c 1BB2     		sxth	r3, r3
 2049              		.loc 1 326 26
 2050 004e 1343     		orrs	r3, r3, r2
 2051 0050 1AB2     		sxth	r2, r3
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 43


 2052              		.loc 1 326 10
 2053 0052 7B69     		ldr	r3, [r7, #20]
 2054 0054 5B00     		lsls	r3, r3, #1
 2055 0056 1833     		adds	r3, r3, #24
 2056 0058 3B44     		add	r3, r3, r7
 2057 005a 23F80C2C 		strh	r2, [r3, #-12]	@ movhi
 327:./Src/mpu6050.c **** 		tmp[i] -= gyro_bias[i];
 2058              		.loc 1 327 10
 2059 005e 7B69     		ldr	r3, [r7, #20]
 2060 0060 5B00     		lsls	r3, r3, #1
 2061 0062 1833     		adds	r3, r3, #24
 2062 0064 3B44     		add	r3, r3, r7
 2063 0066 33F90C3C 		ldrsh	r3, [r3, #-12]
 2064 006a 9AB2     		uxth	r2, r3
 2065              		.loc 1 327 22
 2066 006c 2F49     		ldr	r1, .L71+20
 2067 006e 7B69     		ldr	r3, [r7, #20]
 2068 0070 31F91330 		ldrsh	r3, [r1, r3, lsl #1]
 2069 0074 9BB2     		uxth	r3, r3
 2070              		.loc 1 327 10
 2071 0076 D31A     		subs	r3, r2, r3
 2072 0078 9BB2     		uxth	r3, r3
 2073 007a 1AB2     		sxth	r2, r3
 2074 007c 7B69     		ldr	r3, [r7, #20]
 2075 007e 5B00     		lsls	r3, r3, #1
 2076 0080 1833     		adds	r3, r3, #24
 2077 0082 3B44     		add	r3, r3, r7
 2078 0084 23F80C2C 		strh	r2, [r3, #-12]	@ movhi
 328:./Src/mpu6050.c **** 		data[i] = (float)tmp[i] * gyro_unit;
 2079              		.loc 1 328 23
 2080 0088 7B69     		ldr	r3, [r7, #20]
 2081 008a 5B00     		lsls	r3, r3, #1
 2082 008c 1833     		adds	r3, r3, #24
 2083 008e 3B44     		add	r3, r3, r7
 2084 0090 33F90C3C 		ldrsh	r3, [r3, #-12]
 2085              		.loc 1 328 13
 2086 0094 07EE903A 		vmov	s15, r3	@ int
 2087 0098 B8EEE77A 		vcvt.f32.s32	s14, s15
 2088              		.loc 1 328 27
 2089 009c 244B     		ldr	r3, .L71+24
 2090 009e D3ED007A 		vldr.32	s15, [r3]
 2091              		.loc 1 328 7
 2092 00a2 7B69     		ldr	r3, [r7, #20]
 2093 00a4 9B00     		lsls	r3, r3, #2
 2094 00a6 7A68     		ldr	r2, [r7, #4]
 2095 00a8 1344     		add	r3, r3, r2
 2096              		.loc 1 328 27
 2097 00aa 67EE277A 		vmul.f32	s15, s14, s15
 2098              		.loc 1 328 11
 2099 00ae C3ED007A 		vstr.32	s15, [r3]
 329:./Src/mpu6050.c **** 
 330:./Src/mpu6050.c **** 		if ((data[i] < 0.1) && (data[i] > -0.1))
 2100              		.loc 1 330 12
 2101 00b2 7B69     		ldr	r3, [r7, #20]
 2102 00b4 9B00     		lsls	r3, r3, #2
 2103 00b6 7A68     		ldr	r2, [r7, #4]
 2104 00b8 1344     		add	r3, r3, r2
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 44


 2105 00ba D3ED007A 		vldr.32	s15, [r3]
 2106 00be B7EEE77A 		vcvt.f64.f32	d7, s15
 2107              		.loc 1 330 6
 2108 00c2 9FED156B 		vldr.64	d6, .L71
 2109 00c6 B4EEC67B 		vcmpe.f64	d7, d6
 2110 00ca F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2111 00ce 15D5     		bpl	.L65
 2112              		.loc 1 330 31 discriminator 1
 2113 00d0 7B69     		ldr	r3, [r7, #20]
 2114 00d2 9B00     		lsls	r3, r3, #2
 2115 00d4 7A68     		ldr	r2, [r7, #4]
 2116 00d6 1344     		add	r3, r3, r2
 2117 00d8 D3ED007A 		vldr.32	s15, [r3]
 2118 00dc B7EEE77A 		vcvt.f64.f32	d7, s15
 2119              		.loc 1 330 23 discriminator 1
 2120 00e0 9FED0F6B 		vldr.64	d6, .L71+8
 2121 00e4 B4EEC67B 		vcmpe.f64	d7, d6
 2122 00e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2123 00ec 06DD     		ble	.L65
 331:./Src/mpu6050.c **** 			data[i] = 0;
 2124              		.loc 1 331 8
 2125 00ee 7B69     		ldr	r3, [r7, #20]
 2126 00f0 9B00     		lsls	r3, r3, #2
 2127 00f2 7A68     		ldr	r2, [r7, #4]
 2128 00f4 1344     		add	r3, r3, r2
 2129              		.loc 1 331 12
 2130 00f6 4FF00002 		mov	r2, #0
 2131 00fa 1A60     		str	r2, [r3]	@ float
 2132              	.L65:
 325:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 2133              		.loc 1 325 22 discriminator 2
 2134 00fc 7B69     		ldr	r3, [r7, #20]
 2135 00fe 0133     		adds	r3, r3, #1
 2136 0100 7B61     		str	r3, [r7, #20]
 2137              	.L64:
 325:./Src/mpu6050.c **** 		tmp[i] = (tmp[i] << 8) | ((tmp[i] >> 8) & 0xFF);
 2138              		.loc 1 325 2 discriminator 1
 2139 0102 7B69     		ldr	r3, [r7, #20]
 2140 0104 022B     		cmp	r3, #2
 2141 0106 90DD     		ble	.L68
 332:./Src/mpu6050.c **** 	}
 333:./Src/mpu6050.c **** }...
 2142              		.loc 1 333 1
 2143 0108 00BF     		nop
 2144 010a 00BF     		nop
 2145 010c 1837     		adds	r7, r7, #24
 2146              	.LCFI53:
 2147              		.cfi_def_cfa_offset 8
 2148 010e BD46     		mov	sp, r7
 2149              	.LCFI54:
 2150              		.cfi_def_cfa_register 13
 2151              		@ sp needed
 2152 0110 80BD     		pop	{r7, pc}
 2153              	.L72:
 2154 0112 00BFAFF3 		.align	3
 2154      0080
 2155              	.L71:
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 45


 2156 0118 9A999999 		.word	-1717986918
 2157 011c 9999B93F 		.word	1069128089
 2158 0120 9A999999 		.word	-1717986918
 2159 0124 9999B9BF 		.word	-1078355559
 2160 0128 00540040 		.word	1073763328
 2161 012c 00000000 		.word	gyro_bias
 2162 0130 00000000 		.word	gyro_unit
 2163              		.cfi_endproc
 2164              	.LFE10:
 2166              		.section	.bss.P.2,"aw",%nobits
 2167              		.align	2
 2170              	P.2:
 2171 0000 00000000 		.space	32
 2171      00000000 
 2171      00000000 
 2171      00000000 
 2171      00000000 
 2172              		.section	.data.Q.1,"aw"
 2173              		.align	2
 2176              	Q.1:
 2177 0000 0AD7A33D 		.word	1034147594
 2178              		.section	.data.R.0,"aw"
 2179              		.align	2
 2182              	R.0:
 2183 0000 0000003F 		.word	1056964608
 2184              		.text
 2185              	.Letext0:
 2186              		.file 2 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_types.h"
 2187              		.file 3 "e:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 2188              		.file 4 "./Inc/stm32f767zi_hal.h"
ARM GAS  C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s 			page 46


DEFINED SYMBOLS
                            *ABS*:00000000 mpu6050.c
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:19     .bss.gyro_unit:00000000 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:22     .bss.gyro_unit:00000000 gyro_unit
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:25     .bss.accel_unit:00000000 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:28     .bss.accel_unit:00000000 accel_unit
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:31     .bss.gyro_bias:00000000 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:34     .bss.gyro_bias:00000000 gyro_bias
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:37     .text.mpu6050_power_on:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:43     .text.mpu6050_power_on:00000000 mpu6050_power_on
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:85     .text.mpu6050_power_on:00000034 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:91     .text.mpu6050_selftest:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:97     .text.mpu6050_selftest:00000000 mpu6050_selftest
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:401    .text.mpu6050_selftest:00000250 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:414    .text.mpu6050_default_init:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:420    .text.mpu6050_default_init:00000000 mpu6050_default_init
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:497    .text.mpu6050_default_init:00000064 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:506    .text.mpu6050_init:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:512    .text.mpu6050_init:00000000 mpu6050_init
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:693    .text.calibration:00000000 calibration
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:680    .text.mpu6050_init:00000104 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:688    .text.calibration:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:991    .text.calibration:00000218 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1001   .text.mpu6050_kalman:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1007   .text.mpu6050_kalman:00000000 mpu6050_kalman
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1426   .text.mpu6050_kalman:00000310 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:2170   .bss.P.2:00000000 P.2
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:2176   .data.Q.1:00000000 Q.1
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:2182   .data.R.0:00000000 R.0
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1437   .text.mpu6050_static_attitude:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1443   .text.mpu6050_static_attitude:00000000 mpu6050_static_attitude
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1558   .text.mpu6050_static_attitude:000000d0 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1565   .text.mpu6050_get_all:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1571   .text.mpu6050_get_all:00000000 mpu6050_get_all
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1766   .text.mpu6050_get_all:00000148 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1778   .text.mpu6050_get_accel:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1784   .text.mpu6050_get_accel:00000000 mpu6050_get_accel
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1895   .text.mpu6050_get_accel:000000a0 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1901   .text.mpu6050_get_temperature:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1907   .text.mpu6050_get_temperature:00000000 mpu6050_get_temperature
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1976   .text.mpu6050_get_temperature:00000068 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1985   .text.mpu6050_get_gyro:00000000 $t
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:1991   .text.mpu6050_get_gyro:00000000 mpu6050_get_gyro
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:2156   .text.mpu6050_get_gyro:00000118 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:2167   .bss.P.2:00000000 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:2173   .data.Q.1:00000000 $d
C:\Users\DCS_LAB\AppData\Local\Temp\cc4CAphk.s:2179   .data.R.0:00000000 $d

UNDEFINED SYMBOLS
systick_delay_ms
i2c_write_reg
i2c_read_reg
powf
sqrtf
atan2f
